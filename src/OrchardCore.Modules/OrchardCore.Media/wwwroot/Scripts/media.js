/*
** NOTE: This file is generated by Gulp and should not be edited directly!
** Any changes made directly to this file will be overwritten next time its asset group is processed by Gulp.
*/

function initializeAttachedMediaField(el, idOfUploadButton, uploadAction, mediaItemUrl, allowMultiple, allowMediaText, allowAnchors, tempUploadFolder, maxUploadChunkSize) {
  var target = $(document.getElementById($(el).data('for')));
  var initialPaths = target.data("init");
  var mediaFieldEditor = $(el);
  var idprefix = mediaFieldEditor.attr("id");
  var mediaFieldApp;
  mediaFieldApps.push(mediaFieldApp = new Vue({
    el: mediaFieldEditor.get(0),
    data: {
      mediaItems: [],
      selectedMedia: null,
      smallThumbs: false,
      idPrefix: idprefix,
      initialized: false,
      allowMediaText: allowMediaText,
      backupMediaText: '',
      allowAnchors: allowAnchors,
      backupAnchor: null,
      mediaTextmodal: null,
      anchoringModal: null
    },
    created: function created() {
      var self = this;
      self.currentPrefs = JSON.parse(localStorage.getItem('mediaFieldPrefs'));
    },
    computed: {
      paths: {
        get: function get() {
          var mediaPaths = [];
          if (!this.initialized) {
            return JSON.stringify(initialPaths);
          }
          this.mediaItems.forEach(function (x) {
            if (x.mediaPath === 'not-found') {
              return;
            }
            mediaPaths.push({
              path: x.mediaPath,
              isRemoved: x.isRemoved,
              isNew: x.isNew,
              mediaText: x.mediaText,
              anchor: x.anchor,
              attachedFileName: x.attachedFileName
            });
          });
          return JSON.stringify(mediaPaths);
        },
        set: function set(values) {
          var self = this;
          var mediaPaths = values || [];
          var signal = $.Deferred();
          var items = [];
          var length = 0;
          mediaPaths.forEach(function (x, i) {
            items.push({
              name: ' ' + x.path,
              mime: '',
              mediaPath: '',
              anchor: x.anchor,
              attachedFileName: x.attachedFileName
            }); // don't remove the space. Something different is needed or it wont react when the real name arrives.
            promise = $.when(signal).done(function () {
              $.ajax({
                url: mediaItemUrl + "?path=" + encodeURIComponent(x.path),
                method: 'GET',
                success: function success(data) {
                  data.vuekey = data.name + i.toString(); // Because a unique key is required by Vue on v-for 
                  data.mediaText = x.mediaText; // This value is not returned from the ajax call.
                  data.anchor = x.anchor; // This value is not returned from the ajax call.
                  data.attachedFileName = x.attachedFileName; // This value is not returned from the ajax call.
                  items.splice(i, 1, data);
                  if (items.length === ++length) {
                    items.forEach(function (x) {
                      self.mediaItems.push(x);
                    });
                    self.initialized = true;
                  }
                },
                error: function error(_error) {
                  console.log(JSON.stringify(_error));
                  items.splice(i, 1, {
                    name: x.path,
                    mime: '',
                    mediaPath: 'not-found',
                    mediaText: '',
                    anchor: {
                      x: 0.5,
                      y: 0.5
                    },
                    attachedFileName: x.attachedFileName
                  });
                  if (items.length === ++length) {
                    items.forEach(function (x) {
                      self.mediaItems.push(x);
                    });
                    self.initialized = true;
                  }
                }
              });
            });
          });
          signal.resolve();
        }
      },
      fileSize: function fileSize() {
        return Math.round(this.selectedMedia.size / 1024);
      },
      canAddMedia: function canAddMedia() {
        var nonRemovedMediaItems = [];
        for (var i = 0; i < this.mediaItems.length; i++) {
          if (!this.mediaItems[i].isRemoved) {
            nonRemovedMediaItems.push(this.mediaItems[i]);
          }
        }
        return nonRemovedMediaItems.length === 0 || nonRemovedMediaItems.length > 0 && allowMultiple;
      },
      thumbSize: function thumbSize() {
        return this.smallThumbs ? 120 : 240;
      },
      currentPrefs: {
        get: function get() {
          return {
            smallThumbs: this.smallThumbs
          };
        },
        set: function set(newPrefs) {
          if (!newPrefs) {
            return;
          }
          this.smallThumbs = newPrefs.smallThumbs;
        }
      }
    },
    mounted: function mounted() {
      var self = this;
      self.paths = initialPaths;
      self.$on('selectAndDeleteMediaRequested', function (media) {
        self.selectAndDeleteMedia(media);
      });
      self.$on('selectMediaRequested', function (media) {
        self.selectMedia(media);
      });
      var selector = '#' + idOfUploadButton;
      var editorId = mediaFieldEditor.attr('id');
      var chunkedFileUploadId = randomUUID();
      $(selector).fileupload({
        limitConcurrentUploads: 20,
        dropZone: $('#' + editorId),
        dataType: 'json',
        url: uploadAction,
        maxChunkSize: maxUploadChunkSize,
        add: function add(e, data) {
          var count = data.files.length;
          var i;
          for (i = 0; i < count; i++) {
            data.files[i].uploadName = self.getUniqueId() + data.files[i].name;
            data.files[i].attachedFileName = data.files[i].name;
          }
          data.submit();
        },
        formData: function formData() {
          var antiForgeryToken = $("input[name=__RequestVerificationToken]").val();
          return [{
            name: 'path',
            value: tempUploadFolder
          }, {
            name: '__RequestVerificationToken',
            value: antiForgeryToken
          }, {
            name: '__chunkedFileUploadId',
            value: chunkedFileUploadId
          }];
        },
        done: function done(e, data) {
          var newMediaItems = [];
          var errormsg = "";
          if (data.result.files.length > 0) {
            for (var i = 0; i < data.result.files.length; i++) {
              data.result.files[i].isNew = true;
              //if error is defined probably the file type is not allowed
              if (data.result.files[i].error === undefined || data.result.files[i].error === null) {
                data.result.files[i].attachedFileName = data.files[i].attachedFileName;
                newMediaItems.push(data.result.files[i]);
              } else errormsg += data.result.files[i].error + "\n";
            }
          }
          if (errormsg !== "") {
            alert(errormsg);
            return;
          }
          console.log(newMediaItems);
          if (newMediaItems.length > 1 && allowMultiple === false) {
            alert($('#onlyOneItemMessage').val());
            mediaFieldApp.mediaItems.push(newMediaItems[0]);
            mediaFieldApp.initialized = true;
          } else {
            mediaFieldApp.mediaItems = mediaFieldApp.mediaItems.concat(newMediaItems);
            mediaFieldApp.initialized = true;
          }
        },
        error: function error(jqXHR, textStatus, errorThrown) {
          console.log('Error on upload.');
          console.log(jqXHR);
          console.log(textStatus);
          console.log(errorThrown);
        }
      }).on('fileuploadchunkbeforesend', function (e, options) {
        var file = options.files[0];
        // Here we replace the blob with a File object to ensure the file name and others are preserved for the backend.
        options.blob = new File([options.blob], file.name, {
          type: file.type,
          lastModified: file.lastModified
        });
      });
    },
    methods: {
      selectMedia: function selectMedia(media) {
        this.selectedMedia = media;
      },
      getUniqueId: function getUniqueId() {
        return 'xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx'.replace(/[xy]/g, function (c) {
          var r = Math.random() * 16 | 0,
            v = c === 'x' ? r : r & 0x3 | 0x8;
          return v.toString(16);
        });
      },
      removeSelected: function removeSelected(event) {
        var removed = {};
        if (this.selectedMedia) {
          var index = this.mediaItems && this.mediaItems.indexOf(this.selectedMedia);
          if (index > -1) {
            removed = this.mediaItems[index];
            removed.isRemoved = true;
            //this.mediaItems.splice([index], 1, removed);
            this.mediaItems.splice(index, 1);
          }
        } else {
          // The remove button can also remove a unique media item
          if (this.mediaItems.length === 1) {
            removed = this.mediaItems[index];
            removed.isRemoved = true;
            //this.mediaItems.splice(0, 1, removed);                        
            this.mediaItems.splice(0, 1);
          }
        }
        this.selectedMedia = null;
      },
      showMediaTextModal: function showMediaTextModal(event) {
        this.mediaTextModal = new bootstrap.Modal(this.$refs.mediaTextModal);
        this.mediaTextModal.show();
        this.backupMediaText = this.selectedMedia.mediaText;
      },
      cancelMediaTextModal: function cancelMediaTextModal(event) {
        this.mediaTextModal.hide();
        this.selectedMedia.mediaText = this.backupMediaText;
      },
      showAnchorModal: function showAnchorModal(event) {
        this.anchoringModal = new bootstrap.Modal(this.$refs.anchoringModal);
        this.anchoringModal.show();
        // Cause a refresh to recalc heights.
        this.selectedMedia.anchor = {
          x: this.selectedMedia.anchor.x,
          y: this.selectedMedia.anchor.y
        };
        this.backupAnchor = this.selectedMedia.anchor;
      },
      cancelAnchoringModal: function cancelAnchoringModal(event) {
        this.anchoringModal.hide();
        this.selectedMedia.anchor = this.backupAnchor;
      },
      resetAnchor: function resetAnchor(event) {
        this.selectedMedia.anchor = {
          x: 0.5,
          y: 0.5
        };
      },
      onAnchorDrop: function onAnchorDrop(event) {
        var image = this.$refs.anchorImage;
        this.selectedMedia.anchor = {
          x: event.offsetX / image.clientWidth,
          y: event.offsetY / image.clientHeight
        };
      },
      anchorLeft: function anchorLeft() {
        if (this.$refs.anchorImage && this.$refs.modalBody && this.selectedMedia) {
          // When image is shrunk compare against the modal body.
          var offset = (this.$refs.modalBody.clientWidth - this.$refs.anchorImage.clientWidth) / 2;
          var position = this.selectedMedia.anchor.x * this.$refs.anchorImage.clientWidth + offset;
          if (position < 17) {
            // Adjust so the target doesn't show outside image.
            position = 17;
          } else {
            position = position - 8; // Adjust to hit the mouse pointer.
          }

          return position + 'px';
        } else {
          return '0';
        }
      },
      anchorTop: function anchorTop() {
        if (this.$refs.anchorImage && this.selectedMedia) {
          var position = this.selectedMedia.anchor.y * this.$refs.anchorImage.clientHeight;
          if (position < 15) {
            // Adjustment so the target doesn't show outside image.
            position = 15;
          } else {
            position = position + 5; // Adjust to hit the mouse pointer.
          }

          return position + 'px';
        } else {
          return '0';
        }
      },
      setAnchor: function setAnchor(event) {
        var image = this.$refs.anchorImage;
        this.selectedMedia.anchor = {
          x: event.offsetX / image.clientWidth,
          y: event.offsetY / image.clientHeight
        };
      },
      addMediaFiles: function addMediaFiles(files) {
        if (files.length > 1 && allowMultiple === false) {
          alert($('#onlyOneItemMessage').val());
          mediaFieldApp.mediaItems.push(files[0]);
          mediaFieldApp.initialized = true;
        } else {
          mediaFieldApp.mediaItems = mediaFieldApp.mediaItems.concat(files);
          mediaFieldApp.initialized = true;
        }
      },
      selectAndDeleteMedia: function selectAndDeleteMedia(media) {
        var self = this;
        self.selectedMedia = media;
        // setTimeout because sometimes 
        // removeSelected was called even before the media was set.
        setTimeout(function () {
          self.removeSelected();
        }, 100);
      }
    },
    watch: {
      mediaItems: {
        deep: true,
        handler: function handler() {
          // Trigger preview rendering
          setTimeout(function () {
            $(document).trigger('contentpreview:render');
          }, 100);
        }
      },
      currentPrefs: function currentPrefs(newPrefs) {
        localStorage.setItem('mediaFieldPrefs', JSON.stringify(newPrefs));
      }
    }
  }));
}
function initializeMediaField(el, modalBodyElement, mediaItemUrl, allowMultiple, allowMediaText, allowAnchors) {
  //BagPart create a script section without other DOM elements
  if (el === null) return;
  var target = $(document.getElementById($(el).data('for')));
  var initialPaths = target.data("init");
  var mediaFieldEditor = $(el);
  var idprefix = mediaFieldEditor.attr("id");
  var mediaFieldApp;

  //when hide modal detach media app to avoid issue on BagPart
  modalBodyElement.addEventListener('hidden.bs.modal', function (event) {
    $("#mediaApp").appendTo('body');
    $("#mediaApp").hide();
  });
  mediaFieldApps.push(mediaFieldApp = new Vue({
    el: mediaFieldEditor.get(0),
    data: {
      mediaItems: [],
      selectedMedia: null,
      smallThumbs: false,
      idPrefix: idprefix,
      initialized: false,
      allowMediaText: allowMediaText,
      backupMediaText: '',
      allowAnchors: allowAnchors,
      backupAnchor: null,
      mediaTextModal: null,
      anchoringModal: null
    },
    created: function created() {
      var self = this;
      self.currentPrefs = JSON.parse(localStorage.getItem('mediaFieldPrefs'));
    },
    computed: {
      paths: {
        get: function get() {
          var mediaPaths = [];
          if (!this.initialized) {
            return JSON.stringify(initialPaths);
          }
          this.mediaItems.forEach(function (x) {
            if (x.mediaPath === 'not-found') {
              return;
            }
            mediaPaths.push({
              path: x.mediaPath,
              mediaText: x.mediaText,
              anchor: x.anchor
            });
          });
          return JSON.stringify(mediaPaths);
        },
        set: function set(values) {
          var self = this;
          var mediaPaths = values || [];
          var signal = $.Deferred();
          var items = [];
          var length = 0;
          mediaPaths.forEach(function (x, i) {
            items.push({
              name: ' ' + x.path,
              mime: '',
              mediaPath: ''
            }); // don't remove the space. Something different is needed or it wont react when the real name arrives.
            promise = $.when(signal).done(function () {
              $.ajax({
                url: mediaItemUrl + "?path=" + encodeURIComponent(x.path),
                method: 'GET',
                success: function success(data) {
                  data.vuekey = data.name + i.toString();
                  data.mediaText = x.mediaText; // This value is not returned from the ajax call.
                  data.anchor = x.anchor; // This value is not returned from the ajax call.
                  items.splice(i, 1, data);
                  if (items.length === ++length) {
                    items.forEach(function (y) {
                      self.mediaItems.push(y);
                    });
                    self.initialized = true;
                  }
                },
                error: function error(_error) {
                  console.log(_error);
                  items.splice(i, 1, {
                    name: x.path,
                    mime: '',
                    mediaPath: 'not-found',
                    mediaText: '',
                    anchor: {
                      x: 0,
                      y: 0
                    }
                  });
                  if (items.length === ++length) {
                    items.forEach(function (x) {
                      self.mediaItems.push(x);
                    });
                    self.initialized = true;
                  }
                }
              });
            });
          });
          signal.resolve();
        }
      },
      fileSize: function fileSize() {
        return Math.round(this.selectedMedia.size / 1024);
      },
      canAddMedia: function canAddMedia() {
        return this.mediaItems.length === 0 || this.mediaItems.length > 0 && allowMultiple;
      },
      thumbSize: function thumbSize() {
        return this.smallThumbs ? 120 : 240;
      },
      currentPrefs: {
        get: function get() {
          return {
            smallThumbs: this.smallThumbs
          };
        },
        set: function set(newPrefs) {
          if (!newPrefs) {
            return;
          }
          this.smallThumbs = newPrefs.smallThumbs;
        }
      }
    },
    mounted: function mounted() {
      var self = this;
      self.paths = initialPaths;
      self.$on('selectAndDeleteMediaRequested', function (media) {
        self.selectAndDeleteMedia(media);
      });
      self.$on('selectMediaRequested', function (media) {
        self.selectMedia(media);
      });
      self.$on('filesUploaded', function (files) {
        self.addMediaFiles(files);
      });
    },
    methods: {
      selectMedia: function selectMedia(media) {
        this.selectedMedia = media;
      },
      showModal: function showModal(event) {
        var self = this;
        if (self.canAddMedia) {
          $("#mediaApp").appendTo($(modalBodyElement).find('.modal-body'));
          $("#mediaApp").show();
          var modal = new bootstrap.Modal(modalBodyElement);
          modal.show();
          $(modalBodyElement).find('.mediaFieldSelectButton').off('click').on('click', function (v) {
            self.addMediaFiles(mediaApp.selectedMedias);

            // we don't want the included medias to be still selected the next time we open the modal.
            mediaApp.selectedMedias = [];
            modal.hide();
            return true;
          });
        }
      },
      showMediaTextModal: function showMediaTextModal(event) {
        this.mediaTextModal = new bootstrap.Modal(this.$refs.mediaTextModal);
        this.mediaTextModal.show();
        this.backupMediaText = this.selectedMedia.mediaText;
      },
      cancelMediaTextModal: function cancelMediaTextModal(event) {
        this.mediaTextModal.hide();
        this.selectedMedia.mediaText = this.backupMediaText;
      },
      showAnchorModal: function showAnchorModal(event) {
        this.anchoringModal = new bootstrap.Modal(this.$refs.anchoringModal);
        this.anchoringModal.show();
        // Cause a refresh to recalc heights.
        this.selectedMedia.anchor = {
          x: this.selectedMedia.anchor.x,
          y: this.selectedMedia.anchor.y
        };
        this.backupAnchor = this.selectedMedia.anchor;
      },
      cancelAnchoringModal: function cancelAnchoringModal(event) {
        this.anchoringModal.hide();
        this.selectedMedia.anchor = this.backupAnchor;
      },
      resetAnchor: function resetAnchor(event) {
        this.selectedMedia.anchor = {
          x: 0.5,
          y: 0.5
        };
      },
      onAnchorDrop: function onAnchorDrop(event) {
        var image = this.$refs.anchorImage;
        this.selectedMedia.anchor = {
          x: event.offsetX / image.clientWidth,
          y: event.offsetY / image.clientHeight
        };
      },
      anchorLeft: function anchorLeft() {
        if (this.$refs.anchorImage && this.$refs.modalBody && this.selectedMedia) {
          // When image is shrunk compare against the modal body.
          var offset = (this.$refs.modalBody.clientWidth - this.$refs.anchorImage.clientWidth) / 2;
          var position = this.selectedMedia.anchor.x * this.$refs.anchorImage.clientWidth + offset;
          var anchorIcon = Math.round(this.$refs.modalBody.querySelector('.icon-media-anchor').clientWidth);
          if (Number.isInteger(anchorIcon)) {
            position = position - anchorIcon / 2;
          }
          return position + 'px';
        } else {
          return '0';
        }
      },
      anchorTop: function anchorTop() {
        if (this.$refs.anchorImage && this.selectedMedia) {
          var position = this.selectedMedia.anchor.y * this.$refs.anchorImage.clientHeight;
          return position + 'px';
        } else {
          return '0';
        }
      },
      setAnchor: function setAnchor(event) {
        var image = this.$refs.anchorImage;
        this.selectedMedia.anchor = {
          x: event.offsetX / image.clientWidth,
          y: event.offsetY / image.clientHeight
        };
      },
      addMediaFiles: function addMediaFiles(files) {
        if (files.length > 1 && allowMultiple === false) {
          alert($('#onlyOneItemMessage').val());
          mediaFieldApp.mediaItems.push(files[0]);
          mediaFieldApp.initialized = true;
        } else {
          mediaFieldApp.mediaItems = mediaFieldApp.mediaItems.concat(files);
          mediaFieldApp.initialized = true;
        }
      },
      removeSelected: function removeSelected(event) {
        if (this.selectedMedia) {
          var index = this.mediaItems && this.mediaItems.indexOf(this.selectedMedia);
          if (index > -1) {
            this.mediaItems.splice(index, 1);
          }
        } else {
          // The remove button can also remove a unique media item
          if (this.mediaItems.length === 1) {
            this.mediaItems.splice(0, 1);
          }
        }
        this.selectedMedia = null;
      },
      selectAndDeleteMedia: function selectAndDeleteMedia(media) {
        var self = this;
        self.selectedMedia = media;
        // setTimeout because sometimes removeSelected was called even before the media was set.
        setTimeout(function () {
          self.removeSelected();
        }, 100);
      }
    },
    watch: {
      mediaItems: {
        deep: true,
        handler: function handler() {
          // Trigger preview rendering
          setTimeout(function () {
            $(document).trigger('contentpreview:render');
          }, 100);
        }
      },
      currentPrefs: function currentPrefs(newPrefs) {
        localStorage.setItem('mediaFieldPrefs', JSON.stringify(newPrefs));
      }
    }
  }));
}
// different media field editors will add themselves to this array
var mediaFieldApps = [];
// <media-field-thumbs-container> component 
// different media field editors share this component to present the thumbs.
Vue.component('mediaFieldThumbsContainer', {
  template: '\
       <div :id="idPrefix + \'_mediaContainerMain\'" v-cloak>\
         <div v-if="mediaItems.length < 1" class="card text-center">\
             <div class= "card-body" >\
                <span class="hint">{{T.noImages}}</span>\
             </div>\
         </div>\
         <draggable :list="mediaItems" tag="ol" class="row media-items-grid" >\
            <li v-for="media in mediaItems"\
                :key="media.vuekey" \
                class="media-container-main-list-item card p-0"\
                :style="{width: thumbSize + 2 + \'px\'}"\
                :class="{selected: selectedMedia == media}"\
                v-on:click="selectMedia(media)" v-if="!media.isRemoved">\
                    <div v-if="media.mediaPath!== \'not-found\'">\
                        <div class="thumb-container" :style="{height: thumbSize + \'px\'}" >\
                            <img v-if="media.mime.startsWith(\'image\')" \
                            :src="buildMediaUrl(media.url, thumbSize)" \
                            :data-mime="media.mime"\
                            :style="{maxHeight: thumbSize + \'px\' , maxWidth: thumbSize + \'px\'}"/>\
                            <i v-else :class="getfontAwesomeClassNameForFileName(media.name, \'fa-4x\')" :data-mime="media.mime"></i>\
                         </div>\
                         <div class="media-container-main-item-title card-body">\
                                <a href="javascript:;" class="btn btn-light btn-sm float-end inline-media-button delete-button"\
                                    v-on:click.stop="selectAndDeleteMedia(media)"><i class="fa-solid fa-trash" aria-hidden="true"></i></a>\
                                <a :href="media.url" target="_blank" class="btn btn-light btn-sm float-end inline-media-button view-button""><i class="fa-solid fa-download" aria-hidden="true"></i></a> \
                                <span class="media-filename card-text small" :title="media.mediaPath">{{ media.isNew ? media.name.substr(36) : media.name }}</span>\
                         </div>\
                    </div>\
                    <div v-else>\
                        <div class="thumb-container flex-column" :style="{height: thumbSize + \'px\'}">\
                            <i class="fa-solid fa-ban text-danger d-block" aria-hidden="true"></i>\
                            <span class="text-danger small d-block">{{ T.mediaNotFound }}</span>\
                            <span class="text-danger small d-block text-center">{{ T.discardWarning }}</span>\
                        </div>\
                        <div class="media-container-main-item-title card-body">\
                            <a href="javascript:;" class="btn btn-light btn-sm float-end inline-media-button delete-button"\
                                v-on:click.stop="selectAndDeleteMedia(media)"><i class="fa-solid fa-trash" aria-hidden="true"></i></a>\
                            <span class="media-filename card-text small text-danger" :title="media.name">{{ media.name }}</span>\
                        </div>\
                   </div>\
            </li>\
         </draggable>\
       </div>\
    ',
  data: function data() {
    return {
      T: {}
    };
  },
  props: {
    mediaItems: Array,
    selectedMedia: Object,
    thumbSize: Number,
    idPrefix: String
  },
  created: function created() {
    var self = this;

    // retrieving localized strings from view
    self.T.mediaNotFound = $('#t-media-not-found').val();
    self.T.discardWarning = $('#t-discard-warning').val();
    self.T.noImages = $('#t-no-images').val();
  },
  methods: {
    selectAndDeleteMedia: function selectAndDeleteMedia(media) {
      this.$parent.$emit('selectAndDeleteMediaRequested', media);
    },
    selectMedia: function selectMedia(media) {
      this.$parent.$emit('selectMediaRequested', media);
    },
    buildMediaUrl: function buildMediaUrl(url, thumbSize) {
      return url + (url.indexOf('?') == -1 ? '?' : '&') + 'width=' + thumbSize + '&height=' + thumbSize;
    },
    getfontAwesomeClassNameForFileName: function getfontAwesomeClassNameForFilename(filename, thumbsize) {
      return getClassNameForFilename(filename) + ' ' + thumbsize;
    }
  }
});
function _typeof(o) { "@babel/helpers - typeof"; return _typeof = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function (o) { return typeof o; } : function (o) { return o && "function" == typeof Symbol && o.constructor === Symbol && o !== Symbol.prototype ? "symbol" : typeof o; }, _typeof(o); }
function ownKeys(e, r) { var t = Object.keys(e); if (Object.getOwnPropertySymbols) { var o = Object.getOwnPropertySymbols(e); r && (o = o.filter(function (r) { return Object.getOwnPropertyDescriptor(e, r).enumerable; })), t.push.apply(t, o); } return t; }
function _objectSpread(e) { for (var r = 1; r < arguments.length; r++) { var t = null != arguments[r] ? arguments[r] : {}; r % 2 ? ownKeys(Object(t), !0).forEach(function (r) { _defineProperty(e, r, t[r]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(e, Object.getOwnPropertyDescriptors(t)) : ownKeys(Object(t)).forEach(function (r) { Object.defineProperty(e, r, Object.getOwnPropertyDescriptor(t, r)); }); } return e; }
function _defineProperty(obj, key, value) { key = _toPropertyKey(key); if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }
function _toPropertyKey(arg) { var key = _toPrimitive(arg, "string"); return _typeof(key) === "symbol" ? key : String(key); }
function _toPrimitive(input, hint) { if (_typeof(input) !== "object" || input === null) return input; var prim = input[Symbol.toPrimitive]; if (prim !== undefined) { var res = prim.call(input, hint || "default"); if (_typeof(res) !== "object") return res; throw new TypeError("@@toPrimitive must return a primitive value."); } return (hint === "string" ? String : Number)(input); }
var initialized;
var mediaApp;
var bus = new Vue();
function initializeMediaApplication(displayMediaApplication, mediaApplicationUrl, pathBase) {
  if (initialized) {
    return;
  }
  initialized = true;
  if (!mediaApplicationUrl) {
    console.error('mediaApplicationUrl variable is not defined');
  }
  $.ajax({
    url: mediaApplicationUrl,
    method: 'GET',
    success: function success(content) {
      $('.ta-content').append(content);
      $(document).trigger('mediaapplication:ready');
      var _root = {
        name: $('#t-mediaLibrary').text(),
        path: '',
        folder: '',
        isDirectory: true
      };
      mediaApp = new Vue({
        el: '#mediaApp',
        data: {
          selectedFolder: {},
          mediaItems: [],
          selectedMedias: [],
          errors: [],
          dragDropThumbnail: new Image(),
          smallThumbs: false,
          gridView: false,
          mediaFilter: '',
          sortBy: '',
          sortAsc: true,
          itemsInPage: []
        },
        created: function created() {
          var self = this;
          self.dragDropThumbnail.src = (pathBase || '') + '/OrchardCore.Media/Images/drag-thumbnail.png';
          bus.$on('folderSelected', function (folder) {
            self.selectedFolder = folder;
          });
          bus.$on('folderDeleted', function () {
            self.selectRoot();
          });
          bus.$on('folderAdded', function (folder) {
            self.selectedFolder = folder;
            folder.selected = true;
          });
          bus.$on('mediaListMoved', function (errorInfo) {
            self.loadFolder(self.selectedFolder);
            if (errorInfo) {
              self.errors.push(errorInfo);
            }
          });
          bus.$on('mediaRenamed', function (newName, newPath, oldPath, newUrl) {
            var media = self.mediaItems.filter(function (item) {
              return item.mediaPath === oldPath;
            })[0];
            media.mediaPath = newPath;
            media.name = newName;
            media.url = newUrl;
          });
          bus.$on('createFolderRequested', function (media) {
            self.createFolder();
          });
          bus.$on('deleteFolderRequested', function (media) {
            self.deleteFolder();
          });

          // common handlers for actions in both grid and table view.
          bus.$on('sortChangeRequested', function (newSort) {
            self.changeSort(newSort);
          });
          bus.$on('mediaToggleRequested', function (media) {
            self.toggleSelectionOfMedia(media);
          });
          bus.$on('renameMediaRequested', function (media) {
            self.renameMedia(media);
          });
          bus.$on('deleteMediaRequested', function (media) {
            self.deleteMediaItem(media);
          });
          bus.$on('mediaDragStartRequested', function (media, e) {
            self.handleDragStart(media, e);
          });

          // handler for pager events
          bus.$on('pagerEvent', function (itemsInPage) {
            self.itemsInPage = itemsInPage;
            self.selectedMedias = [];
          });
          if (!localStorage.getItem('mediaApplicationPrefs')) {
            self.selectedFolder = _root;
            return;
          }
          self.currentPrefs = JSON.parse(localStorage.getItem('mediaApplicationPrefs'));
        },
        computed: {
          isHome: function isHome() {
            return this.selectedFolder == _root;
          },
          parents: function parents() {
            var p = [];
            parentFolder = this.selectedFolder;
            while (parentFolder && parentFolder.path != '') {
              p.unshift(parentFolder);
              parentFolder = parentFolder.parent;
            }
            return p;
          },
          root: function root() {
            return _root;
          },
          filteredMediaItems: function filteredMediaItems() {
            var self = this;
            self.selectedMedias = [];
            var filtered = self.mediaItems.filter(function (item) {
              return item.name.toLowerCase().indexOf(self.mediaFilter.toLowerCase()) > -1;
            });
            switch (self.sortBy) {
              case 'size':
                filtered.sort(function (a, b) {
                  return self.sortAsc ? a.size - b.size : b.size - a.size;
                });
                break;
              case 'mime':
                filtered.sort(function (a, b) {
                  return self.sortAsc ? a.mime.toLowerCase().localeCompare(b.mime.toLowerCase()) : b.mime.toLowerCase().localeCompare(a.mime.toLowerCase());
                });
                break;
              case 'lastModify':
                filtered.sort(function (a, b) {
                  return self.sortAsc ? a.lastModify - b.lastModify : b.lastModify - a.lastModify;
                });
                break;
              default:
                filtered.sort(function (a, b) {
                  return self.sortAsc ? a.name.toLowerCase().localeCompare(b.name.toLowerCase()) : b.name.toLowerCase().localeCompare(a.name.toLowerCase());
                });
            }
            return filtered;
          },
          hiddenCount: function hiddenCount() {
            var result = 0;
            result = this.mediaItems.length - this.filteredMediaItems.length;
            return result;
          },
          thumbSize: function thumbSize() {
            return this.smallThumbs ? 100 : 240;
          },
          currentPrefs: {
            get: function get() {
              return {
                smallThumbs: this.smallThumbs,
                selectedFolder: this.selectedFolder,
                gridView: this.gridView
              };
            },
            set: function set(newPrefs) {
              if (!newPrefs) {
                return;
              }
              this.smallThumbs = newPrefs.smallThumbs;
              this.selectedFolder = newPrefs.selectedFolder;
              this.gridView = newPrefs.gridView;
            }
          }
        },
        watch: {
          currentPrefs: function currentPrefs(newPrefs) {
            localStorage.setItem('mediaApplicationPrefs', JSON.stringify(newPrefs));
          },
          selectedFolder: function selectedFolder(newFolder) {
            this.mediaFilter = '';
            this.selectedFolder = newFolder;
            this.loadFolder(newFolder);
          }
        },
        mounted: function mounted() {
          this.$refs.rootFolder.toggle();
        },
        methods: {
          uploadUrl: function uploadUrl() {
            if (!this.selectedFolder) {
              return null;
            }
            var urlValue = $('#uploadFiles').val();
            return urlValue + (urlValue.indexOf('?') == -1 ? '?' : '&') + "path=" + encodeURIComponent(this.selectedFolder.path);
          },
          selectRoot: function selectRoot() {
            this.selectedFolder = this.root;
          },
          loadFolder: function loadFolder(folder) {
            this.errors = [];
            this.selectedMedias = [];
            var self = this;
            var mediaUrl = $('#getMediaItemsUrl').val();
            console.log(folder.path);
            $.ajax({
              url: mediaUrl + (mediaUrl.indexOf('?') == -1 ? '?' : '&') + "path=" + encodeURIComponent(folder.path),
              method: 'GET',
              success: function success(data) {
                data.forEach(function (item) {
                  item.open = false;
                });
                self.mediaItems = data;
                self.selectedMedias = [];
                self.sortBy = '';
                self.sortAsc = true;
              },
              error: function error(_error) {
                console.log('error loading folder:' + folder.path);
                self.selectRoot();
              }
            });
          },
          selectAll: function selectAll() {
            this.selectedMedias = [];
            for (var i = 0; i < this.filteredMediaItems.length; i++) {
              this.selectedMedias.push(this.filteredMediaItems[i]);
            }
          },
          unSelectAll: function unSelectAll() {
            this.selectedMedias = [];
          },
          invertSelection: function invertSelection() {
            var temp = [];
            for (var i = 0; i < this.filteredMediaItems.length; i++) {
              if (this.isMediaSelected(this.filteredMediaItems[i]) == false) {
                temp.push(this.filteredMediaItems[i]);
              }
            }
            this.selectedMedias = temp;
          },
          toggleSelectionOfMedia: function toggleSelectionOfMedia(media) {
            if (this.isMediaSelected(media) == true) {
              this.selectedMedias.splice(this.selectedMedias.indexOf(media), 1);
            } else {
              this.selectedMedias.push(media);
            }
          },
          isMediaSelected: function isMediaSelected(media) {
            var result = this.selectedMedias.some(function (element, index, array) {
              return element.url.toLowerCase() === media.url.toLowerCase();
            });
            return result;
          },
          deleteFolder: function deleteFolder() {
            var folder = this.selectedFolder;
            var self = this;
            // The root folder can't be deleted
            if (folder == this.root.model) {
              return;
            }
            confirmDialog(_objectSpread(_objectSpread({}, $("#deleteFolder").data()), {}, {
              callback: function callback(resp) {
                if (resp) {
                  $.ajax({
                    url: $('#deleteFolderUrl').val() + "?path=" + encodeURIComponent(folder.path),
                    method: 'POST',
                    data: {
                      __RequestVerificationToken: $("input[name='__RequestVerificationToken']").val()
                    },
                    success: function success(data) {
                      bus.$emit('deleteFolder', folder);
                    },
                    error: function error(_error2) {
                      console.error(_error2.responseText);
                    }
                  });
                }
              }
            }));
          },
          createFolder: function createFolder() {
            $('#createFolderModal-errors').empty();
            var modal = bootstrap.Modal.getOrCreateInstance($('#createFolderModal'));
            modal.show();
            $('#createFolderModal .modal-body input').val('').focus();
          },
          renameMedia: function renameMedia(media) {
            $('#renameMediaModal-errors').empty();
            var modal = bootstrap.Modal.getOrCreateInstance($('#renameMediaModal'));
            modal.show();
            $('#old-item-name').val(media.name);
            $('#renameMediaModal .modal-body input').val(media.name).focus();
          },
          selectAndDeleteMedia: function selectAndDeleteMedia(media) {
            this.deleteMedia();
          },
          deleteMediaList: function deleteMediaList() {
            var mediaList = this.selectedMedias;
            var self = this;
            if (mediaList.length < 1) {
              return;
            }
            confirmDialog(_objectSpread(_objectSpread({}, $("#deleteMedia").data()), {}, {
              callback: function callback(resp) {
                if (resp) {
                  var paths = [];
                  for (var i = 0; i < mediaList.length; i++) {
                    paths.push(mediaList[i].mediaPath);
                  }
                  $.ajax({
                    url: $('#deleteMediaListUrl').val(),
                    method: 'POST',
                    data: {
                      __RequestVerificationToken: $("input[name='__RequestVerificationToken']").val(),
                      paths: paths
                    },
                    success: function success(data) {
                      for (var i = 0; i < self.selectedMedias.length; i++) {
                        var index = self.mediaItems && self.mediaItems.indexOf(self.selectedMedias[i]);
                        if (index > -1) {
                          self.mediaItems.splice(index, 1);
                          bus.$emit('mediaDeleted', self.selectedMedias[i]);
                        }
                      }
                      self.selectedMedias = [];
                    },
                    error: function error(_error3) {
                      console.error(_error3.responseText);
                    }
                  });
                }
              }
            }));
          },
          deleteMediaItem: function deleteMediaItem(media) {
            var self = this;
            if (!media) {
              return;
            }
            confirmDialog(_objectSpread(_objectSpread({}, $("#deleteMedia").data()), {}, {
              callback: function callback(resp) {
                if (resp) {
                  $.ajax({
                    url: $('#deleteMediaUrl').val() + "?path=" + encodeURIComponent(media.mediaPath),
                    method: 'POST',
                    data: {
                      __RequestVerificationToken: $("input[name='__RequestVerificationToken']").val()
                    },
                    success: function success(data) {
                      var index = self.mediaItems && self.mediaItems.indexOf(media);
                      if (index > -1) {
                        self.mediaItems.splice(index, 1);
                        bus.$emit('mediaDeleted', media);
                      }
                      //self.selectedMedia = null;
                    },

                    error: function error(_error4) {
                      console.error(_error4.responseText);
                    }
                  });
                }
              }
            }));
          },
          handleDragStart: function handleDragStart(media, e) {
            // first part of move media to folder:
            // prepare the data that will be handled by the folder component on drop event
            var mediaNames = [];
            this.selectedMedias.forEach(function (item) {
              mediaNames.push(item.name);
            });

            // in case the user drags an unselected item, we select it first
            if (this.isMediaSelected(media) == false) {
              mediaNames.push(media.name);
              this.selectedMedias.push(media);
            }
            e.dataTransfer.setData('mediaNames', JSON.stringify(mediaNames));
            e.dataTransfer.setData('sourceFolder', this.selectedFolder.path);
            e.dataTransfer.setDragImage(this.dragDropThumbnail, 10, 10);
            e.dataTransfer.effectAllowed = 'move';
          },
          handleScrollWhileDrag: function handleScrollWhileDrag(e) {
            if (e.clientY < 150) {
              window.scrollBy(0, -10);
            }
            if (e.clientY > window.innerHeight - 100) {
              window.scrollBy(0, 10);
            }
          },
          changeSort: function changeSort(newSort) {
            if (this.sortBy == newSort) {
              this.sortAsc = !this.sortAsc;
            } else {
              this.sortAsc = true;
              this.sortBy = newSort;
            }
          }
        }
      });
      $('#create-folder-name').keypress(function (e) {
        var key = e.which;
        if (key == 13) {
          // the enter key code
          $('#modalFooterOk').click();
          return false;
        }
      });
      $('#modalFooterOk').on('click', function (e) {
        var name = $('#create-folder-name').val();
        if (name === "") {
          return;
        }
        $.ajax({
          url: $('#createFolderUrl').val() + "?path=" + encodeURIComponent(mediaApp.selectedFolder.path) + "&name=" + encodeURIComponent(name),
          method: 'POST',
          data: {
            __RequestVerificationToken: $("input[name='__RequestVerificationToken']").val()
          },
          success: function success(data) {
            bus.$emit('addFolder', mediaApp.selectedFolder, data);
            var modal = bootstrap.Modal.getOrCreateInstance($('#createFolderModal'));
            modal.hide();
          },
          error: function error(_error5) {
            $('#createFolderModal-errors').empty();
            var errorMessage = JSON.parse(_error5.responseText).value;
            $('<div class="alert alert-danger" role="alert"></div>').text(errorMessage).appendTo($('#createFolderModal-errors'));
          }
        });
      });
      $('#renameMediaModalFooterOk').on('click', function (e) {
        var newName = $('#new-item-name').val();
        var oldName = $('#old-item-name').val();
        if (newName === "") {
          return;
        }
        var currentFolder = mediaApp.selectedFolder.path + "/";
        if (currentFolder === "/") {
          currentFolder = "";
        }
        var newPath = currentFolder + newName;
        var oldPath = currentFolder + oldName;
        if (newPath.toLowerCase() === oldPath.toLowerCase()) {
          var modal = bootstrap.Modal.getOrCreateInstance($('#renameMediaModal'));
          modal.hide();
          return;
        }
        $.ajax({
          url: $('#renameMediaUrl').val() + "?oldPath=" + encodeURIComponent(oldPath) + "&newPath=" + encodeURIComponent(newPath),
          method: 'POST',
          data: {
            __RequestVerificationToken: $("input[name='__RequestVerificationToken']").val()
          },
          success: function success(data) {
            var modal = bootstrap.Modal.getOrCreateInstance($('#renameMediaModal'));
            modal.hide();
            bus.$emit('mediaRenamed', newName, newPath, oldPath, data.newUrl);
          },
          error: function error(_error6) {
            $('#renameMediaModal-errors').empty();
            var errorMessage = JSON.parse(_error6.responseText).value;
            $('<div class="alert alert-danger" role="alert"></div>').text(errorMessage).appendTo($('#renameMediaModal-errors'));
          }
        });
      });
      if (displayMediaApplication) {
        document.getElementById('mediaApp').style.display = "";
      }
      $(document).trigger('mediaApp:ready');
    },
    error: function error(_error7) {
      console.error(_error7.responseText);
    }
  });
}
$(document).on('mediaApp:ready', function () {
  var chunkedFileUploadId = randomUUID();
  $('#fileupload').fileupload({
    dropZone: $('#mediaApp'),
    limitConcurrentUploads: 20,
    dataType: 'json',
    url: $('#uploadFiles').val(),
    maxChunkSize: Number($('#maxUploadChunkSize').val() || 0),
    formData: function formData() {
      var antiForgeryToken = $("input[name=__RequestVerificationToken]").val();
      return [{
        name: 'path',
        value: mediaApp.selectedFolder.path
      }, {
        name: '__RequestVerificationToken',
        value: antiForgeryToken
      }, {
        name: '__chunkedFileUploadId',
        value: chunkedFileUploadId
      }];
    },
    done: function done(e, data) {
      $.each(data.result.files, function (index, file) {
        if (!file.error) {
          mediaApp.mediaItems.push(file);
        }
      });
    }
  }).on('fileuploadchunkbeforesend', function (e, options) {
    var file = options.files[0];
    // Here we replace the blob with a File object to ensure the file name and others are preserved for the backend.
    options.blob = new File([options.blob], file.name, {
      type: file.type,
      lastModified: file.lastModified
    });
  });
});
$(document).bind('dragover', function (e) {
  var dt = e.originalEvent.dataTransfer;
  if (dt.types && (dt.types.indexOf ? dt.types.indexOf('Files') != -1 : dt.types.contains('Files'))) {
    var dropZone = $('#customdropzone'),
      timeout = window.dropZoneTimeout;
    if (timeout) {
      clearTimeout(timeout);
    } else {
      dropZone.addClass('in');
    }
    var hoveredDropZone = $(e.target).closest(dropZone);
    window.dropZoneTimeout = setTimeout(function () {
      window.dropZoneTimeout = null;
      dropZone.removeClass('in');
    }, 100);
  }
});
function _typeof(o) { "@babel/helpers - typeof"; return _typeof = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function (o) { return typeof o; } : function (o) { return o && "function" == typeof Symbol && o.constructor === Symbol && o !== Symbol.prototype ? "symbol" : typeof o; }, _typeof(o); }
function ownKeys(e, r) { var t = Object.keys(e); if (Object.getOwnPropertySymbols) { var o = Object.getOwnPropertySymbols(e); r && (o = o.filter(function (r) { return Object.getOwnPropertyDescriptor(e, r).enumerable; })), t.push.apply(t, o); } return t; }
function _objectSpread(e) { for (var r = 1; r < arguments.length; r++) { var t = null != arguments[r] ? arguments[r] : {}; r % 2 ? ownKeys(Object(t), !0).forEach(function (r) { _defineProperty(e, r, t[r]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(e, Object.getOwnPropertyDescriptors(t)) : ownKeys(Object(t)).forEach(function (r) { Object.defineProperty(e, r, Object.getOwnPropertyDescriptor(t, r)); }); } return e; }
function _defineProperty(obj, key, value) { key = _toPropertyKey(key); if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }
function _toPropertyKey(arg) { var key = _toPrimitive(arg, "string"); return _typeof(key) === "symbol" ? key : String(key); }
function _toPrimitive(input, hint) { if (_typeof(input) !== "object" || input === null) return input; var prim = input[Symbol.toPrimitive]; if (prim !== undefined) { var res = prim.call(input, hint || "default"); if (_typeof(res) !== "object") return res; throw new TypeError("@@toPrimitive must return a primitive value."); } return (hint === "string" ? String : Number)(input); }
// <folder> component
Vue.component('folder', {
  template: "\n        <li :class=\"{selected: isSelected}\" \n                v-on:dragleave.prevent = \"handleDragLeave($event);\" \n                v-on:dragover.prevent.stop=\"handleDragOver($event);\" \n                v-on:drop.prevent.stop = \"moveMediaToFolder(model, $event)\" >\n            <div :class=\"{folderhovered: isHovered , treeroot: level == 1}\" >\n                <a href=\"javascript:;\" :style=\"{ padding".concat(document.dir == "ltr" ? "Left" : "Right", ":padding + 'px' }\" v-on:click=\"select\"  draggable=\"false\" class=\"folder-menu-item\">\n                  <span v-on:click.stop=\"toggle\" class=\"expand\" :class=\"{opened: open, closed: !open, empty: empty}\"><i v-if=\"open\" class=\"fa-solid fa-chevron-").concat(document.dir == "ltr" ? "right" : "left", "\"></i></span> \n                  <div class=\"folder-name ms-2\">{{model.name}}</div>\n                    <div class=\"btn-group folder-actions\" >\n                            <a v-cloak href=\"javascript:;\" class=\"btn btn-sm\" v-on:click=\"createFolder\" v-if=\"isSelected || isRoot\"><i class=\"fa-solid fa-plus\" aria-hidden=\"true\"></i></a>\n                            <a v-cloak href=\"javascript:;\" class=\"btn btn-sm\" v-on:click=\"deleteFolder\" v-if=\"isSelected && !isRoot\"><i class=\"fa-solid fa-trash\" aria-hidden=\"true\"></i></a>\n                    </div>\n                </a>\n            </div>\n            <ol v-show=\"open\">\n                <folder v-for=\"folder in children\"\n                        :key=\"folder.path\"\n                        :model=\"folder\"\n                        :selected-in-media-app=\"selectedInMediaApp\"\n                        :level=\"level + 1\">\n                </folder>\n            </ol>\n        </li>\n        "),
  props: {
    model: Object,
    selectedInMediaApp: Object,
    level: Number
  },
  data: function data() {
    return {
      open: false,
      children: null,
      // not initialized state (for lazy-loading)
      parent: null,
      isHovered: false,
      padding: 0
    };
  },
  computed: {
    empty: function empty() {
      return !this.children || this.children.length == 0;
    },
    isSelected: function isSelected() {
      return this.selectedInMediaApp.name == this.model.name && this.selectedInMediaApp.path == this.model.path;
    },
    isRoot: function isRoot() {
      return this.model.path === '';
    }
  },
  mounted: function mounted() {
    if (this.isRoot == false && this.isAncestorOfSelectedFolder()) {
      this.toggle();
    }
    this.padding = this.level < 3 ? 16 : 16 + this.level * 8;
  },
  created: function created() {
    var self = this;
    bus.$on('deleteFolder', function (folder) {
      if (self.children) {
        var index = self.children && self.children.indexOf(folder);
        if (index > -1) {
          self.children.splice(index, 1);
          bus.$emit('folderDeleted');
        }
      }
    });
    bus.$on('addFolder', function (target, folder) {
      if (self.model == target) {
        if (self.children !== null) {
          self.children.push(folder);
        }
        folder.parent = self.model;
        bus.$emit('folderAdded', folder);
      }
    });
  },
  methods: {
    isAncestorOfSelectedFolder: function isAncestorOfSelectedFolder() {
      parentFolder = mediaApp.selectedFolder;
      while (parentFolder) {
        if (parentFolder.path == this.model.path) {
          return true;
        }
        parentFolder = parentFolder.parent;
      }
      return false;
    },
    toggle: function toggle() {
      this.open = !this.open;
      if (this.open && !this.children) {
        this.loadChildren();
      }
    },
    select: function select() {
      bus.$emit('folderSelected', this.model);
      this.loadChildren();
    },
    createFolder: function createFolder() {
      bus.$emit('createFolderRequested');
    },
    deleteFolder: function deleteFolder() {
      bus.$emit('deleteFolderRequested');
    },
    loadChildren: function loadChildren() {
      var self = this;
      if (this.open == false) {
        this.open = true;
      }
      $.ajax({
        url: $('#getFoldersUrl').val() + "?path=" + encodeURIComponent(self.model.path),
        method: 'GET',
        success: function success(data) {
          self.children = data;
          self.children.forEach(function (c) {
            c.parent = self.model;
          });
        },
        error: function error(_error) {
          emtpy = false;
          console.error(_error.responseText);
        }
      });
    },
    handleDragOver: function handleDragOver(e) {
      this.isHovered = true;
    },
    handleDragLeave: function handleDragLeave(e) {
      this.isHovered = false;
    },
    moveMediaToFolder: function moveMediaToFolder(folder, e) {
      var self = this;
      self.isHovered = false;
      var mediaNames = JSON.parse(e.dataTransfer.getData('mediaNames'));
      if (mediaNames.length < 1) {
        return;
      }
      var sourceFolder = e.dataTransfer.getData('sourceFolder');
      var targetFolder = folder.path;
      if (sourceFolder === '') {
        sourceFolder = 'root';
      }
      if (targetFolder === '') {
        targetFolder = 'root';
      }
      if (sourceFolder === targetFolder) {
        alert($('#sameFolderMessage').val());
        return;
      }
      confirmDialog(_objectSpread(_objectSpread({}, $("#moveMedia").data()), {}, {
        callback: function callback(resp) {
          if (resp) {
            $.ajax({
              url: $('#moveMediaListUrl').val(),
              method: 'POST',
              data: {
                __RequestVerificationToken: $("input[name='__RequestVerificationToken']").val(),
                mediaNames: mediaNames,
                sourceFolder: sourceFolder,
                targetFolder: targetFolder
              },
              success: function success() {
                bus.$emit('mediaListMoved'); // MediaApp will listen to this, and then it will reload page so the moved medias won't be there anymore
              },

              error: function error(_error2) {
                console.error(_error2.responseText);
                bus.$emit('mediaListMoved', _error2.responseText);
              }
            });
          }
        }
      }));
    }
  }
});
// https://github.com/spatie/font-awesome-filetypes

var faIcons = {
  image: 'fa-regular fa-image',
  pdf: 'fa-regular fa-file-pdf',
  word: 'fa-regular fa-file-word',
  powerpoint: 'fa-regular fa-file-powerpoint',
  excel: 'fa-regular fa-file-excel',
  csv: 'fa-regular fa-file',
  audio: 'fa-regular fa-file-audio',
  video: 'fa-regular fa-file-video',
  archive: 'fa-regular fa-file-zipper',
  code: 'fa-regular fa-file-code',
  text: 'fa-regular fa-file-lines',
  file: 'fa-regular fa-file'
};
var faThumbnails = {
  gif: faIcons.image,
  jpeg: faIcons.image,
  jpg: faIcons.image,
  png: faIcons.image,
  pdf: faIcons.pdf,
  doc: faIcons.word,
  docx: faIcons.word,
  ppt: faIcons.powerpoint,
  pptx: faIcons.powerpoint,
  xls: faIcons.excel,
  xlsx: faIcons.excel,
  csv: faIcons.csv,
  aac: faIcons.audio,
  mp3: faIcons.audio,
  ogg: faIcons.audio,
  avi: faIcons.video,
  flv: faIcons.video,
  mkv: faIcons.video,
  mp4: faIcons.video,
  webm: faIcons.video,
  gz: faIcons.archive,
  zip: faIcons.archive,
  css: faIcons.code,
  html: faIcons.code,
  js: faIcons.code,
  txt: faIcons.text
};
function getClassNameForExtension(extension) {
  return faThumbnails[extension.toLowerCase()] || faIcons.file;
}
function getExtensionForFilename(filename) {
  return filename.slice((filename.lastIndexOf('.') - 1 >>> 0) + 2);
}
function getClassNameForFilename(filename) {
  return getClassNameForExtension(getExtensionForFilename(filename));
}
// <media-items-grid> component
Vue.component('media-items-grid', {
  template: "\n        <ol class=\"row media-items-grid\">\n                <li v-for=\"media in filteredMediaItems\"\n                    :key=\"media.name\" \n                    class=\"media-item media-container-main-list-item card p-0\"\n                    :style=\"{width: thumbSize + 2 + 'px'}\"\n                    :class=\"{selected: isMediaSelected(media)}\"\n                    v-on:click.stop=\"toggleSelectionOfMedia(media)\"\n                    draggable=\"true\" v-on:dragstart=\"dragStart(media, $event)\">\n                    <div class=\"thumb-container\" :style=\"{height: thumbSize +'px'}\">\n                        <img v-if=\"media.mime.startsWith('image')\"\n                                :src=\"buildMediaUrl(media.url, thumbSize)\"\n                                :data-mime=\"media.mime\"\n                                :style=\"{maxHeight: thumbSize +'px', maxWidth: thumbSize +'px'}\" />\n                        <i v-else :class=\"getfontAwesomeClassNameForFileName(media.name, 'fa-5x')\" :data-mime=\"media.mime\"></i>\n                    </div>\n                <div class=\"media-container-main-item-title card-body\">\n                        <a href=\"javascript:;\" class=\"btn btn-light btn-sm float-end inline-media-button edit-button\" v-on:click.stop=\"renameMedia(media)\"><i class=\"fa-solid fa-edit\" aria-hidden=\"true\"></i></a>\n                        <a href=\"javascript:;\" class=\"btn btn-light btn-sm float-end inline-media-button delete-button\" v-on:click.stop=\"deleteMedia(media)\"><i class=\"fa-solid fa-trash\" aria-hidden=\"true\"></i></a>\n                        <a :href=\"media.url\" target=\"_blank\" class=\"btn btn-light btn-sm float-end inline-media-button view-button\"\"><i class=\"fa-solid fa-download\" aria-hidden=\"true\"></i></a>\n                        <span class=\"media-filename card-text small\" :title=\"media.name\">{{ media.name }}</span>\n                    </div>\n                 </li>\n        </ol>\n        ",
  data: function data() {
    return {
      T: {}
    };
  },
  props: {
    filteredMediaItems: Array,
    selectedMedias: Array,
    thumbSize: Number
  },
  created: function created() {
    var self = this;
    // retrieving localized strings from view
    self.T.editButton = $('#t-edit-button').val();
    self.T.deleteButton = $('#t-delete-button').val();
  },
  methods: {
    isMediaSelected: function isMediaSelected(media) {
      var result = this.selectedMedias.some(function (element, index, array) {
        return element.url.toLowerCase() === media.url.toLowerCase();
      });
      return result;
    },
    buildMediaUrl: function buildMediaUrl(url, thumbSize) {
      return url + (url.indexOf('?') == -1 ? '?' : '&') + 'width=' + thumbSize + '&height=' + thumbSize;
    },
    toggleSelectionOfMedia: function toggleSelectionOfMedia(media) {
      bus.$emit('mediaToggleRequested', media);
    },
    renameMedia: function renameMedia(media) {
      bus.$emit('renameMediaRequested', media);
    },
    deleteMedia: function deleteMedia(media) {
      bus.$emit('deleteMediaRequested', media);
    },
    dragStart: function dragStart(media, e) {
      bus.$emit('mediaDragStartRequested', media, e);
    },
    getfontAwesomeClassNameForFileName: function getfontAwesomeClassNameForFilename(filename, thumbsize) {
      return getClassNameForFilename(filename) + ' ' + thumbsize;
    }
  }
});
// <media-items-table> component
Vue.component('media-items-table', {
  template: "\n        <table class=\"table media-items-table m-0\">\n            <thead>\n                <tr class=\"header-row\">\n                    <th scope=\"col\" class=\"thumbnail-column\">{{ T.imageHeader }}</th>\n                    <th scope=\"col\" v-on:click=\"changeSort('name')\">\n                       {{ T.nameHeader }}\n                         <sort-indicator colname=\"name\" :selectedcolname=\"sortBy\" :asc=\"sortAsc\"></sort-indicator>\n                    </th>\n                    <th scope=\"col\" v-on:click=\"changeSort('lastModify')\"> \n                       {{ T.lastModifyHeader }} \n                         <sort-indicator colname=\"lastModify\" :selectedcolname=\"sortBy\" :asc=\"sortAsc\"></sort-indicator> \n                    </th> \n                    <th scope=\"col\" v-on:click=\"changeSort('size')\">\n                        <span class=\"optional-col\">\n                            {{ T.sizeHeader }}\n                         <sort-indicator colname=\"size\" :selectedcolname=\"sortBy\" :asc=\"sortAsc\"></sort-indicator>\n                        </span>\n                    </th>\n                    <th scope=\"col\" v-on:click=\"changeSort('mime')\">\n                        <span class=\"optional-col\">\n                           {{ T.typeHeader }}\n                         <sort-indicator colname=\"mime\" :selectedcolname=\"sortBy\" :asc=\"sortAsc\"></sort-indicator>\n                        </span>\n                    </th>\n                </tr>\n            </thead>\n            <tbody>\n                    <tr v-for=\"media in filteredMediaItems\"\n                          class=\"media-item\"\n                          :class=\"{selected: isMediaSelected(media)}\"\n                          v-on:click.stop=\"toggleSelectionOfMedia(media)\"\n                          draggable=\"true\" v-on:dragstart=\"dragStart(media, $event)\"\n                          :key=\"media.name\">\n                             <td class=\"thumbnail-column\">\n                                <div class=\"img-wrapper\">\n                                    <img v-if=\"media.mime.startsWith('image')\" draggable=\"false\" :src=\"buildMediaUrl(media.url, thumbSize)\" />\n                                    <i v-else :class=\"getfontAwesomeClassNameForFileName(media.name, 'fa-4x')\" :data-mime=\"media.mime\"></i>\n                                </div>\n                            </td>\n                            <td>\n                                <div class=\"media-name-cell\">\n                                   <span class=\"break-word\"> {{ media.name }} </span>\n                                    <div class=\"buttons-container\">\n                                        <a href=\"javascript:;\" class=\"btn btn-link btn-sm me-1 edit-button\" v-on:click.stop=\"renameMedia(media)\"> {{ T.editButton }} </a >\n                                        <a href=\"javascript:;\" class=\"btn btn-link btn-sm delete-button\" v-on:click.stop=\"deleteMedia(media)\"> {{ T.deleteButton }} </a>\n                                        <a :href=\"media.url\" target=\"_blank\" class=\"btn btn-link btn-sm view-button\"> {{ T.viewButton }} </a>\n                                    </div>\n                                </div>\n                            </td>\n                            <td>\n                                <div class=\"text-col\"> {{ printDateTime(media.lastModify) }} </div>\n                            </td>\n                            <td>\n                                <div class=\"text-col optional-col\"> {{ isNaN(media.size)? 0 : Math.round(media.size / 1024) }} KB</div>\n                            </td>\n                            <td>\n                                <div class=\"text-col optional-col\">{{ media.mime }}</div>\n                            </td>\n                   </tr>\n            </tbody>\n        </table>\n        ",
  data: function data() {
    return {
      T: {}
    };
  },
  props: {
    sortBy: String,
    sortAsc: Boolean,
    filteredMediaItems: Array,
    selectedMedias: Array,
    thumbSize: Number
  },
  created: function created() {
    var self = this;
    self.T.imageHeader = $('#t-image-header').val();
    self.T.nameHeader = $('#t-name-header').val();
    self.T.lastModifyHeader = $('#t-lastModify-header').val();
    self.T.sizeHeader = $('#t-size-header').val();
    self.T.typeHeader = $('#t-type-header').val();
    self.T.editButton = $('#t-edit-button').val();
    self.T.deleteButton = $('#t-delete-button').val();
    self.T.viewButton = $('#t-view-button').val();
  },
  methods: {
    isMediaSelected: function isMediaSelected(media) {
      var result = this.selectedMedias.some(function (element, index, array) {
        return element.url.toLowerCase() === media.url.toLowerCase();
      });
      return result;
    },
    buildMediaUrl: function buildMediaUrl(url, thumbSize) {
      return url + (url.indexOf('?') == -1 ? '?' : '&') + 'width=' + thumbSize + '&height=' + thumbSize;
    },
    changeSort: function changeSort(newSort) {
      bus.$emit('sortChangeRequested', newSort);
    },
    toggleSelectionOfMedia: function toggleSelectionOfMedia(media) {
      bus.$emit('mediaToggleRequested', media);
    },
    renameMedia: function renameMedia(media) {
      bus.$emit('renameMediaRequested', media);
    },
    deleteMedia: function deleteMedia(media) {
      bus.$emit('deleteMediaRequested', media);
    },
    dragStart: function dragStart(media, e) {
      bus.$emit('mediaDragStartRequested', media, e);
    },
    printDateTime: function printDateTime(datemillis) {
      var d = new Date(datemillis);
      return d.toLocaleString();
    },
    getfontAwesomeClassNameForFileName: function getfontAwesomeClassNameForFilename(filename, thumbsize) {
      return getClassNameForFilename(filename) + ' ' + thumbsize;
    }
  }
});
// This component receives a list of all the items, unpaged.
// As the user interacts with the pager, it raises events with the items in the current page.
// It's the parent's responsibility to listen for these events and display the received items
// <pager> component
Vue.component('pager', {
  template: "\n    <div>\n        <nav id=\"media-pager\" class=\"d-flex justify-content-center\" aria-label=\"Pagination Navigation\" role=\"navigation\" :data-computed-trigger=\"itemsInCurrentPage.length\">\n            <ul class=\"pagination pagination-sm m-0\">\n                <li class=\"page-item media-first-button\" :class=\"{disabled : !canDoFirst}\">\n                    <a class=\"page-link\" href=\"#\" :tabindex=\"canDoFirst ? 0 : -1\" v-on:click=\"goFirst\">{{ T.pagerFirstButton }}</a>\n                </li>\n                <li class=\"page-item\" :class=\"{disabled : !canDoPrev}\">\n                    <a class=\"page-link\" href=\"#\" :tabindex=\"canDoPrev ? 0 : -1\" v-on:click=\"previous\">{{ T.pagerPreviousButton }}</a>\n                </li>\n                <li v-if=\"link !== -1\" class=\"page-item page-number\"  :class=\"{active : current == link - 1}\" v-for=\"link in pageLinks\">\n                    <a class=\"page-link\" href=\"#\" v-on:click=\"goTo(link - 1)\" :aria-label=\"'Goto Page' + link\">\n                        {{link}}\n                        <span v-if=\"current == link -1\" class=\"visually-hidden\">(current)</span>\n                    </a>\n                </li>\n                <li class=\"page-item\" :class=\"{disabled : !canDoNext}\">\n                    <a class=\"page-link\" href=\"#\" :tabindex=\"canDoNext ? 0 : -1\" v-on:click=\"next\">{{ T.pagerNextButton }}</a>\n                </li>\n                <li class=\"page-item media-last-button\" :class=\"{disabled : !canDoLast}\">\n                    <a class=\"page-link\" href=\"#\" :tabindex=\"canDoLast ? 0 : -1\" v-on:click=\"goLast\">{{ T.pagerLastButton }}</a>\n                </li>\n                <li class=\"page-item ms-4 page-size-info\">\n                    <div style=\"display: flex;\">\n                        <span class=\"page-link disabled text-muted page-size-label\">{{ T.pagerPageSizeLabel }}</span>\n                        <select id=\"pageSizeSelect\" class=\"page-link\" v-model=\"pageSize\">\n                            <option v-for=\"option in pageSizeOptions\" v-bind:value=\"option\">\n                                {{option}}\n                            </option>\n                        </select>\n                    </div>\n                </li>\n            </ul>\n        </nav>\n        <nav class=\"d-flex justify-content-center\">\n            <ul class=\"pagination pagination-sm m-0 mt-2\">\n                <li class=\"page-item ms-4 page-info\">\n                    <span class=\"page-link disabled text-muted \">{{ T.pagerPageLabel }} {{current + 1}}/{{totalPages}}</span>\n                </li>\n                <li class=\"page-item ms-4 total-info\">\n                    <span class=\"page-link disabled text-muted \"> {{ T.pagerTotalLabel }} {{total}}</span>\n                </li>\n            </ul>\n        </nav>\n        </div>\n        ",
  props: {
    sourceItems: Array
  },
  data: function data() {
    return {
      pageSize: 10,
      pageSizeOptions: [10, 30, 50, 100],
      current: 0,
      T: {}
    };
  },
  created: function created() {
    var self = this;

    // retrieving localized strings from view
    self.T.pagerFirstButton = $('#t-pager-first-button').val();
    self.T.pagerPreviousButton = $('#t-pager-previous-button').val();
    self.T.pagerNextButton = $('#t-pager-next-button').val();
    self.T.pagerLastButton = $('#t-pager-last-button').val();
    self.T.pagerPageSizeLabel = $('#t-pager-page-size-label').val();
    self.T.pagerPageLabel = $('#t-pager-page-label').val();
    self.T.pagerTotalLabel = $('#t-pager-total-label').val();
  },
  methods: {
    next: function next() {
      this.current = this.current + 1;
    },
    previous: function previous() {
      this.current = this.current - 1;
    },
    goFirst: function goFirst() {
      this.current = 0;
    },
    goLast: function goLast() {
      this.current = this.totalPages - 1;
    },
    goTo: function goTo(targetPage) {
      this.current = targetPage;
    }
  },
  computed: {
    total: function total() {
      return this.sourceItems ? this.sourceItems.length : 0;
    },
    totalPages: function totalPages() {
      var pages = Math.ceil(this.total / this.pageSize);
      return pages > 0 ? pages : 1;
    },
    isLastPage: function isLastPage() {
      return this.current + 1 >= this.totalPages;
    },
    isFirstPage: function isFirstPage() {
      return this.current === 0;
    },
    canDoNext: function canDoNext() {
      return !this.isLastPage;
    },
    canDoPrev: function canDoPrev() {
      return !this.isFirstPage;
    },
    canDoFirst: function canDoFirst() {
      return !this.isFirstPage;
    },
    canDoLast: function canDoLast() {
      return !this.isLastPage;
    },
    // this computed is only to have a central place where we detect changes and leverage Vue JS reactivity to raise our event.
    // That event will be handled by the parent media app to display the items in the page.
    // this logic will not run if the computed property is not used in the template. We use a dummy "data-computed-trigger" attribute for that.
    itemsInCurrentPage: function itemsInCurrentPage() {
      var start = this.pageSize * this.current;
      var end = start + this.pageSize;
      var result = this.sourceItems.slice(start, end);
      bus.$emit('pagerEvent', result);
      return result;
    },
    pageLinks: function pageLinks() {
      var links = [];
      links.push(this.current + 1);

      // Add 2 items before current
      var beforeCurrent = this.current > 0 ? this.current : -1;
      links.unshift(beforeCurrent);
      var beforeBeforeCurrent = this.current > 1 ? this.current - 1 : -1;
      links.unshift(beforeBeforeCurrent);

      // Add 2 items after current
      var afterCurrent = this.totalPages - this.current > 1 ? this.current + 2 : -1;
      links.push(afterCurrent);
      var afterAfterCurrent = this.totalPages - this.current > 2 ? this.current + 3 : -1;
      links.push(afterAfterCurrent);
      return links;
    }
  },
  watch: {
    sourceItems: function sourceItems() {
      this.current = 0; // resetting current page after receiving a new list of unpaged items
    },

    pageSize: function pageSize() {
      this.current = 0;
    }
  }
});
// <sort-indicator> component
Vue.component('sortIndicator', {
  template: "\n        <div v-show=\"isActive\" class=\"sort-indicator\">\n            <span v-show=\"asc\"><i class=\"small fa fa-chevron-up\"></i></span>\n            <span v-show=\"!asc\"><i class=\"small fa fa-chevron-down\"></i></span>\n        </div>\n        ",
  props: {
    colname: String,
    selectedcolname: String,
    asc: Boolean
  },
  computed: {
    isActive: function isActive() {
      return this.colname.toLowerCase() == this.selectedcolname.toLowerCase();
    }
  }
});
// <upload> component
Vue.component('upload', {
  template: '\
        <div :class="{ \'upload-warning\' : model.errorMessage }" class="upload m-2 p-2 pt-0"> \
            <span v-if="model.errorMessage" v-on:click="dismissWarning()" class="close-warning"><i class="fa-solid fa-times" aria-hidden="true"></i> </span>\
            <p class="upload-name" :title="model.errorMessage">{{ model.name }}</p> \
            <div> \
               <span v-show="!model.errorMessage" :style="{ width: model.percentage + \'%\'}" class="progress-bar"> </span> \
               <span v-if="model.errorMessage" class="error-message" :title="model.errorMessage"> Error: {{ model.errorMessage }} </span> \
            </div> \
        </div> \
        ',
  props: {
    model: Object,
    uploadInputId: String
  },
  mounted: function mounted() {
    var _self$uploadInputId;
    var self = this;
    var uploadInput = document.getElementById((_self$uploadInputId = self.uploadInputId) !== null && _self$uploadInputId !== void 0 ? _self$uploadInputId : 'fileupload');
    $(uploadInput).bind('fileuploadprogress', function (e, data) {
      if (data.files[0].name !== self.model.name) {
        return;
      }
      self.model.percentage = parseInt(data.loaded / data.total * 100, 10);
    });
    $(uploadInput).bind('fileuploaddone', function (e, data) {
      if (data.files[0].name !== self.model.name) {
        return;
      }
      if (data.result.files[0].error) {
        self.handleFailure(data.files[0].name, data.result.files[0].error);
      } else {
        bus.$emit('removalRequest', self.model);
      }
    });
    $(uploadInput).bind('fileuploadfail', function (e, data) {
      if (data.files[0].name !== self.model.name) {
        return;
      }
      self.handleFailure(data.files[0].name, $('#t-error').val());
    });
  },
  methods: {
    handleFailure: function handleFailure(fileName, message) {
      if (fileName !== this.model.name) {
        return;
      }
      this.model.errorMessage = message;
      bus.$emit('ErrorOnUpload', this.model);
    },
    dismissWarning: function dismissWarning() {
      bus.$emit('removalRequest', this.model);
    }
  }
});
// <upload-list> component
Vue.component('uploadList', {
  template: '\
        <div class="upload-list" v-show="files.length > 0"> \
            <div class="header" @click="expanded = !expanded"> \
                <span> {{ T.uploads }} </span> \
                <span v-show="pendingCount"> (Pending: {{ pendingCount }}) </span> \
                <span v-show="errorCount" :class="{ \'text-danger\' : errorCount }"> ( {{ T.errors }}: {{ errorCount }} / <a href="javascript:;" v-on:click.stop="clearErrors" > {{ T.clearErrors }} </a>)</span> \
                    <div class="toggle-button"> \
                    <div v-show="expanded"> \
                        <i class="fa-solid fa-chevron-down" aria-hidden="true"></i> \
                    </div> \
                    <div v-show="!expanded"> \
                        <i class="fa-solid fa-chevron-up" aria-hidden="true"></i> \
                    </div> \
                </div> \
            </div> \
            <div class="card-body" v-show="expanded"> \
                <div class="d-flex flex-wrap"> \
                    <upload :upload-input-id="uploadInputId" v-for="f in files" :key="f.name"  :model="f"></upload> \
                </div > \
            </div> \
        </div> \
        ',
  data: function data() {
    return {
      files: [],
      T: {},
      expanded: false,
      pendingCount: 0,
      errorCount: 0
    };
  },
  props: {
    uploadInputId: String
  },
  created: function created() {
    var self = this;
    // retrieving localized strings from view
    self.T.uploads = $('#t-uploads').val();
    self.T.errors = $('#t-errors').val();
    self.T.clearErrors = $('#t-clear-errors').val();
  },
  computed: {
    fileCount: function fileCount() {
      return this.files.length;
    }
  },
  mounted: function mounted() {
    var _self$uploadInputId;
    var self = this;
    var uploadInput = document.getElementById((_self$uploadInputId = self.uploadInputId) !== null && _self$uploadInputId !== void 0 ? _self$uploadInputId : 'fileupload');
    $(uploadInput).bind('fileuploadadd', function (e, data) {
      if (!data.files) {
        return;
      }
      data.files.forEach(function (newFile) {
        var alreadyInList = self.files.some(function (f) {
          return f.name == newFile.name;
        });
        if (!alreadyInList) {
          self.files.push({
            name: newFile.name,
            percentage: 0,
            errorMessage: ''
          });
        } else {
          console.error('A file with the same name is already on the queue:' + newFile.name);
        }
      });
    });
    bus.$on('removalRequest', function (fileUpload) {
      self.files.forEach(function (item, index, array) {
        if (item.name == fileUpload.name) {
          array.splice(index, 1);
        }
      });
    });
    bus.$on('ErrorOnUpload', function (fileUpload) {
      self.updateCount();
    });
  },
  methods: {
    updateCount: function updateCount() {
      this.errorCount = this.files.filter(function (item) {
        return item.errorMessage != '';
      }).length;
      this.pendingCount = this.files.length - this.errorCount;
      if (this.files.length < 1) {
        this.expanded = false;
      }
    },
    clearErrors: function clearErrors() {
      this.files = this.files.filter(function (item) {
        return item.errorMessage == '';
      });
    }
  },
  watch: {
    files: function files() {
      this.updateCount();
    }
  }
});
function _typeof(o) { "@babel/helpers - typeof"; return _typeof = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function (o) { return typeof o; } : function (o) { return o && "function" == typeof Symbol && o.constructor === Symbol && o !== Symbol.prototype ? "symbol" : typeof o; }, _typeof(o); }
function randomUUID() {
  if ((typeof crypto === "undefined" ? "undefined" : _typeof(crypto)) === 'object' && typeof crypto.randomUUID === 'function') {
    return crypto.randomUUID();
  }
  return ([1e7] + -1e3 + -4e3 + -8e3 + -1e11).replace(/[018]/g, function (c) {
    return (c ^ crypto.getRandomValues(new Uint8Array(1))[0] & 15 >> c / 4).toString(16);
  });
}
function _typeof(o) { "@babel/helpers - typeof"; return _typeof = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function (o) { return typeof o; } : function (o) { return o && "function" == typeof Symbol && o.constructor === Symbol && o !== Symbol.prototype ? "symbol" : typeof o; }, _typeof(o); }
/*
 * jQuery File Upload Plugin
 * https://github.com/blueimp/jQuery-File-Upload
 *
 * Copyright 2010, Sebastian Tschan
 * https://blueimp.net
 *
 * Licensed under the MIT license:
 * https://opensource.org/licenses/MIT
 */

/* global define, require */
/* eslint-disable new-cap */

(function (factory) {
  'use strict';

  if (typeof define === 'function' && define.amd) {
    // Register as an anonymous AMD module:
    define(['jquery', 'jquery-ui/ui/widget'], factory);
  } else if ((typeof exports === "undefined" ? "undefined" : _typeof(exports)) === 'object') {
    // Node/CommonJS:
    factory(require('jquery'), require('./vendor/jquery.ui.widget'));
  } else {
    // Browser globals:
    factory(window.jQuery);
  }
})(function ($) {
  'use strict';

  // Detect file input support, based on
  // https://viljamis.com/2012/file-upload-support-on-mobile/
  $.support.fileInput = !(new RegExp(
  // Handle devices which give false positives for the feature detection:
  '(Android (1\\.[0156]|2\\.[01]))' + '|(Windows Phone (OS 7|8\\.0))|(XBLWP)|(ZuneWP)|(WPDesktop)' + '|(w(eb)?OSBrowser)|(webOS)' + '|(Kindle/(1\\.0|2\\.[05]|3\\.0))').test(window.navigator.userAgent) ||
  // Feature detection for all other devices:
  $('<input type="file"/>').prop('disabled'));

  // The FileReader API is not actually used, but works as feature detection,
  // as some Safari versions (5?) support XHR file uploads via the FormData API,
  // but not non-multipart XHR file uploads.
  // window.XMLHttpRequestUpload is not available on IE10, so we check for
  // window.ProgressEvent instead to detect XHR2 file upload capability:
  $.support.xhrFileUpload = !!(window.ProgressEvent && window.FileReader);
  $.support.xhrFormDataFileUpload = !!window.FormData;

  // Detect support for Blob slicing (required for chunked uploads):
  $.support.blobSlice = window.Blob && (Blob.prototype.slice || Blob.prototype.webkitSlice || Blob.prototype.mozSlice);

  /**
   * Helper function to create drag handlers for dragover/dragenter/dragleave
   *
   * @param {string} type Event type
   * @returns {Function} Drag handler
   */
  function getDragHandler(type) {
    var isDragOver = type === 'dragover';
    return function (e) {
      e.dataTransfer = e.originalEvent && e.originalEvent.dataTransfer;
      var dataTransfer = e.dataTransfer;
      if (dataTransfer && $.inArray('Files', dataTransfer.types) !== -1 && this._trigger(type, $.Event(type, {
        delegatedEvent: e
      })) !== false) {
        e.preventDefault();
        if (isDragOver) {
          dataTransfer.dropEffect = 'copy';
        }
      }
    };
  }

  // The fileupload widget listens for change events on file input fields defined
  // via fileInput setting and paste or drop events of the given dropZone.
  // In addition to the default jQuery Widget methods, the fileupload widget
  // exposes the "add" and "send" methods, to add or directly send files using
  // the fileupload API.
  // By default, files added via file input selection, paste, drag & drop or
  // "add" method are uploaded immediately, but it is possible to override
  // the "add" callback option to queue file uploads.
  $.widget('blueimp.fileupload', {
    options: {
      // The drop target element(s), by the default the complete document.
      // Set to null to disable drag & drop support:
      dropZone: $(document),
      // The paste target element(s), by the default undefined.
      // Set to a DOM node or jQuery object to enable file pasting:
      pasteZone: undefined,
      // The file input field(s), that are listened to for change events.
      // If undefined, it is set to the file input fields inside
      // of the widget element on plugin initialization.
      // Set to null to disable the change listener.
      fileInput: undefined,
      // By default, the file input field is replaced with a clone after
      // each input field change event. This is required for iframe transport
      // queues and allows change events to be fired for the same file
      // selection, but can be disabled by setting the following option to false:
      replaceFileInput: true,
      // The parameter name for the file form data (the request argument name).
      // If undefined or empty, the name property of the file input field is
      // used, or "files[]" if the file input name property is also empty,
      // can be a string or an array of strings:
      paramName: undefined,
      // By default, each file of a selection is uploaded using an individual
      // request for XHR type uploads. Set to false to upload file
      // selections in one request each:
      singleFileUploads: true,
      // To limit the number of files uploaded with one XHR request,
      // set the following option to an integer greater than 0:
      limitMultiFileUploads: undefined,
      // The following option limits the number of files uploaded with one
      // XHR request to keep the request size under or equal to the defined
      // limit in bytes:
      limitMultiFileUploadSize: undefined,
      // Multipart file uploads add a number of bytes to each uploaded file,
      // therefore the following option adds an overhead for each file used
      // in the limitMultiFileUploadSize configuration:
      limitMultiFileUploadSizeOverhead: 512,
      // Set the following option to true to issue all file upload requests
      // in a sequential order:
      sequentialUploads: false,
      // To limit the number of concurrent uploads,
      // set the following option to an integer greater than 0:
      limitConcurrentUploads: undefined,
      // Set the following option to true to force iframe transport uploads:
      forceIframeTransport: false,
      // Set the following option to the location of a redirect url on the
      // origin server, for cross-domain iframe transport uploads:
      redirect: undefined,
      // The parameter name for the redirect url, sent as part of the form
      // data and set to 'redirect' if this option is empty:
      redirectParamName: undefined,
      // Set the following option to the location of a postMessage window,
      // to enable postMessage transport uploads:
      postMessage: undefined,
      // By default, XHR file uploads are sent as multipart/form-data.
      // The iframe transport is always using multipart/form-data.
      // Set to false to enable non-multipart XHR uploads:
      multipart: true,
      // To upload large files in smaller chunks, set the following option
      // to a preferred maximum chunk size. If set to 0, null or undefined,
      // or the browser does not support the required Blob API, files will
      // be uploaded as a whole.
      maxChunkSize: undefined,
      // When a non-multipart upload or a chunked multipart upload has been
      // aborted, this option can be used to resume the upload by setting
      // it to the size of the already uploaded bytes. This option is most
      // useful when modifying the options object inside of the "add" or
      // "send" callbacks, as the options are cloned for each file upload.
      uploadedBytes: undefined,
      // By default, failed (abort or error) file uploads are removed from the
      // global progress calculation. Set the following option to false to
      // prevent recalculating the global progress data:
      recalculateProgress: true,
      // Interval in milliseconds to calculate and trigger progress events:
      progressInterval: 100,
      // Interval in milliseconds to calculate progress bitrate:
      bitrateInterval: 500,
      // By default, uploads are started automatically when adding files:
      autoUpload: true,
      // By default, duplicate file names are expected to be handled on
      // the server-side. If this is not possible (e.g. when uploading
      // files directly to Amazon S3), the following option can be set to
      // an empty object or an object mapping existing filenames, e.g.:
      // { "image.jpg": true, "image (1).jpg": true }
      // If it is set, all files will be uploaded with unique filenames,
      // adding increasing number suffixes if necessary, e.g.:
      // "image (2).jpg"
      uniqueFilenames: undefined,
      // Error and info messages:
      messages: {
        uploadedBytes: 'Uploaded bytes exceed file size'
      },
      // Translation function, gets the message key to be translated
      // and an object with context specific data as arguments:
      i18n: function i18n(message, context) {
        // eslint-disable-next-line no-param-reassign
        message = this.messages[message] || message.toString();
        if (context) {
          $.each(context, function (key, value) {
            // eslint-disable-next-line no-param-reassign
            message = message.replace('{' + key + '}', value);
          });
        }
        return message;
      },
      // Additional form data to be sent along with the file uploads can be set
      // using this option, which accepts an array of objects with name and
      // value properties, a function returning such an array, a FormData
      // object (for XHR file uploads), or a simple object.
      // The form of the first fileInput is given as parameter to the function:
      formData: function formData(form) {
        return form.serializeArray();
      },
      // The add callback is invoked as soon as files are added to the fileupload
      // widget (via file input selection, drag & drop, paste or add API call).
      // If the singleFileUploads option is enabled, this callback will be
      // called once for each file in the selection for XHR file uploads, else
      // once for each file selection.
      //
      // The upload starts when the submit method is invoked on the data parameter.
      // The data object contains a files property holding the added files
      // and allows you to override plugin options as well as define ajax settings.
      //
      // Listeners for this callback can also be bound the following way:
      // .on('fileuploadadd', func);
      //
      // data.submit() returns a Promise object and allows to attach additional
      // handlers using jQuery's Deferred callbacks:
      // data.submit().done(func).fail(func).always(func);
      add: function add(e, data) {
        if (e.isDefaultPrevented()) {
          return false;
        }
        if (data.autoUpload || data.autoUpload !== false && $(this).fileupload('option', 'autoUpload')) {
          data.process().done(function () {
            data.submit();
          });
        }
      },
      // Other callbacks:

      // Callback for the submit event of each file upload:
      // submit: function (e, data) {}, // .on('fileuploadsubmit', func);

      // Callback for the start of each file upload request:
      // send: function (e, data) {}, // .on('fileuploadsend', func);

      // Callback for successful uploads:
      // done: function (e, data) {}, // .on('fileuploaddone', func);

      // Callback for failed (abort or error) uploads:
      // fail: function (e, data) {}, // .on('fileuploadfail', func);

      // Callback for completed (success, abort or error) requests:
      // always: function (e, data) {}, // .on('fileuploadalways', func);

      // Callback for upload progress events:
      // progress: function (e, data) {}, // .on('fileuploadprogress', func);

      // Callback for global upload progress events:
      // progressall: function (e, data) {}, // .on('fileuploadprogressall', func);

      // Callback for uploads start, equivalent to the global ajaxStart event:
      // start: function (e) {}, // .on('fileuploadstart', func);

      // Callback for uploads stop, equivalent to the global ajaxStop event:
      // stop: function (e) {}, // .on('fileuploadstop', func);

      // Callback for change events of the fileInput(s):
      // change: function (e, data) {}, // .on('fileuploadchange', func);

      // Callback for paste events to the pasteZone(s):
      // paste: function (e, data) {}, // .on('fileuploadpaste', func);

      // Callback for drop events of the dropZone(s):
      // drop: function (e, data) {}, // .on('fileuploaddrop', func);

      // Callback for dragover events of the dropZone(s):
      // dragover: function (e) {}, // .on('fileuploaddragover', func);

      // Callback before the start of each chunk upload request (before form data initialization):
      // chunkbeforesend: function (e, data) {}, // .on('fileuploadchunkbeforesend', func);

      // Callback for the start of each chunk upload request:
      // chunksend: function (e, data) {}, // .on('fileuploadchunksend', func);

      // Callback for successful chunk uploads:
      // chunkdone: function (e, data) {}, // .on('fileuploadchunkdone', func);

      // Callback for failed (abort or error) chunk uploads:
      // chunkfail: function (e, data) {}, // .on('fileuploadchunkfail', func);

      // Callback for completed (success, abort or error) chunk upload requests:
      // chunkalways: function (e, data) {}, // .on('fileuploadchunkalways', func);

      // The plugin options are used as settings object for the ajax calls.
      // The following are jQuery ajax settings required for the file uploads:
      processData: false,
      contentType: false,
      cache: false,
      timeout: 0
    },
    // jQuery versions before 1.8 require promise.pipe if the return value is
    // used, as promise.then in older versions has a different behavior, see:
    // https://blog.jquery.com/2012/08/09/jquery-1-8-released/
    // https://bugs.jquery.com/ticket/11010
    // https://github.com/blueimp/jQuery-File-Upload/pull/3435
    _promisePipe: function () {
      var parts = $.fn.jquery.split('.');
      return Number(parts[0]) > 1 || Number(parts[1]) > 7 ? 'then' : 'pipe';
    }(),
    // A list of options that require reinitializing event listeners and/or
    // special initialization code:
    _specialOptions: ['fileInput', 'dropZone', 'pasteZone', 'multipart', 'forceIframeTransport'],
    _blobSlice: $.support.blobSlice && function () {
      var slice = this.slice || this.webkitSlice || this.mozSlice;
      return slice.apply(this, arguments);
    },
    _BitrateTimer: function _BitrateTimer() {
      this.timestamp = Date.now ? Date.now() : new Date().getTime();
      this.loaded = 0;
      this.bitrate = 0;
      this.getBitrate = function (now, loaded, interval) {
        var timeDiff = now - this.timestamp;
        if (!this.bitrate || !interval || timeDiff > interval) {
          this.bitrate = (loaded - this.loaded) * (1000 / timeDiff) * 8;
          this.loaded = loaded;
          this.timestamp = now;
        }
        return this.bitrate;
      };
    },
    _isXHRUpload: function _isXHRUpload(options) {
      return !options.forceIframeTransport && (!options.multipart && $.support.xhrFileUpload || $.support.xhrFormDataFileUpload);
    },
    _getFormData: function _getFormData(options) {
      var formData;
      if ($.type(options.formData) === 'function') {
        return options.formData(options.form);
      }
      if ($.isArray(options.formData)) {
        return options.formData;
      }
      if ($.type(options.formData) === 'object') {
        formData = [];
        $.each(options.formData, function (name, value) {
          formData.push({
            name: name,
            value: value
          });
        });
        return formData;
      }
      return [];
    },
    _getTotal: function _getTotal(files) {
      var total = 0;
      $.each(files, function (index, file) {
        total += file.size || 1;
      });
      return total;
    },
    _initProgressObject: function _initProgressObject(obj) {
      var progress = {
        loaded: 0,
        total: 0,
        bitrate: 0
      };
      if (obj._progress) {
        $.extend(obj._progress, progress);
      } else {
        obj._progress = progress;
      }
    },
    _initResponseObject: function _initResponseObject(obj) {
      var prop;
      if (obj._response) {
        for (prop in obj._response) {
          if (Object.prototype.hasOwnProperty.call(obj._response, prop)) {
            delete obj._response[prop];
          }
        }
      } else {
        obj._response = {};
      }
    },
    _onProgress: function _onProgress(e, data) {
      if (e.lengthComputable) {
        var now = Date.now ? Date.now() : new Date().getTime(),
          loaded;
        if (data._time && data.progressInterval && now - data._time < data.progressInterval && e.loaded !== e.total) {
          return;
        }
        data._time = now;
        loaded = Math.floor(e.loaded / e.total * (data.chunkSize || data._progress.total)) + (data.uploadedBytes || 0);
        // Add the difference from the previously loaded state
        // to the global loaded counter:
        this._progress.loaded += loaded - data._progress.loaded;
        this._progress.bitrate = this._bitrateTimer.getBitrate(now, this._progress.loaded, data.bitrateInterval);
        data._progress.loaded = data.loaded = loaded;
        data._progress.bitrate = data.bitrate = data._bitrateTimer.getBitrate(now, loaded, data.bitrateInterval);
        // Trigger a custom progress event with a total data property set
        // to the file size(s) of the current upload and a loaded data
        // property calculated accordingly:
        this._trigger('progress', $.Event('progress', {
          delegatedEvent: e
        }), data);
        // Trigger a global progress event for all current file uploads,
        // including ajax calls queued for sequential file uploads:
        this._trigger('progressall', $.Event('progressall', {
          delegatedEvent: e
        }), this._progress);
      }
    },
    _initProgressListener: function _initProgressListener(options) {
      var that = this,
        xhr = options.xhr ? options.xhr() : $.ajaxSettings.xhr();
      // Access to the native XHR object is required to add event listeners
      // for the upload progress event:
      if (xhr.upload) {
        $(xhr.upload).on('progress', function (e) {
          var oe = e.originalEvent;
          // Make sure the progress event properties get copied over:
          e.lengthComputable = oe.lengthComputable;
          e.loaded = oe.loaded;
          e.total = oe.total;
          that._onProgress(e, options);
        });
        options.xhr = function () {
          return xhr;
        };
      }
    },
    _deinitProgressListener: function _deinitProgressListener(options) {
      var xhr = options.xhr ? options.xhr() : $.ajaxSettings.xhr();
      if (xhr.upload) {
        $(xhr.upload).off('progress');
      }
    },
    _isInstanceOf: function _isInstanceOf(type, obj) {
      // Cross-frame instanceof check
      return Object.prototype.toString.call(obj) === '[object ' + type + ']';
    },
    _getUniqueFilename: function _getUniqueFilename(name, map) {
      // eslint-disable-next-line no-param-reassign
      name = String(name);
      if (map[name]) {
        // eslint-disable-next-line no-param-reassign
        name = name.replace(/(?: \(([\d]+)\))?(\.[^.]+)?$/, function (_, p1, p2) {
          var index = p1 ? Number(p1) + 1 : 1;
          var ext = p2 || '';
          return ' (' + index + ')' + ext;
        });
        return this._getUniqueFilename(name, map);
      }
      map[name] = true;
      return name;
    },
    _initXHRData: function _initXHRData(options) {
      var that = this,
        formData,
        file = options.files[0],
        // Ignore non-multipart setting if not supported:
        multipart = options.multipart || !$.support.xhrFileUpload,
        paramName = $.type(options.paramName) === 'array' ? options.paramName[0] : options.paramName;
      options.headers = $.extend({}, options.headers);
      if (options.contentRange) {
        options.headers['Content-Range'] = options.contentRange;
      }
      if (!multipart || options.blob || !this._isInstanceOf('File', file)) {
        options.headers['Content-Disposition'] = 'attachment; filename="' + encodeURI(file.uploadName || file.name) + '"';
      }
      if (!multipart) {
        options.contentType = file.type || 'application/octet-stream';
        options.data = options.blob || file;
      } else if ($.support.xhrFormDataFileUpload) {
        if (options.postMessage) {
          // window.postMessage does not allow sending FormData
          // objects, so we just add the File/Blob objects to
          // the formData array and let the postMessage window
          // create the FormData object out of this array:
          formData = this._getFormData(options);
          if (options.blob) {
            formData.push({
              name: paramName,
              value: options.blob
            });
          } else {
            $.each(options.files, function (index, file) {
              formData.push({
                name: $.type(options.paramName) === 'array' && options.paramName[index] || paramName,
                value: file
              });
            });
          }
        } else {
          if (that._isInstanceOf('FormData', options.formData)) {
            formData = options.formData;
          } else {
            formData = new FormData();
            $.each(this._getFormData(options), function (index, field) {
              formData.append(field.name, field.value);
            });
          }
          if (options.blob) {
            formData.append(paramName, options.blob, file.uploadName || file.name);
          } else {
            $.each(options.files, function (index, file) {
              // This check allows the tests to run with
              // dummy objects:
              if (that._isInstanceOf('File', file) || that._isInstanceOf('Blob', file)) {
                var fileName = file.uploadName || file.name;
                if (options.uniqueFilenames) {
                  fileName = that._getUniqueFilename(fileName, options.uniqueFilenames);
                }
                formData.append($.type(options.paramName) === 'array' && options.paramName[index] || paramName, file, fileName);
              }
            });
          }
        }
        options.data = formData;
      }
      // Blob reference is not needed anymore, free memory:
      options.blob = null;
    },
    _initIframeSettings: function _initIframeSettings(options) {
      var targetHost = $('<a></a>').prop('href', options.url).prop('host');
      // Setting the dataType to iframe enables the iframe transport:
      options.dataType = 'iframe ' + (options.dataType || '');
      // The iframe transport accepts a serialized array as form data:
      options.formData = this._getFormData(options);
      // Add redirect url to form data on cross-domain uploads:
      if (options.redirect && targetHost && targetHost !== location.host) {
        options.formData.push({
          name: options.redirectParamName || 'redirect',
          value: options.redirect
        });
      }
    },
    _initDataSettings: function _initDataSettings(options) {
      if (this._isXHRUpload(options)) {
        if (!this._chunkedUpload(options, true)) {
          if (!options.data) {
            this._initXHRData(options);
          }
          this._initProgressListener(options);
        }
        if (options.postMessage) {
          // Setting the dataType to postmessage enables the
          // postMessage transport:
          options.dataType = 'postmessage ' + (options.dataType || '');
        }
      } else {
        this._initIframeSettings(options);
      }
    },
    _getParamName: function _getParamName(options) {
      var fileInput = $(options.fileInput),
        paramName = options.paramName;
      if (!paramName) {
        paramName = [];
        fileInput.each(function () {
          var input = $(this),
            name = input.prop('name') || 'files[]',
            i = (input.prop('files') || [1]).length;
          while (i) {
            paramName.push(name);
            i -= 1;
          }
        });
        if (!paramName.length) {
          paramName = [fileInput.prop('name') || 'files[]'];
        }
      } else if (!$.isArray(paramName)) {
        paramName = [paramName];
      }
      return paramName;
    },
    _initFormSettings: function _initFormSettings(options) {
      // Retrieve missing options from the input field and the
      // associated form, if available:
      if (!options.form || !options.form.length) {
        options.form = $(options.fileInput.prop('form'));
        // If the given file input doesn't have an associated form,
        // use the default widget file input's form:
        if (!options.form.length) {
          options.form = $(this.options.fileInput.prop('form'));
        }
      }
      options.paramName = this._getParamName(options);
      if (!options.url) {
        options.url = options.form.prop('action') || location.href;
      }
      // The HTTP request method must be "POST" or "PUT":
      options.type = (options.type || $.type(options.form.prop('method')) === 'string' && options.form.prop('method') || '').toUpperCase();
      if (options.type !== 'POST' && options.type !== 'PUT' && options.type !== 'PATCH') {
        options.type = 'POST';
      }
      if (!options.formAcceptCharset) {
        options.formAcceptCharset = options.form.attr('accept-charset');
      }
    },
    _getAJAXSettings: function _getAJAXSettings(data) {
      var options = $.extend({}, this.options, data);
      this._initFormSettings(options);
      this._initDataSettings(options);
      return options;
    },
    // jQuery 1.6 doesn't provide .state(),
    // while jQuery 1.8+ removed .isRejected() and .isResolved():
    _getDeferredState: function _getDeferredState(deferred) {
      if (deferred.state) {
        return deferred.state();
      }
      if (deferred.isResolved()) {
        return 'resolved';
      }
      if (deferred.isRejected()) {
        return 'rejected';
      }
      return 'pending';
    },
    // Maps jqXHR callbacks to the equivalent
    // methods of the given Promise object:
    _enhancePromise: function _enhancePromise(promise) {
      promise.success = promise.done;
      promise.error = promise.fail;
      promise.complete = promise.always;
      return promise;
    },
    // Creates and returns a Promise object enhanced with
    // the jqXHR methods abort, success, error and complete:
    _getXHRPromise: function _getXHRPromise(resolveOrReject, context, args) {
      var dfd = $.Deferred(),
        promise = dfd.promise();
      // eslint-disable-next-line no-param-reassign
      context = context || this.options.context || promise;
      if (resolveOrReject === true) {
        dfd.resolveWith(context, args);
      } else if (resolveOrReject === false) {
        dfd.rejectWith(context, args);
      }
      promise.abort = dfd.promise;
      return this._enhancePromise(promise);
    },
    // Adds convenience methods to the data callback argument:
    _addConvenienceMethods: function _addConvenienceMethods(e, data) {
      var that = this,
        getPromise = function getPromise(args) {
          return $.Deferred().resolveWith(that, args).promise();
        };
      data.process = function (resolveFunc, rejectFunc) {
        if (resolveFunc || rejectFunc) {
          data._processQueue = this._processQueue = (this._processQueue || getPromise([this]))[that._promisePipe](function () {
            if (data.errorThrown) {
              return $.Deferred().rejectWith(that, [data]).promise();
            }
            return getPromise(arguments);
          })[that._promisePipe](resolveFunc, rejectFunc);
        }
        return this._processQueue || getPromise([this]);
      };
      data.submit = function () {
        if (this.state() !== 'pending') {
          data.jqXHR = this.jqXHR = that._trigger('submit', $.Event('submit', {
            delegatedEvent: e
          }), this) !== false && that._onSend(e, this);
        }
        return this.jqXHR || that._getXHRPromise();
      };
      data.abort = function () {
        if (this.jqXHR) {
          return this.jqXHR.abort();
        }
        this.errorThrown = 'abort';
        that._trigger('fail', null, this);
        return that._getXHRPromise(false);
      };
      data.state = function () {
        if (this.jqXHR) {
          return that._getDeferredState(this.jqXHR);
        }
        if (this._processQueue) {
          return that._getDeferredState(this._processQueue);
        }
      };
      data.processing = function () {
        return !this.jqXHR && this._processQueue && that._getDeferredState(this._processQueue) === 'pending';
      };
      data.progress = function () {
        return this._progress;
      };
      data.response = function () {
        return this._response;
      };
    },
    // Parses the Range header from the server response
    // and returns the uploaded bytes:
    _getUploadedBytes: function _getUploadedBytes(jqXHR) {
      var range = jqXHR.getResponseHeader('Range'),
        parts = range && range.split('-'),
        upperBytesPos = parts && parts.length > 1 && parseInt(parts[1], 10);
      return upperBytesPos && upperBytesPos + 1;
    },
    // Uploads a file in multiple, sequential requests
    // by splitting the file up in multiple blob chunks.
    // If the second parameter is true, only tests if the file
    // should be uploaded in chunks, but does not invoke any
    // upload requests:
    _chunkedUpload: function _chunkedUpload(options, testOnly) {
      options.uploadedBytes = options.uploadedBytes || 0;
      var that = this,
        file = options.files[0],
        fs = file.size,
        ub = options.uploadedBytes,
        mcs = options.maxChunkSize || fs,
        slice = this._blobSlice,
        dfd = $.Deferred(),
        promise = dfd.promise(),
        jqXHR,
        _upload;
      if (!(this._isXHRUpload(options) && slice && (ub || ($.type(mcs) === 'function' ? mcs(options) : mcs) < fs)) || options.data) {
        return false;
      }
      if (testOnly) {
        return true;
      }
      if (ub >= fs) {
        file.error = options.i18n('uploadedBytes');
        return this._getXHRPromise(false, options.context, [null, 'error', file.error]);
      }
      // The chunk upload method:
      _upload = function upload() {
        // Clone the options object for each chunk upload:
        var o = $.extend({}, options),
          currentLoaded = o._progress.loaded;
        o.blob = slice.call(file, ub, ub + ($.type(mcs) === 'function' ? mcs(o) : mcs), file.type);
        // Store the current chunk size, as the blob itself
        // will be dereferenced after data processing:
        o.chunkSize = o.blob.size;
        // Expose the chunk bytes position range:
        o.contentRange = 'bytes ' + ub + '-' + (ub + o.chunkSize - 1) + '/' + fs;
        // Trigger chunkbeforesend to allow form data to be updated for this chunk
        that._trigger('chunkbeforesend', null, o);
        // Process the upload data (the blob and potential form data):
        that._initXHRData(o);
        // Add progress listeners for this chunk upload:
        that._initProgressListener(o);
        jqXHR = (that._trigger('chunksend', null, o) !== false && $.ajax(o) || that._getXHRPromise(false, o.context)).done(function (result, textStatus, jqXHR) {
          ub = that._getUploadedBytes(jqXHR) || ub + o.chunkSize;
          // Create a progress event if no final progress event
          // with loaded equaling total has been triggered
          // for this chunk:
          if (currentLoaded + o.chunkSize - o._progress.loaded) {
            that._onProgress($.Event('progress', {
              lengthComputable: true,
              loaded: ub - o.uploadedBytes,
              total: ub - o.uploadedBytes
            }), o);
          }
          options.uploadedBytes = o.uploadedBytes = ub;
          o.result = result;
          o.textStatus = textStatus;
          o.jqXHR = jqXHR;
          that._trigger('chunkdone', null, o);
          that._trigger('chunkalways', null, o);
          if (ub < fs) {
            // File upload not yet complete,
            // continue with the next chunk:
            _upload();
          } else {
            dfd.resolveWith(o.context, [result, textStatus, jqXHR]);
          }
        }).fail(function (jqXHR, textStatus, errorThrown) {
          o.jqXHR = jqXHR;
          o.textStatus = textStatus;
          o.errorThrown = errorThrown;
          that._trigger('chunkfail', null, o);
          that._trigger('chunkalways', null, o);
          dfd.rejectWith(o.context, [jqXHR, textStatus, errorThrown]);
        }).always(function () {
          that._deinitProgressListener(o);
        });
      };
      this._enhancePromise(promise);
      promise.abort = function () {
        return jqXHR.abort();
      };
      _upload();
      return promise;
    },
    _beforeSend: function _beforeSend(e, data) {
      if (this._active === 0) {
        // the start callback is triggered when an upload starts
        // and no other uploads are currently running,
        // equivalent to the global ajaxStart event:
        this._trigger('start');
        // Set timer for global bitrate progress calculation:
        this._bitrateTimer = new this._BitrateTimer();
        // Reset the global progress values:
        this._progress.loaded = this._progress.total = 0;
        this._progress.bitrate = 0;
      }
      // Make sure the container objects for the .response() and
      // .progress() methods on the data object are available
      // and reset to their initial state:
      this._initResponseObject(data);
      this._initProgressObject(data);
      data._progress.loaded = data.loaded = data.uploadedBytes || 0;
      data._progress.total = data.total = this._getTotal(data.files) || 1;
      data._progress.bitrate = data.bitrate = 0;
      this._active += 1;
      // Initialize the global progress values:
      this._progress.loaded += data.loaded;
      this._progress.total += data.total;
    },
    _onDone: function _onDone(result, textStatus, jqXHR, options) {
      var total = options._progress.total,
        response = options._response;
      if (options._progress.loaded < total) {
        // Create a progress event if no final progress event
        // with loaded equaling total has been triggered:
        this._onProgress($.Event('progress', {
          lengthComputable: true,
          loaded: total,
          total: total
        }), options);
      }
      response.result = options.result = result;
      response.textStatus = options.textStatus = textStatus;
      response.jqXHR = options.jqXHR = jqXHR;
      this._trigger('done', null, options);
    },
    _onFail: function _onFail(jqXHR, textStatus, errorThrown, options) {
      var response = options._response;
      if (options.recalculateProgress) {
        // Remove the failed (error or abort) file upload from
        // the global progress calculation:
        this._progress.loaded -= options._progress.loaded;
        this._progress.total -= options._progress.total;
      }
      response.jqXHR = options.jqXHR = jqXHR;
      response.textStatus = options.textStatus = textStatus;
      response.errorThrown = options.errorThrown = errorThrown;
      this._trigger('fail', null, options);
    },
    _onAlways: function _onAlways(jqXHRorResult, textStatus, jqXHRorError, options) {
      // jqXHRorResult, textStatus and jqXHRorError are added to the
      // options object via done and fail callbacks
      this._trigger('always', null, options);
    },
    _onSend: function _onSend(e, data) {
      if (!data.submit) {
        this._addConvenienceMethods(e, data);
      }
      var that = this,
        jqXHR,
        aborted,
        slot,
        pipe,
        options = that._getAJAXSettings(data),
        send = function send() {
          that._sending += 1;
          // Set timer for bitrate progress calculation:
          options._bitrateTimer = new that._BitrateTimer();
          jqXHR = jqXHR || ((aborted || that._trigger('send', $.Event('send', {
            delegatedEvent: e
          }), options) === false) && that._getXHRPromise(false, options.context, aborted) || that._chunkedUpload(options) || $.ajax(options)).done(function (result, textStatus, jqXHR) {
            that._onDone(result, textStatus, jqXHR, options);
          }).fail(function (jqXHR, textStatus, errorThrown) {
            that._onFail(jqXHR, textStatus, errorThrown, options);
          }).always(function (jqXHRorResult, textStatus, jqXHRorError) {
            that._deinitProgressListener(options);
            that._onAlways(jqXHRorResult, textStatus, jqXHRorError, options);
            that._sending -= 1;
            that._active -= 1;
            if (options.limitConcurrentUploads && options.limitConcurrentUploads > that._sending) {
              // Start the next queued upload,
              // that has not been aborted:
              var nextSlot = that._slots.shift();
              while (nextSlot) {
                if (that._getDeferredState(nextSlot) === 'pending') {
                  nextSlot.resolve();
                  break;
                }
                nextSlot = that._slots.shift();
              }
            }
            if (that._active === 0) {
              // The stop callback is triggered when all uploads have
              // been completed, equivalent to the global ajaxStop event:
              that._trigger('stop');
            }
          });
          return jqXHR;
        };
      this._beforeSend(e, options);
      if (this.options.sequentialUploads || this.options.limitConcurrentUploads && this.options.limitConcurrentUploads <= this._sending) {
        if (this.options.limitConcurrentUploads > 1) {
          slot = $.Deferred();
          this._slots.push(slot);
          pipe = slot[that._promisePipe](send);
        } else {
          this._sequence = this._sequence[that._promisePipe](send, send);
          pipe = this._sequence;
        }
        // Return the piped Promise object, enhanced with an abort method,
        // which is delegated to the jqXHR object of the current upload,
        // and jqXHR callbacks mapped to the equivalent Promise methods:
        pipe.abort = function () {
          aborted = [undefined, 'abort', 'abort'];
          if (!jqXHR) {
            if (slot) {
              slot.rejectWith(options.context, aborted);
            }
            return send();
          }
          return jqXHR.abort();
        };
        return this._enhancePromise(pipe);
      }
      return send();
    },
    _onAdd: function _onAdd(e, data) {
      var that = this,
        result = true,
        options = $.extend({}, this.options, data),
        files = data.files,
        filesLength = files.length,
        limit = options.limitMultiFileUploads,
        limitSize = options.limitMultiFileUploadSize,
        overhead = options.limitMultiFileUploadSizeOverhead,
        batchSize = 0,
        paramName = this._getParamName(options),
        paramNameSet,
        paramNameSlice,
        fileSet,
        i,
        j = 0;
      if (!filesLength) {
        return false;
      }
      if (limitSize && files[0].size === undefined) {
        limitSize = undefined;
      }
      if (!(options.singleFileUploads || limit || limitSize) || !this._isXHRUpload(options)) {
        fileSet = [files];
        paramNameSet = [paramName];
      } else if (!(options.singleFileUploads || limitSize) && limit) {
        fileSet = [];
        paramNameSet = [];
        for (i = 0; i < filesLength; i += limit) {
          fileSet.push(files.slice(i, i + limit));
          paramNameSlice = paramName.slice(i, i + limit);
          if (!paramNameSlice.length) {
            paramNameSlice = paramName;
          }
          paramNameSet.push(paramNameSlice);
        }
      } else if (!options.singleFileUploads && limitSize) {
        fileSet = [];
        paramNameSet = [];
        for (i = 0; i < filesLength; i = i + 1) {
          batchSize += files[i].size + overhead;
          if (i + 1 === filesLength || batchSize + files[i + 1].size + overhead > limitSize || limit && i + 1 - j >= limit) {
            fileSet.push(files.slice(j, i + 1));
            paramNameSlice = paramName.slice(j, i + 1);
            if (!paramNameSlice.length) {
              paramNameSlice = paramName;
            }
            paramNameSet.push(paramNameSlice);
            j = i + 1;
            batchSize = 0;
          }
        }
      } else {
        paramNameSet = paramName;
      }
      data.originalFiles = files;
      $.each(fileSet || files, function (index, element) {
        var newData = $.extend({}, data);
        newData.files = fileSet ? element : [element];
        newData.paramName = paramNameSet[index];
        that._initResponseObject(newData);
        that._initProgressObject(newData);
        that._addConvenienceMethods(e, newData);
        result = that._trigger('add', $.Event('add', {
          delegatedEvent: e
        }), newData);
        return result;
      });
      return result;
    },
    _replaceFileInput: function _replaceFileInput(data) {
      var input = data.fileInput,
        inputClone = input.clone(true),
        restoreFocus = input.is(document.activeElement);
      // Add a reference for the new cloned file input to the data argument:
      data.fileInputClone = inputClone;
      $('<form></form>').append(inputClone)[0].reset();
      // Detaching allows to insert the fileInput on another form
      // without losing the file input value:
      input.after(inputClone).detach();
      // If the fileInput had focus before it was detached,
      // restore focus to the inputClone.
      if (restoreFocus) {
        inputClone.trigger('focus');
      }
      // Avoid memory leaks with the detached file input:
      $.cleanData(input.off('remove'));
      // Replace the original file input element in the fileInput
      // elements set with the clone, which has been copied including
      // event handlers:
      this.options.fileInput = this.options.fileInput.map(function (i, el) {
        if (el === input[0]) {
          return inputClone[0];
        }
        return el;
      });
      // If the widget has been initialized on the file input itself,
      // override this.element with the file input clone:
      if (input[0] === this.element[0]) {
        this.element = inputClone;
      }
    },
    _handleFileTreeEntry: function _handleFileTreeEntry(entry, path) {
      var that = this,
        dfd = $.Deferred(),
        entries = [],
        dirReader,
        errorHandler = function errorHandler(e) {
          if (e && !e.entry) {
            e.entry = entry;
          }
          // Since $.when returns immediately if one
          // Deferred is rejected, we use resolve instead.
          // This allows valid files and invalid items
          // to be returned together in one set:
          dfd.resolve([e]);
        },
        successHandler = function successHandler(entries) {
          that._handleFileTreeEntries(entries, path + entry.name + '/').done(function (files) {
            dfd.resolve(files);
          }).fail(errorHandler);
        },
        readEntries = function readEntries() {
          dirReader.readEntries(function (results) {
            if (!results.length) {
              successHandler(entries);
            } else {
              entries = entries.concat(results);
              readEntries();
            }
          }, errorHandler);
        };
      // eslint-disable-next-line no-param-reassign
      path = path || '';
      if (entry.isFile) {
        if (entry._file) {
          // Workaround for Chrome bug #149735
          entry._file.relativePath = path;
          dfd.resolve(entry._file);
        } else {
          entry.file(function (file) {
            file.relativePath = path;
            dfd.resolve(file);
          }, errorHandler);
        }
      } else if (entry.isDirectory) {
        dirReader = entry.createReader();
        readEntries();
      } else {
        // Return an empty list for file system items
        // other than files or directories:
        dfd.resolve([]);
      }
      return dfd.promise();
    },
    _handleFileTreeEntries: function _handleFileTreeEntries(entries, path) {
      var that = this;
      return $.when.apply($, $.map(entries, function (entry) {
        return that._handleFileTreeEntry(entry, path);
      }))[this._promisePipe](function () {
        return Array.prototype.concat.apply([], arguments);
      });
    },
    _getDroppedFiles: function _getDroppedFiles(dataTransfer) {
      // eslint-disable-next-line no-param-reassign
      dataTransfer = dataTransfer || {};
      var items = dataTransfer.items;
      if (items && items.length && (items[0].webkitGetAsEntry || items[0].getAsEntry)) {
        return this._handleFileTreeEntries($.map(items, function (item) {
          var entry;
          if (item.webkitGetAsEntry) {
            entry = item.webkitGetAsEntry();
            if (entry) {
              // Workaround for Chrome bug #149735:
              entry._file = item.getAsFile();
            }
            return entry;
          }
          return item.getAsEntry();
        }));
      }
      return $.Deferred().resolve($.makeArray(dataTransfer.files)).promise();
    },
    _getSingleFileInputFiles: function _getSingleFileInputFiles(fileInput) {
      // eslint-disable-next-line no-param-reassign
      fileInput = $(fileInput);
      var entries = fileInput.prop('entries'),
        files,
        value;
      if (entries && entries.length) {
        return this._handleFileTreeEntries(entries);
      }
      files = $.makeArray(fileInput.prop('files'));
      if (!files.length) {
        value = fileInput.prop('value');
        if (!value) {
          return $.Deferred().resolve([]).promise();
        }
        // If the files property is not available, the browser does not
        // support the File API and we add a pseudo File object with
        // the input value as name with path information removed:
        files = [{
          name: value.replace(/^.*\\/, '')
        }];
      } else if (files[0].name === undefined && files[0].fileName) {
        // File normalization for Safari 4 and Firefox 3:
        $.each(files, function (index, file) {
          file.name = file.fileName;
          file.size = file.fileSize;
        });
      }
      return $.Deferred().resolve(files).promise();
    },
    _getFileInputFiles: function _getFileInputFiles(fileInput) {
      if (!(fileInput instanceof $) || fileInput.length === 1) {
        return this._getSingleFileInputFiles(fileInput);
      }
      return $.when.apply($, $.map(fileInput, this._getSingleFileInputFiles))[this._promisePipe](function () {
        return Array.prototype.concat.apply([], arguments);
      });
    },
    _onChange: function _onChange(e) {
      var that = this,
        data = {
          fileInput: $(e.target),
          form: $(e.target.form)
        };
      this._getFileInputFiles(data.fileInput).always(function (files) {
        data.files = files;
        if (that.options.replaceFileInput) {
          that._replaceFileInput(data);
        }
        if (that._trigger('change', $.Event('change', {
          delegatedEvent: e
        }), data) !== false) {
          that._onAdd(e, data);
        }
      });
    },
    _onPaste: function _onPaste(e) {
      var items = e.originalEvent && e.originalEvent.clipboardData && e.originalEvent.clipboardData.items,
        data = {
          files: []
        };
      if (items && items.length) {
        $.each(items, function (index, item) {
          var file = item.getAsFile && item.getAsFile();
          if (file) {
            data.files.push(file);
          }
        });
        if (this._trigger('paste', $.Event('paste', {
          delegatedEvent: e
        }), data) !== false) {
          this._onAdd(e, data);
        }
      }
    },
    _onDrop: function _onDrop(e) {
      e.dataTransfer = e.originalEvent && e.originalEvent.dataTransfer;
      var that = this,
        dataTransfer = e.dataTransfer,
        data = {};
      if (dataTransfer && dataTransfer.files && dataTransfer.files.length) {
        e.preventDefault();
        this._getDroppedFiles(dataTransfer).always(function (files) {
          data.files = files;
          if (that._trigger('drop', $.Event('drop', {
            delegatedEvent: e
          }), data) !== false) {
            that._onAdd(e, data);
          }
        });
      }
    },
    _onDragOver: getDragHandler('dragover'),
    _onDragEnter: getDragHandler('dragenter'),
    _onDragLeave: getDragHandler('dragleave'),
    _initEventHandlers: function _initEventHandlers() {
      if (this._isXHRUpload(this.options)) {
        this._on(this.options.dropZone, {
          dragover: this._onDragOver,
          drop: this._onDrop,
          // event.preventDefault() on dragenter is required for IE10+:
          dragenter: this._onDragEnter,
          // dragleave is not required, but added for completeness:
          dragleave: this._onDragLeave
        });
        this._on(this.options.pasteZone, {
          paste: this._onPaste
        });
      }
      if ($.support.fileInput) {
        this._on(this.options.fileInput, {
          change: this._onChange
        });
      }
    },
    _destroyEventHandlers: function _destroyEventHandlers() {
      this._off(this.options.dropZone, 'dragenter dragleave dragover drop');
      this._off(this.options.pasteZone, 'paste');
      this._off(this.options.fileInput, 'change');
    },
    _destroy: function _destroy() {
      this._destroyEventHandlers();
    },
    _setOption: function _setOption(key, value) {
      var reinit = $.inArray(key, this._specialOptions) !== -1;
      if (reinit) {
        this._destroyEventHandlers();
      }
      this._super(key, value);
      if (reinit) {
        this._initSpecialOptions();
        this._initEventHandlers();
      }
    },
    _initSpecialOptions: function _initSpecialOptions() {
      var options = this.options;
      if (options.fileInput === undefined) {
        options.fileInput = this.element.is('input[type="file"]') ? this.element : this.element.find('input[type="file"]');
      } else if (!(options.fileInput instanceof $)) {
        options.fileInput = $(options.fileInput);
      }
      if (!(options.dropZone instanceof $)) {
        options.dropZone = $(options.dropZone);
      }
      if (!(options.pasteZone instanceof $)) {
        options.pasteZone = $(options.pasteZone);
      }
    },
    _getRegExp: function _getRegExp(str) {
      var parts = str.split('/'),
        modifiers = parts.pop();
      parts.shift();
      return new RegExp(parts.join('/'), modifiers);
    },
    _isRegExpOption: function _isRegExpOption(key, value) {
      return key !== 'url' && $.type(value) === 'string' && /^\/.*\/[igm]{0,3}$/.test(value);
    },
    _initDataAttributes: function _initDataAttributes() {
      var that = this,
        options = this.options,
        data = this.element.data();
      // Initialize options set via HTML5 data-attributes:
      $.each(this.element[0].attributes, function (index, attr) {
        var key = attr.name.toLowerCase(),
          value;
        if (/^data-/.test(key)) {
          // Convert hyphen-ated key to camelCase:
          key = key.slice(5).replace(/-[a-z]/g, function (str) {
            return str.charAt(1).toUpperCase();
          });
          value = data[key];
          if (that._isRegExpOption(key, value)) {
            value = that._getRegExp(value);
          }
          options[key] = value;
        }
      });
    },
    _create: function _create() {
      this._initDataAttributes();
      this._initSpecialOptions();
      this._slots = [];
      this._sequence = this._getXHRPromise(true);
      this._sending = this._active = 0;
      this._initProgressObject(this);
      this._initEventHandlers();
    },
    // This method is exposed to the widget API and allows to query
    // the number of active uploads:
    active: function active() {
      return this._active;
    },
    // This method is exposed to the widget API and allows to query
    // the widget upload progress.
    // It returns an object with loaded, total and bitrate properties
    // for the running uploads:
    progress: function progress() {
      return this._progress;
    },
    // This method is exposed to the widget API and allows adding files
    // using the fileupload API. The data parameter accepts an object which
    // must have a files property and can contain additional options:
    // .fileupload('add', {files: filesList});
    add: function add(data) {
      var that = this;
      if (!data || this.options.disabled) {
        return;
      }
      if (data.fileInput && !data.files) {
        this._getFileInputFiles(data.fileInput).always(function (files) {
          data.files = files;
          that._onAdd(null, data);
        });
      } else {
        data.files = $.makeArray(data.files);
        this._onAdd(null, data);
      }
    },
    // This method is exposed to the widget API and allows sending files
    // using the fileupload API. The data parameter accepts an object which
    // must have a files or fileInput property and can contain additional options:
    // .fileupload('send', {files: filesList});
    // The method returns a Promise object for the file upload call.
    send: function send(data) {
      if (data && !this.options.disabled) {
        if (data.fileInput && !data.files) {
          var that = this,
            dfd = $.Deferred(),
            promise = dfd.promise(),
            jqXHR,
            aborted;
          promise.abort = function () {
            aborted = true;
            if (jqXHR) {
              return jqXHR.abort();
            }
            dfd.reject(null, 'abort', 'abort');
            return promise;
          };
          this._getFileInputFiles(data.fileInput).always(function (files) {
            if (aborted) {
              return;
            }
            if (!files.length) {
              dfd.reject();
              return;
            }
            data.files = files;
            jqXHR = that._onSend(null, data);
            jqXHR.then(function (result, textStatus, jqXHR) {
              dfd.resolve(result, textStatus, jqXHR);
            }, function (jqXHR, textStatus, errorThrown) {
              dfd.reject(jqXHR, textStatus, errorThrown);
            });
          });
          return this._enhancePromise(promise);
        }
        data.files = $.makeArray(data.files);
        if (data.files.length) {
          return this._onSend(null, data);
        }
      }
      return this._getXHRPromise(false, data && data.context);
    }
  });
});
function _typeof(o) { "@babel/helpers - typeof"; return _typeof = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function (o) { return typeof o; } : function (o) { return o && "function" == typeof Symbol && o.constructor === Symbol && o !== Symbol.prototype ? "symbol" : typeof o; }, _typeof(o); }
/*
 * jQuery Iframe Transport Plugin
 * https://github.com/blueimp/jQuery-File-Upload
 *
 * Copyright 2011, Sebastian Tschan
 * https://blueimp.net
 *
 * Licensed under the MIT license:
 * https://opensource.org/licenses/MIT
 */

/* global define, require */

(function (factory) {
  'use strict';

  if (typeof define === 'function' && define.amd) {
    // Register as an anonymous AMD module:
    define(['jquery'], factory);
  } else if ((typeof exports === "undefined" ? "undefined" : _typeof(exports)) === 'object') {
    // Node/CommonJS:
    factory(require('jquery'));
  } else {
    // Browser globals:
    factory(window.jQuery);
  }
})(function ($) {
  'use strict';

  // Helper variable to create unique names for the transport iframes:
  var counter = 0,
    jsonAPI = $,
    jsonParse = 'parseJSON';
  if ('JSON' in window && 'parse' in JSON) {
    jsonAPI = JSON;
    jsonParse = 'parse';
  }

  // The iframe transport accepts four additional options:
  // options.fileInput: a jQuery collection of file input fields
  // options.paramName: the parameter name for the file form data,
  //  overrides the name property of the file input field(s),
  //  can be a string or an array of strings.
  // options.formData: an array of objects with name and value properties,
  //  equivalent to the return data of .serializeArray(), e.g.:
  //  [{name: 'a', value: 1}, {name: 'b', value: 2}]
  // options.initialIframeSrc: the URL of the initial iframe src,
  //  by default set to "javascript:false;"
  $.ajaxTransport('iframe', function (options) {
    if (options.async) {
      // javascript:false as initial iframe src
      // prevents warning popups on HTTPS in IE6:
      // eslint-disable-next-line no-script-url
      var initialIframeSrc = options.initialIframeSrc || 'javascript:false;',
        form,
        iframe,
        addParamChar;
      return {
        send: function send(_, completeCallback) {
          form = $('<form style="display:none;"></form>');
          form.attr('accept-charset', options.formAcceptCharset);
          addParamChar = /\?/.test(options.url) ? '&' : '?';
          // XDomainRequest only supports GET and POST:
          if (options.type === 'DELETE') {
            options.url = options.url + addParamChar + '_method=DELETE';
            options.type = 'POST';
          } else if (options.type === 'PUT') {
            options.url = options.url + addParamChar + '_method=PUT';
            options.type = 'POST';
          } else if (options.type === 'PATCH') {
            options.url = options.url + addParamChar + '_method=PATCH';
            options.type = 'POST';
          }
          // IE versions below IE8 cannot set the name property of
          // elements that have already been added to the DOM,
          // so we set the name along with the iframe HTML markup:
          counter += 1;
          iframe = $('<iframe src="' + initialIframeSrc + '" name="iframe-transport-' + counter + '"></iframe>').on('load', function () {
            var fileInputClones,
              paramNames = $.isArray(options.paramName) ? options.paramName : [options.paramName];
            iframe.off('load').on('load', function () {
              var response;
              // Wrap in a try/catch block to catch exceptions thrown
              // when trying to access cross-domain iframe contents:
              try {
                response = iframe.contents();
                // Google Chrome and Firefox do not throw an
                // exception when calling iframe.contents() on
                // cross-domain requests, so we unify the response:
                if (!response.length || !response[0].firstChild) {
                  throw new Error();
                }
              } catch (e) {
                response = undefined;
              }
              // The complete callback returns the
              // iframe content document as response object:
              completeCallback(200, 'success', {
                iframe: response
              });
              // Fix for IE endless progress bar activity bug
              // (happens on form submits to iframe targets):
              $('<iframe src="' + initialIframeSrc + '"></iframe>').appendTo(form);
              window.setTimeout(function () {
                // Removing the form in a setTimeout call
                // allows Chrome's developer tools to display
                // the response result
                form.remove();
              }, 0);
            });
            form.prop('target', iframe.prop('name')).prop('action', options.url).prop('method', options.type);
            if (options.formData) {
              $.each(options.formData, function (index, field) {
                $('<input type="hidden"/>').prop('name', field.name).val(field.value).appendTo(form);
              });
            }
            if (options.fileInput && options.fileInput.length && options.type === 'POST') {
              fileInputClones = options.fileInput.clone();
              // Insert a clone for each file input field:
              options.fileInput.after(function (index) {
                return fileInputClones[index];
              });
              if (options.paramName) {
                options.fileInput.each(function (index) {
                  $(this).prop('name', paramNames[index] || options.paramName);
                });
              }
              // Appending the file input fields to the hidden form
              // removes them from their original location:
              form.append(options.fileInput).prop('enctype', 'multipart/form-data')
              // enctype must be set as encoding for IE:
              .prop('encoding', 'multipart/form-data');
              // Remove the HTML5 form attribute from the input(s):
              options.fileInput.removeAttr('form');
            }
            window.setTimeout(function () {
              // Submitting the form in a setTimeout call fixes an issue with
              // Safari 13 not triggering the iframe load event after resetting
              // the load event handler, see also:
              // https://github.com/blueimp/jQuery-File-Upload/issues/3633
              form.submit();
              // Insert the file input fields at their original location
              // by replacing the clones with the originals:
              if (fileInputClones && fileInputClones.length) {
                options.fileInput.each(function (index, input) {
                  var clone = $(fileInputClones[index]);
                  // Restore the original name and form properties:
                  $(input).prop('name', clone.prop('name')).attr('form', clone.attr('form'));
                  clone.replaceWith(input);
                });
              }
            }, 0);
          });
          form.append(iframe).appendTo(document.body);
        },
        abort: function abort() {
          if (iframe) {
            // javascript:false as iframe src aborts the request
            // and prevents warning popups on HTTPS in IE6.
            iframe.off('load').prop('src', initialIframeSrc);
          }
          if (form) {
            form.remove();
          }
        }
      };
    }
  });

  // The iframe transport returns the iframe content document as response.
  // The following adds converters from iframe to text, json, html, xml
  // and script.
  // Please note that the Content-Type for JSON responses has to be text/plain
  // or text/html, if the browser doesn't include application/json in the
  // Accept header, else IE will show a download dialog.
  // The Content-Type for XML responses on the other hand has to be always
  // application/xml or text/xml, so IE properly parses the XML response.
  // See also
  // https://github.com/blueimp/jQuery-File-Upload/wiki/Setup#content-type-negotiation
  $.ajaxSetup({
    converters: {
      'iframe text': function iframeText(iframe) {
        return iframe && $(iframe[0].body).text();
      },
      'iframe json': function iframeJson(iframe) {
        return iframe && jsonAPI[jsonParse]($(iframe[0].body).text());
      },
      'iframe html': function iframeHtml(iframe) {
        return iframe && $(iframe[0].body).html();
      },
      'iframe xml': function iframeXml(iframe) {
        var xmlDoc = iframe && iframe[0];
        return xmlDoc && $.isXMLDoc(xmlDoc) ? xmlDoc : $.parseXML(xmlDoc.XMLDocument && xmlDoc.XMLDocument.xml || $(xmlDoc.body).html());
      },
      'iframe script': function iframeScript(iframe) {
        return iframe && $.globalEval($(iframe[0].body).text());
      }
    }
  });
});
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIk1lZGlhRmllbGQvYXR0YWNoZWRNZWRpYUZpZWxkLmpzIiwiTWVkaWFGaWVsZC9tZWRpYWZpZWxkLmpzIiwiTWVkaWFGaWVsZC9tZWRpYWZpZWxkc0FwcHNBcnJheS5qcyIsIk1lZGlhRmllbGQvbWVkaWFGaWVsZFRodW1ic0NvbnRhaW5lci5qcyIsIk1lZGlhQXBwL2FwcC5qcyIsIk1lZGlhQXBwL2ZpbGV1cGxvYWQuanMiLCJNZWRpYUFwcC9mb2xkZXJDb21wb25lbnQuanMiLCJNZWRpYUFwcC9mb250LWF3ZXNvbWUtdGh1bWJuYWlscy5qcyIsIk1lZGlhQXBwL21lZGlhSXRlbXNHcmlkQ29tcG9uZW50LmpzIiwiTWVkaWFBcHAvbWVkaWFJdGVtc1RhYmxlQ29tcG9uZW50LmpzIiwiTWVkaWFBcHAvcGFnZXJDb21wb25lbnQuanMiLCJNZWRpYUFwcC9zb3J0SW5kaWNhdG9yQ29tcG9uZW50LmpzIiwiU2hhcmVkL3VwbG9hZENvbXBvbmVudC5qcyIsIlNoYXJlZC91cGxvYWRMaXN0Q29tcG9uZW50LmpzIiwiaGVscGVycy5qcyIsImpxdWVyeS5maWxldXBsb2FkLmpzIiwianF1ZXJ5LmlmcmFtZS10cmFuc3BvcnQuanMiXSwibmFtZXMiOlsiaW5pdGlhbGl6ZUF0dGFjaGVkTWVkaWFGaWVsZCIsImVsIiwiaWRPZlVwbG9hZEJ1dHRvbiIsInVwbG9hZEFjdGlvbiIsIm1lZGlhSXRlbVVybCIsImFsbG93TXVsdGlwbGUiLCJhbGxvd01lZGlhVGV4dCIsImFsbG93QW5jaG9ycyIsInRlbXBVcGxvYWRGb2xkZXIiLCJtYXhVcGxvYWRDaHVua1NpemUiLCJ0YXJnZXQiLCIkIiwiZG9jdW1lbnQiLCJnZXRFbGVtZW50QnlJZCIsImRhdGEiLCJpbml0aWFsUGF0aHMiLCJtZWRpYUZpZWxkRWRpdG9yIiwiaWRwcmVmaXgiLCJhdHRyIiwibWVkaWFGaWVsZEFwcCIsIm1lZGlhRmllbGRBcHBzIiwicHVzaCIsIlZ1ZSIsImdldCIsIm1lZGlhSXRlbXMiLCJzZWxlY3RlZE1lZGlhIiwic21hbGxUaHVtYnMiLCJpZFByZWZpeCIsImluaXRpYWxpemVkIiwiYmFja3VwTWVkaWFUZXh0IiwiYmFja3VwQW5jaG9yIiwibWVkaWFUZXh0bW9kYWwiLCJhbmNob3JpbmdNb2RhbCIsImNyZWF0ZWQiLCJzZWxmIiwiY3VycmVudFByZWZzIiwiSlNPTiIsInBhcnNlIiwibG9jYWxTdG9yYWdlIiwiZ2V0SXRlbSIsImNvbXB1dGVkIiwicGF0aHMiLCJtZWRpYVBhdGhzIiwic3RyaW5naWZ5IiwiZm9yRWFjaCIsIngiLCJtZWRpYVBhdGgiLCJwYXRoIiwiaXNSZW1vdmVkIiwiaXNOZXciLCJtZWRpYVRleHQiLCJhbmNob3IiLCJhdHRhY2hlZEZpbGVOYW1lIiwic2V0IiwidmFsdWVzIiwic2lnbmFsIiwiRGVmZXJyZWQiLCJpdGVtcyIsImxlbmd0aCIsImkiLCJuYW1lIiwibWltZSIsInByb21pc2UiLCJ3aGVuIiwiZG9uZSIsImFqYXgiLCJ1cmwiLCJlbmNvZGVVUklDb21wb25lbnQiLCJtZXRob2QiLCJzdWNjZXNzIiwidnVla2V5IiwidG9TdHJpbmciLCJzcGxpY2UiLCJlcnJvciIsImNvbnNvbGUiLCJsb2ciLCJ5IiwicmVzb2x2ZSIsImZpbGVTaXplIiwiTWF0aCIsInJvdW5kIiwic2l6ZSIsImNhbkFkZE1lZGlhIiwibm9uUmVtb3ZlZE1lZGlhSXRlbXMiLCJ0aHVtYlNpemUiLCJuZXdQcmVmcyIsIm1vdW50ZWQiLCIkb24iLCJtZWRpYSIsInNlbGVjdEFuZERlbGV0ZU1lZGlhIiwic2VsZWN0TWVkaWEiLCJzZWxlY3RvciIsImVkaXRvcklkIiwiY2h1bmtlZEZpbGVVcGxvYWRJZCIsInJhbmRvbVVVSUQiLCJmaWxldXBsb2FkIiwibGltaXRDb25jdXJyZW50VXBsb2FkcyIsImRyb3Bab25lIiwiZGF0YVR5cGUiLCJtYXhDaHVua1NpemUiLCJhZGQiLCJlIiwiY291bnQiLCJmaWxlcyIsInVwbG9hZE5hbWUiLCJnZXRVbmlxdWVJZCIsInN1Ym1pdCIsImZvcm1EYXRhIiwiYW50aUZvcmdlcnlUb2tlbiIsInZhbCIsInZhbHVlIiwibmV3TWVkaWFJdGVtcyIsImVycm9ybXNnIiwicmVzdWx0IiwidW5kZWZpbmVkIiwiYWxlcnQiLCJjb25jYXQiLCJqcVhIUiIsInRleHRTdGF0dXMiLCJlcnJvclRocm93biIsIm9uIiwib3B0aW9ucyIsImZpbGUiLCJibG9iIiwiRmlsZSIsInR5cGUiLCJsYXN0TW9kaWZpZWQiLCJtZXRob2RzIiwicmVwbGFjZSIsImMiLCJyIiwicmFuZG9tIiwidiIsInJlbW92ZVNlbGVjdGVkIiwiZXZlbnQiLCJyZW1vdmVkIiwiaW5kZXgiLCJpbmRleE9mIiwic2hvd01lZGlhVGV4dE1vZGFsIiwibWVkaWFUZXh0TW9kYWwiLCJib290c3RyYXAiLCJNb2RhbCIsIiRyZWZzIiwic2hvdyIsImNhbmNlbE1lZGlhVGV4dE1vZGFsIiwiaGlkZSIsInNob3dBbmNob3JNb2RhbCIsImNhbmNlbEFuY2hvcmluZ01vZGFsIiwicmVzZXRBbmNob3IiLCJvbkFuY2hvckRyb3AiLCJpbWFnZSIsImFuY2hvckltYWdlIiwib2Zmc2V0WCIsImNsaWVudFdpZHRoIiwib2Zmc2V0WSIsImNsaWVudEhlaWdodCIsImFuY2hvckxlZnQiLCJtb2RhbEJvZHkiLCJvZmZzZXQiLCJwb3NpdGlvbiIsImFuY2hvclRvcCIsInNldEFuY2hvciIsImFkZE1lZGlhRmlsZXMiLCJzZXRUaW1lb3V0Iiwid2F0Y2giLCJkZWVwIiwiaGFuZGxlciIsInRyaWdnZXIiLCJzZXRJdGVtIiwiaW5pdGlhbGl6ZU1lZGlhRmllbGQiLCJtb2RhbEJvZHlFbGVtZW50IiwiYWRkRXZlbnRMaXN0ZW5lciIsImFwcGVuZFRvIiwic2hvd01vZGFsIiwiZmluZCIsIm1vZGFsIiwib2ZmIiwibWVkaWFBcHAiLCJzZWxlY3RlZE1lZGlhcyIsImFuY2hvckljb24iLCJxdWVyeVNlbGVjdG9yIiwiTnVtYmVyIiwiaXNJbnRlZ2VyIiwiY29tcG9uZW50IiwidGVtcGxhdGUiLCJUIiwicHJvcHMiLCJBcnJheSIsIk9iamVjdCIsIlN0cmluZyIsIm1lZGlhTm90Rm91bmQiLCJkaXNjYXJkV2FybmluZyIsIm5vSW1hZ2VzIiwiJHBhcmVudCIsIiRlbWl0IiwiYnVpbGRNZWRpYVVybCIsImdldGZvbnRBd2Vzb21lQ2xhc3NOYW1lRm9yRmlsZU5hbWUiLCJnZXRmb250QXdlc29tZUNsYXNzTmFtZUZvckZpbGVuYW1lIiwiZmlsZW5hbWUiLCJ0aHVtYnNpemUiLCJnZXRDbGFzc05hbWVGb3JGaWxlbmFtZSIsImJ1cyIsImluaXRpYWxpemVNZWRpYUFwcGxpY2F0aW9uIiwiZGlzcGxheU1lZGlhQXBwbGljYXRpb24iLCJtZWRpYUFwcGxpY2F0aW9uVXJsIiwicGF0aEJhc2UiLCJjb250ZW50IiwiYXBwZW5kIiwicm9vdCIsInRleHQiLCJmb2xkZXIiLCJpc0RpcmVjdG9yeSIsInNlbGVjdGVkRm9sZGVyIiwiZXJyb3JzIiwiZHJhZ0Ryb3BUaHVtYm5haWwiLCJJbWFnZSIsImdyaWRWaWV3IiwibWVkaWFGaWx0ZXIiLCJzb3J0QnkiLCJzb3J0QXNjIiwiaXRlbXNJblBhZ2UiLCJzcmMiLCJzZWxlY3RSb290Iiwic2VsZWN0ZWQiLCJlcnJvckluZm8iLCJsb2FkRm9sZGVyIiwibmV3TmFtZSIsIm5ld1BhdGgiLCJvbGRQYXRoIiwibmV3VXJsIiwiZmlsdGVyIiwiaXRlbSIsImNyZWF0ZUZvbGRlciIsImRlbGV0ZUZvbGRlciIsIm5ld1NvcnQiLCJjaGFuZ2VTb3J0IiwidG9nZ2xlU2VsZWN0aW9uT2ZNZWRpYSIsInJlbmFtZU1lZGlhIiwiZGVsZXRlTWVkaWFJdGVtIiwiaGFuZGxlRHJhZ1N0YXJ0IiwiaXNIb21lIiwicGFyZW50cyIsInAiLCJwYXJlbnRGb2xkZXIiLCJ1bnNoaWZ0IiwicGFyZW50IiwiZmlsdGVyZWRNZWRpYUl0ZW1zIiwiZmlsdGVyZWQiLCJ0b0xvd2VyQ2FzZSIsInNvcnQiLCJhIiwiYiIsImxvY2FsZUNvbXBhcmUiLCJsYXN0TW9kaWZ5IiwiaGlkZGVuQ291bnQiLCJuZXdGb2xkZXIiLCJyb290Rm9sZGVyIiwidG9nZ2xlIiwidXBsb2FkVXJsIiwidXJsVmFsdWUiLCJtZWRpYVVybCIsIm9wZW4iLCJzZWxlY3RBbGwiLCJ1blNlbGVjdEFsbCIsImludmVydFNlbGVjdGlvbiIsInRlbXAiLCJpc01lZGlhU2VsZWN0ZWQiLCJzb21lIiwiZWxlbWVudCIsImFycmF5IiwibW9kZWwiLCJjb25maXJtRGlhbG9nIiwiX29iamVjdFNwcmVhZCIsImNhbGxiYWNrIiwicmVzcCIsIl9fUmVxdWVzdFZlcmlmaWNhdGlvblRva2VuIiwicmVzcG9uc2VUZXh0IiwiZW1wdHkiLCJnZXRPckNyZWF0ZUluc3RhbmNlIiwiZm9jdXMiLCJkZWxldGVNZWRpYSIsImRlbGV0ZU1lZGlhTGlzdCIsIm1lZGlhTGlzdCIsIm1lZGlhTmFtZXMiLCJkYXRhVHJhbnNmZXIiLCJzZXREYXRhIiwic2V0RHJhZ0ltYWdlIiwiZWZmZWN0QWxsb3dlZCIsImhhbmRsZVNjcm9sbFdoaWxlRHJhZyIsImNsaWVudFkiLCJ3aW5kb3ciLCJzY3JvbGxCeSIsImlubmVySGVpZ2h0Iiwia2V5cHJlc3MiLCJrZXkiLCJ3aGljaCIsImNsaWNrIiwiZXJyb3JNZXNzYWdlIiwib2xkTmFtZSIsImN1cnJlbnRGb2xkZXIiLCJzdHlsZSIsImRpc3BsYXkiLCJlYWNoIiwiYmluZCIsImR0Iiwib3JpZ2luYWxFdmVudCIsInR5cGVzIiwiY29udGFpbnMiLCJ0aW1lb3V0IiwiZHJvcFpvbmVUaW1lb3V0IiwiY2xlYXJUaW1lb3V0IiwiYWRkQ2xhc3MiLCJob3ZlcmVkRHJvcFpvbmUiLCJjbG9zZXN0IiwicmVtb3ZlQ2xhc3MiLCJkaXIiLCJzZWxlY3RlZEluTWVkaWFBcHAiLCJsZXZlbCIsImNoaWxkcmVuIiwiaXNIb3ZlcmVkIiwicGFkZGluZyIsImlzU2VsZWN0ZWQiLCJpc1Jvb3QiLCJpc0FuY2VzdG9yT2ZTZWxlY3RlZEZvbGRlciIsImxvYWRDaGlsZHJlbiIsInNlbGVjdCIsImVtdHB5IiwiaGFuZGxlRHJhZ092ZXIiLCJoYW5kbGVEcmFnTGVhdmUiLCJtb3ZlTWVkaWFUb0ZvbGRlciIsImdldERhdGEiLCJzb3VyY2VGb2xkZXIiLCJ0YXJnZXRGb2xkZXIiLCJmYUljb25zIiwicGRmIiwid29yZCIsInBvd2VycG9pbnQiLCJleGNlbCIsImNzdiIsImF1ZGlvIiwidmlkZW8iLCJhcmNoaXZlIiwiY29kZSIsImZhVGh1bWJuYWlscyIsImdpZiIsImpwZWciLCJqcGciLCJwbmciLCJkb2MiLCJkb2N4IiwicHB0IiwicHB0eCIsInhscyIsInhsc3giLCJhYWMiLCJtcDMiLCJvZ2ciLCJhdmkiLCJmbHYiLCJta3YiLCJtcDQiLCJ3ZWJtIiwiZ3oiLCJ6aXAiLCJjc3MiLCJodG1sIiwianMiLCJ0eHQiLCJnZXRDbGFzc05hbWVGb3JFeHRlbnNpb24iLCJleHRlbnNpb24iLCJnZXRFeHRlbnNpb25Gb3JGaWxlbmFtZSIsInNsaWNlIiwibGFzdEluZGV4T2YiLCJlZGl0QnV0dG9uIiwiZGVsZXRlQnV0dG9uIiwiZHJhZ1N0YXJ0IiwiQm9vbGVhbiIsImltYWdlSGVhZGVyIiwibmFtZUhlYWRlciIsImxhc3RNb2RpZnlIZWFkZXIiLCJzaXplSGVhZGVyIiwidHlwZUhlYWRlciIsInZpZXdCdXR0b24iLCJwcmludERhdGVUaW1lIiwiZGF0ZW1pbGxpcyIsImQiLCJEYXRlIiwidG9Mb2NhbGVTdHJpbmciLCJzb3VyY2VJdGVtcyIsInBhZ2VTaXplIiwicGFnZVNpemVPcHRpb25zIiwiY3VycmVudCIsInBhZ2VyRmlyc3RCdXR0b24iLCJwYWdlclByZXZpb3VzQnV0dG9uIiwicGFnZXJOZXh0QnV0dG9uIiwicGFnZXJMYXN0QnV0dG9uIiwicGFnZXJQYWdlU2l6ZUxhYmVsIiwicGFnZXJQYWdlTGFiZWwiLCJwYWdlclRvdGFsTGFiZWwiLCJuZXh0IiwicHJldmlvdXMiLCJnb0ZpcnN0IiwiZ29MYXN0IiwidG90YWxQYWdlcyIsImdvVG8iLCJ0YXJnZXRQYWdlIiwidG90YWwiLCJwYWdlcyIsImNlaWwiLCJpc0xhc3RQYWdlIiwiaXNGaXJzdFBhZ2UiLCJjYW5Eb05leHQiLCJjYW5Eb1ByZXYiLCJjYW5Eb0ZpcnN0IiwiY2FuRG9MYXN0IiwiaXRlbXNJbkN1cnJlbnRQYWdlIiwic3RhcnQiLCJlbmQiLCJwYWdlTGlua3MiLCJsaW5rcyIsImJlZm9yZUN1cnJlbnQiLCJiZWZvcmVCZWZvcmVDdXJyZW50IiwiYWZ0ZXJDdXJyZW50IiwiYWZ0ZXJBZnRlckN1cnJlbnQiLCJjb2xuYW1lIiwic2VsZWN0ZWRjb2xuYW1lIiwiYXNjIiwiaXNBY3RpdmUiLCJ1cGxvYWRJbnB1dElkIiwiX3NlbGYkdXBsb2FkSW5wdXRJZCIsInVwbG9hZElucHV0IiwicGVyY2VudGFnZSIsInBhcnNlSW50IiwibG9hZGVkIiwiaGFuZGxlRmFpbHVyZSIsImZpbGVOYW1lIiwibWVzc2FnZSIsImRpc21pc3NXYXJuaW5nIiwiZXhwYW5kZWQiLCJwZW5kaW5nQ291bnQiLCJlcnJvckNvdW50IiwidXBsb2FkcyIsImNsZWFyRXJyb3JzIiwiZmlsZUNvdW50IiwibmV3RmlsZSIsImFscmVhZHlJbkxpc3QiLCJmIiwiZmlsZVVwbG9hZCIsInVwZGF0ZUNvdW50IiwiY3J5cHRvIiwiX3R5cGVvZiIsImdldFJhbmRvbVZhbHVlcyIsIlVpbnQ4QXJyYXkiLCJmYWN0b3J5IiwiZGVmaW5lIiwiYW1kIiwiZXhwb3J0cyIsInJlcXVpcmUiLCJqUXVlcnkiLCJzdXBwb3J0IiwiZmlsZUlucHV0IiwiUmVnRXhwIiwidGVzdCIsIm5hdmlnYXRvciIsInVzZXJBZ2VudCIsInByb3AiLCJ4aHJGaWxlVXBsb2FkIiwiUHJvZ3Jlc3NFdmVudCIsIkZpbGVSZWFkZXIiLCJ4aHJGb3JtRGF0YUZpbGVVcGxvYWQiLCJGb3JtRGF0YSIsImJsb2JTbGljZSIsIkJsb2IiLCJwcm90b3R5cGUiLCJ3ZWJraXRTbGljZSIsIm1velNsaWNlIiwiZ2V0RHJhZ0hhbmRsZXIiLCJpc0RyYWdPdmVyIiwiaW5BcnJheSIsIl90cmlnZ2VyIiwiRXZlbnQiLCJkZWxlZ2F0ZWRFdmVudCIsInByZXZlbnREZWZhdWx0IiwiZHJvcEVmZmVjdCIsIndpZGdldCIsInBhc3RlWm9uZSIsInJlcGxhY2VGaWxlSW5wdXQiLCJwYXJhbU5hbWUiLCJzaW5nbGVGaWxlVXBsb2FkcyIsImxpbWl0TXVsdGlGaWxlVXBsb2FkcyIsImxpbWl0TXVsdGlGaWxlVXBsb2FkU2l6ZSIsImxpbWl0TXVsdGlGaWxlVXBsb2FkU2l6ZU92ZXJoZWFkIiwic2VxdWVudGlhbFVwbG9hZHMiLCJmb3JjZUlmcmFtZVRyYW5zcG9ydCIsInJlZGlyZWN0IiwicmVkaXJlY3RQYXJhbU5hbWUiLCJwb3N0TWVzc2FnZSIsIm11bHRpcGFydCIsInVwbG9hZGVkQnl0ZXMiLCJyZWNhbGN1bGF0ZVByb2dyZXNzIiwicHJvZ3Jlc3NJbnRlcnZhbCIsImJpdHJhdGVJbnRlcnZhbCIsImF1dG9VcGxvYWQiLCJ1bmlxdWVGaWxlbmFtZXMiLCJtZXNzYWdlcyIsImkxOG4iLCJjb250ZXh0IiwiZm9ybSIsInNlcmlhbGl6ZUFycmF5IiwiaXNEZWZhdWx0UHJldmVudGVkIiwicHJvY2VzcyIsInByb2Nlc3NEYXRhIiwiY29udGVudFR5cGUiLCJjYWNoZSIsIl9wcm9taXNlUGlwZSIsInBhcnRzIiwiZm4iLCJqcXVlcnkiLCJzcGxpdCIsIl9zcGVjaWFsT3B0aW9ucyIsIl9ibG9iU2xpY2UiLCJhcHBseSIsImFyZ3VtZW50cyIsIl9CaXRyYXRlVGltZXIiLCJ0aW1lc3RhbXAiLCJub3ciLCJnZXRUaW1lIiwiYml0cmF0ZSIsImdldEJpdHJhdGUiLCJpbnRlcnZhbCIsInRpbWVEaWZmIiwiX2lzWEhSVXBsb2FkIiwiX2dldEZvcm1EYXRhIiwiaXNBcnJheSIsIl9nZXRUb3RhbCIsIl9pbml0UHJvZ3Jlc3NPYmplY3QiLCJvYmoiLCJwcm9ncmVzcyIsIl9wcm9ncmVzcyIsImV4dGVuZCIsIl9pbml0UmVzcG9uc2VPYmplY3QiLCJfcmVzcG9uc2UiLCJoYXNPd25Qcm9wZXJ0eSIsImNhbGwiLCJfb25Qcm9ncmVzcyIsImxlbmd0aENvbXB1dGFibGUiLCJfdGltZSIsImZsb29yIiwiY2h1bmtTaXplIiwiX2JpdHJhdGVUaW1lciIsIl9pbml0UHJvZ3Jlc3NMaXN0ZW5lciIsInRoYXQiLCJ4aHIiLCJhamF4U2V0dGluZ3MiLCJ1cGxvYWQiLCJvZSIsIl9kZWluaXRQcm9ncmVzc0xpc3RlbmVyIiwiX2lzSW5zdGFuY2VPZiIsIl9nZXRVbmlxdWVGaWxlbmFtZSIsIm1hcCIsIl8iLCJwMSIsInAyIiwiZXh0IiwiX2luaXRYSFJEYXRhIiwiaGVhZGVycyIsImNvbnRlbnRSYW5nZSIsImVuY29kZVVSSSIsImZpZWxkIiwiX2luaXRJZnJhbWVTZXR0aW5ncyIsInRhcmdldEhvc3QiLCJsb2NhdGlvbiIsImhvc3QiLCJfaW5pdERhdGFTZXR0aW5ncyIsIl9jaHVua2VkVXBsb2FkIiwiX2dldFBhcmFtTmFtZSIsImlucHV0IiwiX2luaXRGb3JtU2V0dGluZ3MiLCJocmVmIiwidG9VcHBlckNhc2UiLCJmb3JtQWNjZXB0Q2hhcnNldCIsIl9nZXRBSkFYU2V0dGluZ3MiLCJfZ2V0RGVmZXJyZWRTdGF0ZSIsImRlZmVycmVkIiwic3RhdGUiLCJpc1Jlc29sdmVkIiwiaXNSZWplY3RlZCIsIl9lbmhhbmNlUHJvbWlzZSIsImZhaWwiLCJjb21wbGV0ZSIsImFsd2F5cyIsIl9nZXRYSFJQcm9taXNlIiwicmVzb2x2ZU9yUmVqZWN0IiwiYXJncyIsImRmZCIsInJlc29sdmVXaXRoIiwicmVqZWN0V2l0aCIsImFib3J0IiwiX2FkZENvbnZlbmllbmNlTWV0aG9kcyIsImdldFByb21pc2UiLCJyZXNvbHZlRnVuYyIsInJlamVjdEZ1bmMiLCJfcHJvY2Vzc1F1ZXVlIiwiX29uU2VuZCIsInByb2Nlc3NpbmciLCJyZXNwb25zZSIsIl9nZXRVcGxvYWRlZEJ5dGVzIiwicmFuZ2UiLCJnZXRSZXNwb25zZUhlYWRlciIsInVwcGVyQnl0ZXNQb3MiLCJ0ZXN0T25seSIsImZzIiwidWIiLCJtY3MiLCJvIiwiY3VycmVudExvYWRlZCIsIl9iZWZvcmVTZW5kIiwiX2FjdGl2ZSIsIl9vbkRvbmUiLCJfb25GYWlsIiwiX29uQWx3YXlzIiwianFYSFJvclJlc3VsdCIsImpxWEhSb3JFcnJvciIsImFib3J0ZWQiLCJzbG90IiwicGlwZSIsInNlbmQiLCJfc2VuZGluZyIsIm5leHRTbG90IiwiX3Nsb3RzIiwic2hpZnQiLCJfc2VxdWVuY2UiLCJfb25BZGQiLCJmaWxlc0xlbmd0aCIsImxpbWl0IiwibGltaXRTaXplIiwib3ZlcmhlYWQiLCJiYXRjaFNpemUiLCJwYXJhbU5hbWVTZXQiLCJwYXJhbU5hbWVTbGljZSIsImZpbGVTZXQiLCJqIiwib3JpZ2luYWxGaWxlcyIsIm5ld0RhdGEiLCJfcmVwbGFjZUZpbGVJbnB1dCIsImlucHV0Q2xvbmUiLCJjbG9uZSIsInJlc3RvcmVGb2N1cyIsImlzIiwiYWN0aXZlRWxlbWVudCIsImZpbGVJbnB1dENsb25lIiwicmVzZXQiLCJhZnRlciIsImRldGFjaCIsImNsZWFuRGF0YSIsIl9oYW5kbGVGaWxlVHJlZUVudHJ5IiwiZW50cnkiLCJlbnRyaWVzIiwiZGlyUmVhZGVyIiwiZXJyb3JIYW5kbGVyIiwic3VjY2Vzc0hhbmRsZXIiLCJfaGFuZGxlRmlsZVRyZWVFbnRyaWVzIiwicmVhZEVudHJpZXMiLCJyZXN1bHRzIiwiaXNGaWxlIiwiX2ZpbGUiLCJyZWxhdGl2ZVBhdGgiLCJjcmVhdGVSZWFkZXIiLCJfZ2V0RHJvcHBlZEZpbGVzIiwid2Via2l0R2V0QXNFbnRyeSIsImdldEFzRW50cnkiLCJnZXRBc0ZpbGUiLCJtYWtlQXJyYXkiLCJfZ2V0U2luZ2xlRmlsZUlucHV0RmlsZXMiLCJfZ2V0RmlsZUlucHV0RmlsZXMiLCJfb25DaGFuZ2UiLCJfb25QYXN0ZSIsImNsaXBib2FyZERhdGEiLCJfb25Ecm9wIiwiX29uRHJhZ092ZXIiLCJfb25EcmFnRW50ZXIiLCJfb25EcmFnTGVhdmUiLCJfaW5pdEV2ZW50SGFuZGxlcnMiLCJfb24iLCJkcmFnb3ZlciIsImRyb3AiLCJkcmFnZW50ZXIiLCJkcmFnbGVhdmUiLCJwYXN0ZSIsImNoYW5nZSIsIl9kZXN0cm95RXZlbnRIYW5kbGVycyIsIl9vZmYiLCJfZGVzdHJveSIsIl9zZXRPcHRpb24iLCJyZWluaXQiLCJfc3VwZXIiLCJfaW5pdFNwZWNpYWxPcHRpb25zIiwiX2dldFJlZ0V4cCIsInN0ciIsIm1vZGlmaWVycyIsInBvcCIsImpvaW4iLCJfaXNSZWdFeHBPcHRpb24iLCJfaW5pdERhdGFBdHRyaWJ1dGVzIiwiYXR0cmlidXRlcyIsImNoYXJBdCIsIl9jcmVhdGUiLCJhY3RpdmUiLCJkaXNhYmxlZCIsInJlamVjdCIsInRoZW4iLCJjb3VudGVyIiwianNvbkFQSSIsImpzb25QYXJzZSIsImFqYXhUcmFuc3BvcnQiLCJhc3luYyIsImluaXRpYWxJZnJhbWVTcmMiLCJpZnJhbWUiLCJhZGRQYXJhbUNoYXIiLCJjb21wbGV0ZUNhbGxiYWNrIiwiZmlsZUlucHV0Q2xvbmVzIiwicGFyYW1OYW1lcyIsImNvbnRlbnRzIiwiZmlyc3RDaGlsZCIsIkVycm9yIiwicmVtb3ZlIiwicmVtb3ZlQXR0ciIsInJlcGxhY2VXaXRoIiwiYm9keSIsImFqYXhTZXR1cCIsImNvbnZlcnRlcnMiLCJpZnJhbWVUZXh0IiwiaWZyYW1lSnNvbiIsImlmcmFtZUh0bWwiLCJpZnJhbWVYbWwiLCJ4bWxEb2MiLCJpc1hNTERvYyIsInBhcnNlWE1MIiwiWE1MRG9jdW1lbnQiLCJ4bWwiLCJpZnJhbWVTY3JpcHQiLCJnbG9iYWxFdmFsIl0sIm1hcHBpbmdzIjoiOzs7OztBQUFBLFNBQVNBLDRCQUE0QkEsQ0FBQ0MsRUFBRSxFQUFFQyxnQkFBZ0IsRUFBRUMsWUFBWSxFQUFFQyxZQUFZLEVBQUVDLGFBQWEsRUFBRUMsY0FBYyxFQUFFQyxZQUFZLEVBQUVDLGdCQUFnQixFQUFFQyxrQkFBa0IsRUFBRTtFQUV2SyxJQUFJQyxNQUFNLEdBQUdDLENBQUMsQ0FBQ0MsUUFBUSxDQUFDQyxjQUFjLENBQUNGLENBQUMsQ0FBQ1YsRUFBRSxDQUFDLENBQUNhLElBQUksQ0FBQyxLQUFLLENBQUMsQ0FBQyxDQUFDO0VBQzFELElBQUlDLFlBQVksR0FBR0wsTUFBTSxDQUFDSSxJQUFJLENBQUMsTUFBTSxDQUFDO0VBRXRD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Z0IsV0FBVWhCLE1BQU0sRUFBRTtRQUMvQixPQUFPQSxNQUFNLElBQUlsc0IsQ0FBQyxDQUFDa3NCLE1BQU0sQ0FBQyxDQUFDLENBQUMsQ0FBQ1csSUFBSSxDQUFDLENBQUMzVyxJQUFJLENBQUMsQ0FBQztNQUMzQyxDQUFDO01BQ0QsWUFBWSxFQUFFLFNBQUFpWCxVQUFVakIsTUFBTSxFQUFFO1FBQzlCLElBQUlrQixNQUFNLEdBQUdsQixNQUFNLElBQUlBLE1BQU0sQ0FBQyxDQUFDLENBQUM7UUFDaEMsT0FBT2tCLE1BQU0sSUFBSXB0QixDQUFDLENBQUNxdEIsUUFBUSxDQUFDRCxNQUFNLENBQUMsR0FDL0JBLE1BQU0sR0FDTnB0QixDQUFDLENBQUNzdEIsUUFBUSxDQUNQRixNQUFNLENBQUNHLFdBQVcsSUFBSUgsTUFBTSxDQUFDRyxXQUFXLENBQUNDLEdBQUcsSUFDM0N4dEIsQ0FBQyxDQUFDb3RCLE1BQU0sQ0FBQ1AsSUFBSSxDQUFDLENBQUMzVyxJQUFJLENBQUMsQ0FDeEIsQ0FBQztNQUNQLENBQUM7TUFDRCxlQUFlLEVBQUUsU0FBQXVYLGFBQVV2QixNQUFNLEVBQUU7UUFDakMsT0FBT0EsTUFBTSxJQUFJbHNCLENBQUMsQ0FBQzB0QixVQUFVLENBQUMxdEIsQ0FBQyxDQUFDa3NCLE1BQU0sQ0FBQyxDQUFDLENBQUMsQ0FBQ1csSUFBSSxDQUFDLENBQUN2Z0IsSUFBSSxDQUFDLENBQUMsQ0FBQztNQUN6RDtJQUNGO0VBQ0YsQ0FBQyxDQUFDO0FBQ0osQ0FBQyxDQUFDIiwiZmlsZSI6Im1lZGlhLmpzIiwic291cmNlc0NvbnRlbnQiOlsiZnVuY3Rpb24gaW5pdGlhbGl6ZUF0dGFjaGVkTWVkaWFGaWVsZChlbCwgaWRPZlVwbG9hZEJ1dHRvbiwgdXBsb2FkQWN0aW9uLCBtZWRpYUl0ZW1VcmwsIGFsbG93TXVsdGlwbGUsIGFsbG93TWVkaWFUZXh0LCBhbGxvd0FuY2hvcnMsIHRlbXBVcGxvYWRGb2xkZXIsIG1heFVwbG9hZENodW5rU2l6ZSkge1xyXG5cclxuICAgIHZhciB0YXJnZXQgPSAkKGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCQoZWwpLmRhdGEoJ2ZvcicpKSk7XHJcbiAgICB2YXIgaW5pdGlhbFBhdGhzID0gdGFyZ2V0LmRhdGEoXCJpbml0XCIpO1xyXG5cclxuICAgIHZhciBtZWRpYUZpZWxkRWRpdG9yID0gJChlbCk7XHJcbiAgICB2YXIgaWRwcmVmaXggPSBtZWRpYUZpZWxkRWRpdG9yLmF0dHIoXCJpZFwiKTtcclxuICAgIHZhciBtZWRpYUZpZWxkQXBwO1xyXG5cclxuICAgIG1lZGlhRmllbGRBcHBzLnB1c2gobWVkaWFGaWVsZEFwcCA9IG5ldyBWdWUoe1xyXG4gICAgICAgIGVsOiBtZWRpYUZpZWxkRWRpdG9yLmdldCgwKSxcclxuICAgICAgICBkYXRhOiB7XHJcbiAgICAgICAgICAgIG1lZGlhSXRlbXM6IFtdLFxyXG4gICAgICAgICAgICBzZWxlY3RlZE1lZGlhOiBudWxsLFxyXG4gICAgICAgICAgICBzbWFsbFRodW1iczogZmFsc2UsXHJcbiAgICAgICAgICAgIGlkUHJlZml4OiBpZHByZWZpeCxcclxuICAgICAgICAgICAgaW5pdGlhbGl6ZWQ6IGZhbHNlLFxyXG4gICAgICAgICAgICBhbGxvd01lZGlhVGV4dDogYWxsb3dNZWRpYVRleHQsXHJcbiAgICAgICAgICAgIGJhY2t1cE1lZGlhVGV4dDogJycsXHJcbiAgICAgICAgICAgIGFsbG93QW5jaG9yczogYWxsb3dBbmNob3JzLFxyXG4gICAgICAgICAgICBiYWNrdXBBbmNob3I6IG51bGwsXHJcbiAgICAgICAgICAgIG1lZGlhVGV4dG1vZGFsOiBudWxsLFxyXG4gICAgICAgICAgICBhbmNob3JpbmdNb2RhbDogbnVsbFxyXG4gICAgICAgIH0sXHJcbiAgICAgICAgY3JlYXRlZDogZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICB2YXIgc2VsZiA9IHRoaXM7XHJcblxyXG4gICAgICAgICAgICBzZWxmLmN1cnJlbnRQcmVmcyA9IEpTT04ucGFyc2UobG9jYWxTdG9yYWdlLmdldEl0ZW0oJ21lZGlhRmllbGRQcmVmcycpKTtcclxuICAgICAgICB9LFxyXG4gICAgICAgIGNvbXB1dGVkOiB7XHJcbiAgICAgICAgICAgIHBhdGhzOiB7XHJcbiAgICAgICAgICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgICAgICB2YXIgbWVkaWFQYXRocyA9IFtdO1xyXG4gICAgICAgICAgICAgICAgICAgIGlmICghdGhpcy5pbml0aWFsaXplZCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gSlNPTi5zdHJpbmdpZnkoaW5pdGlhbFBhdGhzKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5tZWRpYUl0ZW1zLmZvckVhY2goZnVuY3Rpb24gKHgpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHgubWVkaWFQYXRoID09PSAnbm90LWZvdW5kJykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIG1lZGlhUGF0aHMucHVzaCh7IHBhdGg6IHgubWVkaWFQYXRoLCBpc1JlbW92ZWQ6IHguaXNSZW1vdmVkLCBpc05ldzogeC5pc05ldywgbWVkaWFUZXh0OiB4Lm1lZGlhVGV4dCwgYW5jaG9yOiB4LmFuY2hvciwgYXR0YWNoZWRGaWxlTmFtZTogeC5hdHRhY2hlZEZpbGVOYW1lIH0pO1xyXG4gICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBKU09OLnN0cmluZ2lmeShtZWRpYVBhdGhzKTtcclxuICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICBzZXQ6IGZ1bmN0aW9uICh2YWx1ZXMpIHtcclxuICAgICAgICAgICAgICAgICAgICB2YXIgc2VsZiA9IHRoaXM7XHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIG1lZGlhUGF0aHMgPSB2YWx1ZXMgfHwgW107XHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIHNpZ25hbCA9ICQuRGVmZXJyZWQoKTtcclxuICAgICAgICAgICAgICAgICAgICB2YXIgaXRlbXMgPSBbXTtcclxuICAgICAgICAgICAgICAgICAgICB2YXIgbGVuZ3RoID0gMDtcclxuICAgICAgICAgICAgICAgICAgICBtZWRpYVBhdGhzLmZvckVhY2goZnVuY3Rpb24gKHgsIGkpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaXRlbXMucHVzaCh7IG5hbWU6ICcgJyArIHgucGF0aCwgbWltZTogJycsIG1lZGlhUGF0aDogJycsIGFuY2hvcjogeC5hbmNob3IsIGF0dGFjaGVkRmlsZU5hbWU6IHguYXR0YWNoZWRGaWxlTmFtZSB9KTsgLy8gZG9uJ3QgcmVtb3ZlIHRoZSBzcGFjZS4gU29tZXRoaW5nIGRpZmZlcmVudCBpcyBuZWVkZWQgb3IgaXQgd29udCByZWFjdCB3aGVuIHRoZSByZWFsIG5hbWUgYXJyaXZlcy5cclxuICAgICAgICAgICAgICAgICAgICAgICAgcHJvbWlzZSA9ICQud2hlbihzaWduYWwpLmRvbmUoZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJC5hamF4KHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB1cmw6IG1lZGlhSXRlbVVybCArIFwiP3BhdGg9XCIgKyBlbmNvZGVVUklDb21wb25lbnQoeC5wYXRoKSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBtZXRob2Q6ICdHRVQnLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN1Y2Nlc3M6IGZ1bmN0aW9uIChkYXRhKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRhdGEudnVla2V5ID0gZGF0YS5uYW1lICsgaS50b1N0cmluZygpOyAvLyBCZWNhdXNlIGEgdW5pcXVlIGtleSBpcyByZXF1aXJlZCBieSBWdWUgb24gdi1mb3IgXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRhdGEubWVkaWFUZXh0ID0geC5tZWRpYVRleHQ7IC8vIFRoaXMgdmFsdWUgaXMgbm90IHJldHVybmVkIGZyb20gdGhlIGFqYXggY2FsbC5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGF0YS5hbmNob3IgPSB4LmFuY2hvcjsgLy8gVGhpcyB2YWx1ZSBpcyBub3QgcmV0dXJuZWQgZnJvbSB0aGUgYWpheCBjYWxsLlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkYXRhLmF0dGFjaGVkRmlsZU5hbWUgPSB4LmF0dGFjaGVkRmlsZU5hbWU7Ly8gVGhpcyB2YWx1ZSBpcyBub3QgcmV0dXJuZWQgZnJvbSB0aGUgYWpheCBjYWxsLlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpdGVtcy5zcGxpY2UoaSwgMSwgZGF0YSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChpdGVtcy5sZW5ndGggPT09ICsrbGVuZ3RoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpdGVtcy5mb3JFYWNoKGZ1bmN0aW9uICh4KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2VsZi5tZWRpYUl0ZW1zLnB1c2goeCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNlbGYuaW5pdGlhbGl6ZWQgPSB0cnVlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlcnJvcjogZnVuY3Rpb24gKGVycm9yKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKEpTT04uc3RyaW5naWZ5KGVycm9yKSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGl0ZW1zLnNwbGljZShpLCAxLCB7IG5hbWU6IHgucGF0aCwgbWltZTogJycsIG1lZGlhUGF0aDogJ25vdC1mb3VuZCcsIG1lZGlhVGV4dDogJycsIGFuY2hvcjogeyB4OiAwLjUsIHk6IDAuNSB9LCBhdHRhY2hlZEZpbGVOYW1lOiB4LmF0dGFjaGVkRmlsZU5hbWUgfSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChpdGVtcy5sZW5ndGggPT09ICsrbGVuZ3RoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpdGVtcy5mb3JFYWNoKGZ1bmN0aW9uICh4KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2VsZi5tZWRpYUl0ZW1zLnB1c2goeCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNlbGYuaW5pdGlhbGl6ZWQgPSB0cnVlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgICAgIH0pO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICBzaWduYWwucmVzb2x2ZSgpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICBmaWxlU2l6ZTogZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIE1hdGgucm91bmQodGhpcy5zZWxlY3RlZE1lZGlhLnNpemUgLyAxMDI0KTtcclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgY2FuQWRkTWVkaWE6IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgIHZhciBub25SZW1vdmVkTWVkaWFJdGVtcyA9IFtdO1xyXG4gICAgICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCB0aGlzLm1lZGlhSXRlbXMubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgICAgICAgICBpZiAoIXRoaXMubWVkaWFJdGVtc1tpXS5pc1JlbW92ZWQpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgbm9uUmVtb3ZlZE1lZGlhSXRlbXMucHVzaCh0aGlzLm1lZGlhSXRlbXNbaV0pO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICByZXR1cm4gbm9uUmVtb3ZlZE1lZGlhSXRlbXMubGVuZ3RoID09PSAwIHx8IG5vblJlbW92ZWRNZWRpYUl0ZW1zLmxlbmd0aCA+IDAgJiYgYWxsb3dNdWx0aXBsZTtcclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgdGh1bWJTaXplOiBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5zbWFsbFRodW1icyA/IDEyMCA6IDI0MDtcclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgY3VycmVudFByZWZzOiB7XHJcbiAgICAgICAgICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4ge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBzbWFsbFRodW1iczogdGhpcy5zbWFsbFRodW1ic1xyXG4gICAgICAgICAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgc2V0OiBmdW5jdGlvbiAobmV3UHJlZnMpIHtcclxuICAgICAgICAgICAgICAgICAgICBpZiAoIW5ld1ByZWZzKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5zbWFsbFRodW1icyA9IG5ld1ByZWZzLnNtYWxsVGh1bWJzO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSxcclxuICAgICAgICBtb3VudGVkOiBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIHZhciBzZWxmID0gdGhpcztcclxuXHJcbiAgICAgICAgICAgIHNlbGYucGF0aHMgPSBpbml0aWFsUGF0aHM7XHJcblxyXG4gICAgICAgICAgICBzZWxmLiRvbignc2VsZWN0QW5kRGVsZXRlTWVkaWFSZXF1ZXN0ZWQnLCBmdW5jdGlvbiAobWVkaWEpIHtcclxuICAgICAgICAgICAgICAgIHNlbGYuc2VsZWN0QW5kRGVsZXRlTWVkaWEobWVkaWEpO1xyXG4gICAgICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgICAgIHNlbGYuJG9uKCdzZWxlY3RNZWRpYVJlcXVlc3RlZCcsIGZ1bmN0aW9uIChtZWRpYSkge1xyXG4gICAgICAgICAgICAgICAgc2VsZi5zZWxlY3RNZWRpYShtZWRpYSk7XHJcbiAgICAgICAgICAgIH0pO1xyXG5cclxuICAgICAgICAgICAgdmFyIHNlbGVjdG9yID0gJyMnICsgaWRPZlVwbG9hZEJ1dHRvbjtcclxuICAgICAgICAgICAgdmFyIGVkaXRvcklkID0gbWVkaWFGaWVsZEVkaXRvci5hdHRyKCdpZCcpO1xyXG4gICAgICAgICAgICB2YXIgY2h1bmtlZEZpbGVVcGxvYWRJZCA9IHJhbmRvbVVVSUQoKTtcclxuXHJcbiAgICAgICAgICAgICQoc2VsZWN0b3IpXHJcbiAgICAgICAgICAgICAgICAuZmlsZXVwbG9hZCh7XHJcbiAgICAgICAgICAgICAgICAgICAgbGltaXRDb25jdXJyZW50VXBsb2FkczogMjAsXHJcbiAgICAgICAgICAgICAgICAgICAgZHJvcFpvbmU6ICQoJyMnICsgZWRpdG9ySWQpLFxyXG4gICAgICAgICAgICAgICAgICAgIGRhdGFUeXBlOiAnanNvbicsXHJcbiAgICAgICAgICAgICAgICAgICAgdXJsOiB1cGxvYWRBY3Rpb24sXHJcbiAgICAgICAgICAgICAgICAgICAgbWF4Q2h1bmtTaXplOiBtYXhVcGxvYWRDaHVua1NpemUsXHJcbiAgICAgICAgICAgICAgICAgICAgYWRkOiBmdW5jdGlvbiAoZSwgZGF0YSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgY291bnQgPSBkYXRhLmZpbGVzLmxlbmd0aDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGZvciAoaSA9IDA7IGkgPCBjb3VudDsgaSsrKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBkYXRhLmZpbGVzW2ldLnVwbG9hZE5hbWUgPVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNlbGYuZ2V0VW5pcXVlSWQoKSArIGRhdGEuZmlsZXNbaV0ubmFtZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRhdGEuZmlsZXNbaV0uYXR0YWNoZWRGaWxlTmFtZSA9IGRhdGEuZmlsZXNbaV0ubmFtZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICBkYXRhLnN1Ym1pdCgpO1xyXG4gICAgICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICAgICAgZm9ybURhdGE6IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGFudGlGb3JnZXJ5VG9rZW4gPSAkKFwiaW5wdXRbbmFtZT1fX1JlcXVlc3RWZXJpZmljYXRpb25Ub2tlbl1cIikudmFsKCk7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gW1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgeyBuYW1lOiAncGF0aCcsIHZhbHVlOiB0ZW1wVXBsb2FkRm9sZGVyIH0sXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB7IG5hbWU6ICdfX1JlcXVlc3RWZXJpZmljYXRpb25Ub2tlbicsIHZhbHVlOiBhbnRpRm9yZ2VyeVRva2VuIH0sXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB7IG5hbWU6ICdfX2NodW5rZWRGaWxlVXBsb2FkSWQnLCB2YWx1ZTogY2h1bmtlZEZpbGVVcGxvYWRJZCB9LFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBdO1xyXG4gICAgICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICAgICAgZG9uZTogZnVuY3Rpb24gKGUsIGRhdGEpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIG5ld01lZGlhSXRlbXMgPSBbXTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGVycm9ybXNnID0gXCJcIjtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChkYXRhLnJlc3VsdC5maWxlcy5sZW5ndGggPiAwKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGRhdGEucmVzdWx0LmZpbGVzLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGF0YS5yZXN1bHQuZmlsZXNbaV0uaXNOZXcgPSB0cnVlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vaWYgZXJyb3IgaXMgZGVmaW5lZCBwcm9iYWJseSB0aGUgZmlsZSB0eXBlIGlzIG5vdCBhbGxvd2VkXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGRhdGEucmVzdWx0LmZpbGVzW2ldLmVycm9yID09PSB1bmRlZmluZWQgfHwgZGF0YS5yZXN1bHQuZmlsZXNbaV0uZXJyb3IgPT09IG51bGwpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGF0YS5yZXN1bHQuZmlsZXNbaV0uYXR0YWNoZWRGaWxlTmFtZSA9IGRhdGEuZmlsZXNbaV0uYXR0YWNoZWRGaWxlTmFtZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbmV3TWVkaWFJdGVtcy5wdXNoKGRhdGEucmVzdWx0LmZpbGVzW2ldKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZWxzZVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlcnJvcm1zZyArPSBkYXRhLnJlc3VsdC5maWxlc1tpXS5lcnJvciArIFwiXFxuXCI7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChlcnJvcm1zZyAhPT0gXCJcIikge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYWxlcnQoZXJyb3Jtc2cpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKG5ld01lZGlhSXRlbXMpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAobmV3TWVkaWFJdGVtcy5sZW5ndGggPiAxICYmIGFsbG93TXVsdGlwbGUgPT09IGZhbHNlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBhbGVydCgkKCcjb25seU9uZUl0ZW1NZXNzYWdlJykudmFsKCkpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbWVkaWFGaWVsZEFwcC5tZWRpYUl0ZW1zLnB1c2gobmV3TWVkaWFJdGVtc1swXSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBtZWRpYUZpZWxkQXBwLmluaXRpYWxpemVkID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1lZGlhRmllbGRBcHAubWVkaWFJdGVtcyA9IG1lZGlhRmllbGRBcHAubWVkaWFJdGVtcy5jb25jYXQobmV3TWVkaWFJdGVtcyk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBtZWRpYUZpZWxkQXBwLmluaXRpYWxpemVkID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICAgICAgZXJyb3I6IGZ1bmN0aW9uIChqcVhIUiwgdGV4dFN0YXR1cywgZXJyb3JUaHJvd24pIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coJ0Vycm9yIG9uIHVwbG9hZC4nKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coanFYSFIpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyh0ZXh0U3RhdHVzKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coZXJyb3JUaHJvd24pO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH0pXHJcbiAgICAgICAgICAgICAgICAub24oJ2ZpbGV1cGxvYWRjaHVua2JlZm9yZXNlbmQnLCAoZSwgb3B0aW9ucykgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgIGxldCBmaWxlID0gb3B0aW9ucy5maWxlc1swXTtcclxuICAgICAgICAgICAgICAgICAgICAvLyBIZXJlIHdlIHJlcGxhY2UgdGhlIGJsb2Igd2l0aCBhIEZpbGUgb2JqZWN0IHRvIGVuc3VyZSB0aGUgZmlsZSBuYW1lIGFuZCBvdGhlcnMgYXJlIHByZXNlcnZlZCBmb3IgdGhlIGJhY2tlbmQuXHJcbiAgICAgICAgICAgICAgICAgICAgb3B0aW9ucy5ibG9iID0gbmV3IEZpbGUoXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIFtvcHRpb25zLmJsb2JdLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBmaWxlLm5hbWUsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHR5cGU6IGZpbGUudHlwZSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxhc3RNb2RpZmllZDogZmlsZS5sYXN0TW9kaWZpZWQsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfSxcclxuICAgICAgICBtZXRob2RzOiB7XHJcbiAgICAgICAgICAgIHNlbGVjdE1lZGlhOiBmdW5jdGlvbiAobWVkaWEpIHtcclxuICAgICAgICAgICAgICAgIHRoaXMuc2VsZWN0ZWRNZWRpYSA9IG1lZGlhO1xyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICBnZXRVbmlxdWVJZDogZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuICd4eHh4eHh4eC14eHh4LTR4eHgteXh4eC14eHh4eHh4eHh4eHgnLnJlcGxhY2UoL1t4eV0vZywgZnVuY3Rpb24gKGMpIHtcclxuICAgICAgICAgICAgICAgICAgICB2YXIgciA9IE1hdGgucmFuZG9tKCkgKiAxNiB8IDAsIHYgPSBjID09PSAneCcgPyByIDogKHIgJiAweDMgfCAweDgpO1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB2LnRvU3RyaW5nKDE2KTtcclxuICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICByZW1vdmVTZWxlY3RlZDogZnVuY3Rpb24gKGV2ZW50KSB7XHJcbiAgICAgICAgICAgICAgICB2YXIgcmVtb3ZlZCA9IHt9O1xyXG4gICAgICAgICAgICAgICAgaWYgKHRoaXMuc2VsZWN0ZWRNZWRpYSkge1xyXG4gICAgICAgICAgICAgICAgICAgIHZhciBpbmRleCA9IHRoaXMubWVkaWFJdGVtcyAmJiB0aGlzLm1lZGlhSXRlbXMuaW5kZXhPZih0aGlzLnNlbGVjdGVkTWVkaWEpO1xyXG4gICAgICAgICAgICAgICAgICAgIGlmIChpbmRleCA+IC0xKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlbW92ZWQgPSB0aGlzLm1lZGlhSXRlbXNbaW5kZXhdO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICByZW1vdmVkLmlzUmVtb3ZlZCA9IHRydWU7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vdGhpcy5tZWRpYUl0ZW1zLnNwbGljZShbaW5kZXhdLCAxLCByZW1vdmVkKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5tZWRpYUl0ZW1zLnNwbGljZShpbmRleCwgMSk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgLy8gVGhlIHJlbW92ZSBidXR0b24gY2FuIGFsc28gcmVtb3ZlIGEgdW5pcXVlIG1lZGlhIGl0ZW1cclxuICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy5tZWRpYUl0ZW1zLmxlbmd0aCA9PT0gMSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICByZW1vdmVkID0gdGhpcy5tZWRpYUl0ZW1zW2luZGV4XTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmVtb3ZlZC5pc1JlbW92ZWQgPSB0cnVlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAvL3RoaXMubWVkaWFJdGVtcy5zcGxpY2UoMCwgMSwgcmVtb3ZlZCk7ICAgICAgICAgICAgICAgICAgICAgICAgXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMubWVkaWFJdGVtcy5zcGxpY2UoMCwgMSk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgdGhpcy5zZWxlY3RlZE1lZGlhID0gbnVsbDtcclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgc2hvd01lZGlhVGV4dE1vZGFsOiBmdW5jdGlvbiAoZXZlbnQpIHtcclxuICAgICAgICAgICAgICAgIHRoaXMubWVkaWFUZXh0TW9kYWwgPSBuZXcgYm9vdHN0cmFwLk1vZGFsKHRoaXMuJHJlZnMubWVkaWFUZXh0TW9kYWwpO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5tZWRpYVRleHRNb2RhbC5zaG93KCk7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmJhY2t1cE1lZGlhVGV4dCA9IHRoaXMuc2VsZWN0ZWRNZWRpYS5tZWRpYVRleHQ7XHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIGNhbmNlbE1lZGlhVGV4dE1vZGFsOiBmdW5jdGlvbiAoZXZlbnQpIHtcclxuICAgICAgICAgICAgICAgIHRoaXMubWVkaWFUZXh0TW9kYWwuaGlkZSgpO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5zZWxlY3RlZE1lZGlhLm1lZGlhVGV4dCA9IHRoaXMuYmFja3VwTWVkaWFUZXh0O1xyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICBzaG93QW5jaG9yTW9kYWw6IGZ1bmN0aW9uIChldmVudCkge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5hbmNob3JpbmdNb2RhbCA9IG5ldyBib290c3RyYXAuTW9kYWwodGhpcy4kcmVmcy5hbmNob3JpbmdNb2RhbCk7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmFuY2hvcmluZ01vZGFsLnNob3coKTtcclxuICAgICAgICAgICAgICAgIC8vIENhdXNlIGEgcmVmcmVzaCB0byByZWNhbGMgaGVpZ2h0cy5cclxuICAgICAgICAgICAgICAgIHRoaXMuc2VsZWN0ZWRNZWRpYS5hbmNob3IgPSB7XHJcbiAgICAgICAgICAgICAgICAgICAgeDogdGhpcy5zZWxlY3RlZE1lZGlhLmFuY2hvci54LFxyXG4gICAgICAgICAgICAgICAgICAgIHk6IHRoaXMuc2VsZWN0ZWRNZWRpYS5hbmNob3IueVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgdGhpcy5iYWNrdXBBbmNob3IgPSB0aGlzLnNlbGVjdGVkTWVkaWEuYW5jaG9yO1xyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICBjYW5jZWxBbmNob3JpbmdNb2RhbDogZnVuY3Rpb24gKGV2ZW50KSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmFuY2hvcmluZ01vZGFsLmhpZGUoKTtcclxuICAgICAgICAgICAgICAgIHRoaXMuc2VsZWN0ZWRNZWRpYS5hbmNob3IgPSB0aGlzLmJhY2t1cEFuY2hvcjtcclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgcmVzZXRBbmNob3I6IGZ1bmN0aW9uIChldmVudCkge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5zZWxlY3RlZE1lZGlhLmFuY2hvciA9IHsgeDogMC41LCB5OiAwLjUgfTtcclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgb25BbmNob3JEcm9wOiBmdW5jdGlvbiAoZXZlbnQpIHtcclxuICAgICAgICAgICAgICAgIHZhciBpbWFnZSA9IHRoaXMuJHJlZnMuYW5jaG9ySW1hZ2U7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnNlbGVjdGVkTWVkaWEuYW5jaG9yID0ge1xyXG4gICAgICAgICAgICAgICAgICAgIHg6IGV2ZW50Lm9mZnNldFggLyBpbWFnZS5jbGllbnRXaWR0aCxcclxuICAgICAgICAgICAgICAgICAgICB5OiBldmVudC5vZmZzZXRZIC8gaW1hZ2UuY2xpZW50SGVpZ2h0XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIGFuY2hvckxlZnQ6IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgIGlmICh0aGlzLiRyZWZzLmFuY2hvckltYWdlICYmIHRoaXMuJHJlZnMubW9kYWxCb2R5ICYmIHRoaXMuc2VsZWN0ZWRNZWRpYSkge1xyXG4gICAgICAgICAgICAgICAgICAgIC8vIFdoZW4gaW1hZ2UgaXMgc2hydW5rIGNvbXBhcmUgYWdhaW5zdCB0aGUgbW9kYWwgYm9keS5cclxuICAgICAgICAgICAgICAgICAgICB2YXIgb2Zmc2V0ID0gKHRoaXMuJHJlZnMubW9kYWxCb2R5LmNsaWVudFdpZHRoIC0gdGhpcy4kcmVmcy5hbmNob3JJbWFnZS5jbGllbnRXaWR0aCkgLyAyO1xyXG4gICAgICAgICAgICAgICAgICAgIHZhciBwb3NpdGlvbiA9ICh0aGlzLnNlbGVjdGVkTWVkaWEuYW5jaG9yLnggKiB0aGlzLiRyZWZzLmFuY2hvckltYWdlLmNsaWVudFdpZHRoKSArIG9mZnNldDtcclxuICAgICAgICAgICAgICAgICAgICBpZiAocG9zaXRpb24gPCAxNykgeyAvLyBBZGp1c3Qgc28gdGhlIHRhcmdldCBkb2Vzbid0IHNob3cgb3V0c2lkZSBpbWFnZS5cclxuICAgICAgICAgICAgICAgICAgICAgICAgcG9zaXRpb24gPSAxNztcclxuICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBwb3NpdGlvbiA9IHBvc2l0aW9uIC0gODsgLy8gQWRqdXN0IHRvIGhpdCB0aGUgbW91c2UgcG9pbnRlci5cclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHBvc2l0aW9uICsgJ3B4JztcclxuICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuICcwJztcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgYW5jaG9yVG9wOiBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAodGhpcy4kcmVmcy5hbmNob3JJbWFnZSAmJiB0aGlzLnNlbGVjdGVkTWVkaWEpIHtcclxuICAgICAgICAgICAgICAgICAgICB2YXIgcG9zaXRpb24gPSB0aGlzLnNlbGVjdGVkTWVkaWEuYW5jaG9yLnkgKiB0aGlzLiRyZWZzLmFuY2hvckltYWdlLmNsaWVudEhlaWdodDtcclxuICAgICAgICAgICAgICAgICAgICBpZiAocG9zaXRpb24gPCAxNSkgeyAvLyBBZGp1c3RtZW50IHNvIHRoZSB0YXJnZXQgZG9lc24ndCBzaG93IG91dHNpZGUgaW1hZ2UuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHBvc2l0aW9uID0gMTU7XHJcbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcG9zaXRpb24gPSBwb3NpdGlvbiArIDU7IC8vIEFkanVzdCB0byBoaXQgdGhlIG1vdXNlIHBvaW50ZXIuXHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBwb3NpdGlvbiArICdweCc7XHJcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiAnMCc7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIHNldEFuY2hvcjogZnVuY3Rpb24gKGV2ZW50KSB7XHJcbiAgICAgICAgICAgICAgICB2YXIgaW1hZ2UgPSB0aGlzLiRyZWZzLmFuY2hvckltYWdlO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5zZWxlY3RlZE1lZGlhLmFuY2hvciA9IHtcclxuICAgICAgICAgICAgICAgICAgICB4OiBldmVudC5vZmZzZXRYIC8gaW1hZ2UuY2xpZW50V2lkdGgsXHJcbiAgICAgICAgICAgICAgICAgICAgeTogZXZlbnQub2Zmc2V0WSAvIGltYWdlLmNsaWVudEhlaWdodFxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICBhZGRNZWRpYUZpbGVzOiBmdW5jdGlvbiAoZmlsZXMpIHtcclxuICAgICAgICAgICAgICAgIGlmICgoZmlsZXMubGVuZ3RoID4gMSkgJiYgKGFsbG93TXVsdGlwbGUgPT09IGZhbHNlKSkge1xyXG4gICAgICAgICAgICAgICAgICAgIGFsZXJ0KCQoJyNvbmx5T25lSXRlbU1lc3NhZ2UnKS52YWwoKSk7XHJcbiAgICAgICAgICAgICAgICAgICAgbWVkaWFGaWVsZEFwcC5tZWRpYUl0ZW1zLnB1c2goZmlsZXNbMF0pO1xyXG4gICAgICAgICAgICAgICAgICAgIG1lZGlhRmllbGRBcHAuaW5pdGlhbGl6ZWQgPSB0cnVlO1xyXG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICBtZWRpYUZpZWxkQXBwLm1lZGlhSXRlbXMgPSBtZWRpYUZpZWxkQXBwLm1lZGlhSXRlbXMuY29uY2F0KGZpbGVzKTtcclxuICAgICAgICAgICAgICAgICAgICBtZWRpYUZpZWxkQXBwLmluaXRpYWxpemVkID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgc2VsZWN0QW5kRGVsZXRlTWVkaWE6IGZ1bmN0aW9uIChtZWRpYSkge1xyXG4gICAgICAgICAgICAgICAgdmFyIHNlbGYgPSB0aGlzO1xyXG4gICAgICAgICAgICAgICAgc2VsZi5zZWxlY3RlZE1lZGlhID0gbWVkaWE7XHJcbiAgICAgICAgICAgICAgICAvLyBzZXRUaW1lb3V0IGJlY2F1c2Ugc29tZXRpbWVzIFxyXG4gICAgICAgICAgICAgICAgLy8gcmVtb3ZlU2VsZWN0ZWQgd2FzIGNhbGxlZCBldmVuIGJlZm9yZSB0aGUgbWVkaWEgd2FzIHNldC5cclxuICAgICAgICAgICAgICAgIHNldFRpbWVvdXQoZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgICAgIHNlbGYucmVtb3ZlU2VsZWN0ZWQoKTtcclxuICAgICAgICAgICAgICAgIH0sIDEwMCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9LFxyXG4gICAgICAgIHdhdGNoOiB7XHJcbiAgICAgICAgICAgIG1lZGlhSXRlbXM6IHtcclxuICAgICAgICAgICAgICAgIGRlZXA6IHRydWUsXHJcbiAgICAgICAgICAgICAgICBoYW5kbGVyKCkge1xyXG4gICAgICAgICAgICAgICAgICAgIC8vIFRyaWdnZXIgcHJldmlldyByZW5kZXJpbmdcclxuICAgICAgICAgICAgICAgICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHsgJChkb2N1bWVudCkudHJpZ2dlcignY29udGVudHByZXZpZXc6cmVuZGVyJyk7IH0sIDEwMCk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIGN1cnJlbnRQcmVmczogZnVuY3Rpb24gKG5ld1ByZWZzKSB7XHJcbiAgICAgICAgICAgICAgICBsb2NhbFN0b3JhZ2Uuc2V0SXRlbSgnbWVkaWFGaWVsZFByZWZzJywgSlNPTi5zdHJpbmdpZnkobmV3UHJlZnMpKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgIH0pKTtcclxufVxyXG4iLCJmdW5jdGlvbiBpbml0aWFsaXplTWVkaWFGaWVsZChlbCwgbW9kYWxCb2R5RWxlbWVudCwgbWVkaWFJdGVtVXJsLCBhbGxvd011bHRpcGxlLCBhbGxvd01lZGlhVGV4dCwgYWxsb3dBbmNob3JzKSB7XHJcbiAgICAvL0JhZ1BhcnQgY3JlYXRlIGEgc2NyaXB0IHNlY3Rpb24gd2l0aG91dCBvdGhlciBET00gZWxlbWVudHNcclxuICAgIGlmKGVsID09PSBudWxsKVxyXG4gICAgICAgIHJldHVybjtcclxuICAgIFxyXG4gICAgdmFyIHRhcmdldCA9ICQoZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJChlbCkuZGF0YSgnZm9yJykpKTtcclxuICAgIHZhciBpbml0aWFsUGF0aHMgPSB0YXJnZXQuZGF0YShcImluaXRcIik7XHJcblxyXG4gICAgdmFyIG1lZGlhRmllbGRFZGl0b3IgPSAkKGVsKTtcclxuICAgIHZhciBpZHByZWZpeCA9IG1lZGlhRmllbGRFZGl0b3IuYXR0cihcImlkXCIpO1xyXG4gICAgdmFyIG1lZGlhRmllbGRBcHA7XHJcblxyXG4gICAgLy93aGVuIGhpZGUgbW9kYWwgZGV0YWNoIG1lZGlhIGFwcCB0byBhdm9pZCBpc3N1ZSBvbiBCYWdQYXJ0XHJcbiAgICBtb2RhbEJvZHlFbGVtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ2hpZGRlbi5icy5tb2RhbCcsIGZ1bmN0aW9uIChldmVudCkge1xyXG4gICAgICAgICQoXCIjbWVkaWFBcHBcIikuYXBwZW5kVG8oJ2JvZHknKTtcclxuICAgICAgICAkKFwiI21lZGlhQXBwXCIpLmhpZGUoKTtcclxuICAgIH0pO1xyXG5cclxuICAgIG1lZGlhRmllbGRBcHBzLnB1c2gobWVkaWFGaWVsZEFwcCA9IG5ldyBWdWUoe1xyXG4gICAgICAgIGVsOiBtZWRpYUZpZWxkRWRpdG9yLmdldCgwKSxcclxuICAgICAgICBkYXRhOiB7XHJcbiAgICAgICAgICAgIG1lZGlhSXRlbXM6IFtdLFxyXG4gICAgICAgICAgICBzZWxlY3RlZE1lZGlhOiBudWxsLFxyXG4gICAgICAgICAgICBzbWFsbFRodW1iczogZmFsc2UsXHJcbiAgICAgICAgICAgIGlkUHJlZml4OiBpZHByZWZpeCxcclxuICAgICAgICAgICAgaW5pdGlhbGl6ZWQ6IGZhbHNlLFxyXG4gICAgICAgICAgICBhbGxvd01lZGlhVGV4dDogYWxsb3dNZWRpYVRleHQsXHJcbiAgICAgICAgICAgIGJhY2t1cE1lZGlhVGV4dDogJycsXHJcbiAgICAgICAgICAgIGFsbG93QW5jaG9yczogYWxsb3dBbmNob3JzLFxyXG4gICAgICAgICAgICBiYWNrdXBBbmNob3I6IG51bGwsXHJcbiAgICAgICAgICAgIG1lZGlhVGV4dE1vZGFsOiBudWxsLFxyXG4gICAgICAgICAgICBhbmNob3JpbmdNb2RhbDogbnVsbFxyXG4gICAgICAgIH0sXHJcbiAgICAgICAgY3JlYXRlZDogZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICB2YXIgc2VsZiA9IHRoaXM7XHJcblxyXG4gICAgICAgICAgICBzZWxmLmN1cnJlbnRQcmVmcyA9IEpTT04ucGFyc2UobG9jYWxTdG9yYWdlLmdldEl0ZW0oJ21lZGlhRmllbGRQcmVmcycpKTtcclxuICAgICAgICB9LFxyXG4gICAgICAgIGNvbXB1dGVkOiB7XHJcbiAgICAgICAgICAgIHBhdGhzOiB7XHJcbiAgICAgICAgICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgICAgICB2YXIgbWVkaWFQYXRocyA9IFtdO1xyXG4gICAgICAgICAgICAgICAgICAgIGlmICghdGhpcy5pbml0aWFsaXplZCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gSlNPTi5zdHJpbmdpZnkoaW5pdGlhbFBhdGhzKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5tZWRpYUl0ZW1zLmZvckVhY2goZnVuY3Rpb24gKHgpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHgubWVkaWFQYXRoID09PSAnbm90LWZvdW5kJykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIG1lZGlhUGF0aHMucHVzaCh7IHBhdGg6IHgubWVkaWFQYXRoLCBtZWRpYVRleHQ6IHgubWVkaWFUZXh0LCBhbmNob3I6IHguYW5jaG9yIH0pO1xyXG4gICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBKU09OLnN0cmluZ2lmeShtZWRpYVBhdGhzKTtcclxuICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICBzZXQ6IGZ1bmN0aW9uICh2YWx1ZXMpIHtcclxuICAgICAgICAgICAgICAgICAgICB2YXIgc2VsZiA9IHRoaXM7XHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIG1lZGlhUGF0aHMgPSB2YWx1ZXMgfHwgW107XHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIHNpZ25hbCA9ICQuRGVmZXJyZWQoKTtcclxuICAgICAgICAgICAgICAgICAgICB2YXIgaXRlbXMgPSBbXTtcclxuICAgICAgICAgICAgICAgICAgICB2YXIgbGVuZ3RoID0gMDtcclxuICAgICAgICAgICAgICAgICAgICBtZWRpYVBhdGhzLmZvckVhY2goZnVuY3Rpb24gKHgsIGkpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaXRlbXMucHVzaCh7IG5hbWU6ICcgJyArIHgucGF0aCwgbWltZTogJycsIG1lZGlhUGF0aDogJycgfSk7IC8vIGRvbid0IHJlbW92ZSB0aGUgc3BhY2UuIFNvbWV0aGluZyBkaWZmZXJlbnQgaXMgbmVlZGVkIG9yIGl0IHdvbnQgcmVhY3Qgd2hlbiB0aGUgcmVhbCBuYW1lIGFycml2ZXMuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHByb21pc2UgPSAkLndoZW4oc2lnbmFsKS5kb25lKGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICQuYWpheCh7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdXJsOiBtZWRpYUl0ZW1VcmwgKyBcIj9wYXRoPVwiICsgZW5jb2RlVVJJQ29tcG9uZW50KHgucGF0aCksXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbWV0aG9kOiAnR0VUJyxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdWNjZXNzOiBmdW5jdGlvbiAoZGF0YSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkYXRhLnZ1ZWtleSA9IGRhdGEubmFtZSArIGkudG9TdHJpbmcoKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGF0YS5tZWRpYVRleHQgPSB4Lm1lZGlhVGV4dDsgLy8gVGhpcyB2YWx1ZSBpcyBub3QgcmV0dXJuZWQgZnJvbSB0aGUgYWpheCBjYWxsLlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkYXRhLmFuY2hvciA9IHguYW5jaG9yOyAvLyBUaGlzIHZhbHVlIGlzIG5vdCByZXR1cm5lZCBmcm9tIHRoZSBhamF4IGNhbGwuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGl0ZW1zLnNwbGljZShpLCAxLCBkYXRhKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGl0ZW1zLmxlbmd0aCA9PT0gKytsZW5ndGgpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGl0ZW1zLmZvckVhY2goZnVuY3Rpb24gKHkpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZWxmLm1lZGlhSXRlbXMucHVzaCh5KTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2VsZi5pbml0aWFsaXplZCA9IHRydWU7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVycm9yOiBmdW5jdGlvbiAoZXJyb3IpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coZXJyb3IpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpdGVtcy5zcGxpY2UoaSwgMSwgeyBuYW1lOiB4LnBhdGgsIG1pbWU6ICcnLCBtZWRpYVBhdGg6ICdub3QtZm91bmQnLCBtZWRpYVRleHQ6ICcnLCBhbmNob3I6IHsgeDogMCwgeTogMCB9IH0pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoaXRlbXMubGVuZ3RoID09PSArK2xlbmd0aCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaXRlbXMuZm9yRWFjaChmdW5jdGlvbiAoeCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNlbGYubWVkaWFJdGVtcy5wdXNoKHgpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZWxmLmluaXRpYWxpemVkID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgXHJcbiAgICAgICAgICAgICAgICAgICAgc2lnbmFsLnJlc29sdmUoKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgZmlsZVNpemU6IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiBNYXRoLnJvdW5kKHRoaXMuc2VsZWN0ZWRNZWRpYS5zaXplIC8gMTAyNCk7XHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIGNhbkFkZE1lZGlhOiBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5tZWRpYUl0ZW1zLmxlbmd0aCA9PT0gMCB8fCB0aGlzLm1lZGlhSXRlbXMubGVuZ3RoID4gMCAmJiBhbGxvd011bHRpcGxlO1xyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICB0aHVtYlNpemU6IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLnNtYWxsVGh1bWJzID8gMTIwIDogMjQwO1xyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICBjdXJyZW50UHJlZnM6IHtcclxuICAgICAgICAgICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHNtYWxsVGh1bWJzOiB0aGlzLnNtYWxsVGh1bWJzXHJcbiAgICAgICAgICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICBzZXQ6IGZ1bmN0aW9uIChuZXdQcmVmcykge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmICghbmV3UHJlZnMpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICB0aGlzLnNtYWxsVGh1bWJzID0gbmV3UHJlZnMuc21hbGxUaHVtYnM7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9LFxyXG4gICAgICAgIG1vdW50ZWQ6IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgdmFyIHNlbGYgPSB0aGlzO1xyXG5cclxuICAgICAgICAgICAgc2VsZi5wYXRocyA9IGluaXRpYWxQYXRocztcclxuXHJcbiAgICAgICAgICAgIHNlbGYuJG9uKCdzZWxlY3RBbmREZWxldGVNZWRpYVJlcXVlc3RlZCcsIGZ1bmN0aW9uIChtZWRpYSkge1xyXG4gICAgICAgICAgICAgICAgc2VsZi5zZWxlY3RBbmREZWxldGVNZWRpYShtZWRpYSk7XHJcbiAgICAgICAgICAgIH0pO1xyXG5cclxuICAgICAgICAgICAgc2VsZi4kb24oJ3NlbGVjdE1lZGlhUmVxdWVzdGVkJywgZnVuY3Rpb24gKG1lZGlhKSB7XHJcbiAgICAgICAgICAgICAgICBzZWxmLnNlbGVjdE1lZGlhKG1lZGlhKTtcclxuICAgICAgICAgICAgfSk7XHJcblxyXG4gICAgICAgICAgICBzZWxmLiRvbignZmlsZXNVcGxvYWRlZCcsIGZ1bmN0aW9uIChmaWxlcykge1xyXG4gICAgICAgICAgICAgICAgc2VsZi5hZGRNZWRpYUZpbGVzKGZpbGVzKTtcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfSxcclxuICAgICAgICBtZXRob2RzOiB7XHJcbiAgICAgICAgICAgIHNlbGVjdE1lZGlhOiBmdW5jdGlvbiAobWVkaWEpIHtcclxuICAgICAgICAgICAgICAgIHRoaXMuc2VsZWN0ZWRNZWRpYSA9IG1lZGlhO1xyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICBzaG93TW9kYWw6IGZ1bmN0aW9uIChldmVudCkge1xyXG4gICAgICAgICAgICAgICAgdmFyIHNlbGYgPSB0aGlzO1xyXG4gICAgICAgICAgICAgICAgaWYgKHNlbGYuY2FuQWRkTWVkaWEpIHtcclxuICAgICAgICAgICAgICAgICAgICAkKFwiI21lZGlhQXBwXCIpLmFwcGVuZFRvKCQobW9kYWxCb2R5RWxlbWVudCkuZmluZCgnLm1vZGFsLWJvZHknKSk7XHJcbiAgICAgICAgICAgICAgICAgICAgJChcIiNtZWRpYUFwcFwiKS5zaG93KCk7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIHZhciBtb2RhbCA9IG5ldyBib290c3RyYXAuTW9kYWwobW9kYWxCb2R5RWxlbWVudCk7XHJcbiAgICAgICAgICAgICAgICAgICAgbW9kYWwuc2hvdygpO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAkKG1vZGFsQm9keUVsZW1lbnQpLmZpbmQoJy5tZWRpYUZpZWxkU2VsZWN0QnV0dG9uJykub2ZmKCdjbGljaycpLm9uKCdjbGljaycsIGZ1bmN0aW9uICh2KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHNlbGYuYWRkTWVkaWFGaWxlcyhtZWRpYUFwcC5zZWxlY3RlZE1lZGlhcyk7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyB3ZSBkb24ndCB3YW50IHRoZSBpbmNsdWRlZCBtZWRpYXMgdG8gYmUgc3RpbGwgc2VsZWN0ZWQgdGhlIG5leHQgdGltZSB3ZSBvcGVuIHRoZSBtb2RhbC5cclxuICAgICAgICAgICAgICAgICAgICAgICAgbWVkaWFBcHAuc2VsZWN0ZWRNZWRpYXMgPSBbXTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIG1vZGFsLmhpZGUoKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7XHJcbiAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIHNob3dNZWRpYVRleHRNb2RhbDogZnVuY3Rpb24gKGV2ZW50KSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLm1lZGlhVGV4dE1vZGFsID0gbmV3IGJvb3RzdHJhcC5Nb2RhbCh0aGlzLiRyZWZzLm1lZGlhVGV4dE1vZGFsKTtcclxuICAgICAgICAgICAgICAgIHRoaXMubWVkaWFUZXh0TW9kYWwuc2hvdygpO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5iYWNrdXBNZWRpYVRleHQgPSB0aGlzLnNlbGVjdGVkTWVkaWEubWVkaWFUZXh0O1xyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICBjYW5jZWxNZWRpYVRleHRNb2RhbDogZnVuY3Rpb24gKGV2ZW50KSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLm1lZGlhVGV4dE1vZGFsLmhpZGUoKTtcclxuICAgICAgICAgICAgICAgIHRoaXMuc2VsZWN0ZWRNZWRpYS5tZWRpYVRleHQgPSB0aGlzLmJhY2t1cE1lZGlhVGV4dDtcclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgc2hvd0FuY2hvck1vZGFsOiBmdW5jdGlvbiAoZXZlbnQpIHtcclxuICAgICAgICAgICAgICAgIHRoaXMuYW5jaG9yaW5nTW9kYWwgPSBuZXcgYm9vdHN0cmFwLk1vZGFsKHRoaXMuJHJlZnMuYW5jaG9yaW5nTW9kYWwpO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5hbmNob3JpbmdNb2RhbC5zaG93KCk7XHJcbiAgICAgICAgICAgICAgICAvLyBDYXVzZSBhIHJlZnJlc2ggdG8gcmVjYWxjIGhlaWdodHMuXHJcbiAgICAgICAgICAgICAgICB0aGlzLnNlbGVjdGVkTWVkaWEuYW5jaG9yID0ge1xyXG4gICAgICAgICAgICAgICAgICB4OiB0aGlzLnNlbGVjdGVkTWVkaWEuYW5jaG9yLngsXHJcbiAgICAgICAgICAgICAgICAgIHk6IHRoaXMuc2VsZWN0ZWRNZWRpYS5hbmNob3IueVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgdGhpcy5iYWNrdXBBbmNob3IgPSB0aGlzLnNlbGVjdGVkTWVkaWEuYW5jaG9yO1xyXG4gICAgICAgICAgICB9LCAgICAgICAgICAgIFxyXG4gICAgICAgICAgICBjYW5jZWxBbmNob3JpbmdNb2RhbDogZnVuY3Rpb24gKGV2ZW50KSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmFuY2hvcmluZ01vZGFsLmhpZGUoKTtcclxuICAgICAgICAgICAgICAgIHRoaXMuc2VsZWN0ZWRNZWRpYS5hbmNob3IgPSB0aGlzLmJhY2t1cEFuY2hvcjtcclxuICAgICAgICAgICAgfSwgICAgICAgICAgICBcclxuICAgICAgICAgICAgcmVzZXRBbmNob3I6IGZ1bmN0aW9uIChldmVudCkge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5zZWxlY3RlZE1lZGlhLmFuY2hvciA9IHsgeDogMC41LCB5OiAwLjUgfTtcclxuICAgICAgICAgICAgfSwgIFxyXG4gICAgICAgICAgICBvbkFuY2hvckRyb3A6IGZ1bmN0aW9uKGV2ZW50KSB7XHJcbiAgICAgICAgICAgICAgICB2YXIgaW1hZ2UgPSB0aGlzLiRyZWZzLmFuY2hvckltYWdlO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5zZWxlY3RlZE1lZGlhLmFuY2hvciA9IHtcclxuICAgICAgICAgICAgICAgICAgIHg6IGV2ZW50Lm9mZnNldFggLyBpbWFnZS5jbGllbnRXaWR0aCxcclxuICAgICAgICAgICAgICAgICAgIHk6IGV2ZW50Lm9mZnNldFkgLyBpbWFnZS5jbGllbnRIZWlnaHRcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgYW5jaG9yTGVmdDogZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgaWYgKHRoaXMuJHJlZnMuYW5jaG9ySW1hZ2UgJiYgdGhpcy4kcmVmcy5tb2RhbEJvZHkgJiYgdGhpcy5zZWxlY3RlZE1lZGlhKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgLy8gV2hlbiBpbWFnZSBpcyBzaHJ1bmsgY29tcGFyZSBhZ2FpbnN0IHRoZSBtb2RhbCBib2R5LlxyXG4gICAgICAgICAgICAgICAgICAgIHZhciBvZmZzZXQgPSAodGhpcy4kcmVmcy5tb2RhbEJvZHkuY2xpZW50V2lkdGggLSB0aGlzLiRyZWZzLmFuY2hvckltYWdlLmNsaWVudFdpZHRoKSAvIDI7XHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIHBvc2l0aW9uID0gKHRoaXMuc2VsZWN0ZWRNZWRpYS5hbmNob3IueCAqIHRoaXMuJHJlZnMuYW5jaG9ySW1hZ2UuY2xpZW50V2lkdGgpICsgb2Zmc2V0O1xyXG4gICAgICAgICAgICAgICAgICAgIHZhciBhbmNob3JJY29uID0gTWF0aC5yb3VuZCh0aGlzLiRyZWZzLm1vZGFsQm9keS5xdWVyeVNlbGVjdG9yKCcuaWNvbi1tZWRpYS1hbmNob3InKS5jbGllbnRXaWR0aCk7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYoTnVtYmVyLmlzSW50ZWdlcihhbmNob3JJY29uKSlcclxuICAgICAgICAgICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHBvc2l0aW9uID0gcG9zaXRpb24gLSBhbmNob3JJY29uLzI7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBwb3NpdGlvbiArICdweCc7XHJcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiAnMCc7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0sICAgICAgICAgICAgXHJcbiAgICAgICAgICAgIGFuY2hvclRvcDogZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgaWYgKHRoaXMuJHJlZnMuYW5jaG9ySW1hZ2UgJiYgdGhpcy5zZWxlY3RlZE1lZGlhKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIHBvc2l0aW9uID0gdGhpcy5zZWxlY3RlZE1lZGlhLmFuY2hvci55ICogdGhpcy4kcmVmcy5hbmNob3JJbWFnZS5jbGllbnRIZWlnaHQ7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHBvc2l0aW9uICsgJ3B4JztcclxuICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuICcwJztcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgc2V0QW5jaG9yOiBmdW5jdGlvbiAoZXZlbnQpIHtcclxuICAgICAgICAgICAgICAgIHZhciBpbWFnZSA9IHRoaXMuJHJlZnMuYW5jaG9ySW1hZ2U7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnNlbGVjdGVkTWVkaWEuYW5jaG9yID0ge1xyXG4gICAgICAgICAgICAgICAgICAgIHg6IGV2ZW50Lm9mZnNldFggLyBpbWFnZS5jbGllbnRXaWR0aCxcclxuICAgICAgICAgICAgICAgICAgICB5OiBldmVudC5vZmZzZXRZIC8gaW1hZ2UuY2xpZW50SGVpZ2h0XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0sICAgICAgICAgXHJcbiAgICAgICAgICAgIGFkZE1lZGlhRmlsZXM6IGZ1bmN0aW9uIChmaWxlcykge1xyXG4gICAgICAgICAgICAgICAgaWYgKChmaWxlcy5sZW5ndGggPiAxKSAmJiAoYWxsb3dNdWx0aXBsZSA9PT0gZmFsc2UpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgYWxlcnQoJCgnI29ubHlPbmVJdGVtTWVzc2FnZScpLnZhbCgpKTtcclxuICAgICAgICAgICAgICAgICAgICBtZWRpYUZpZWxkQXBwLm1lZGlhSXRlbXMucHVzaChmaWxlc1swXSk7XHJcbiAgICAgICAgICAgICAgICAgICAgbWVkaWFGaWVsZEFwcC5pbml0aWFsaXplZCA9IHRydWU7XHJcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgIG1lZGlhRmllbGRBcHAubWVkaWFJdGVtcyA9IG1lZGlhRmllbGRBcHAubWVkaWFJdGVtcy5jb25jYXQoZmlsZXMpO1xyXG4gICAgICAgICAgICAgICAgICAgIG1lZGlhRmllbGRBcHAuaW5pdGlhbGl6ZWQgPSB0cnVlO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICByZW1vdmVTZWxlY3RlZDogZnVuY3Rpb24gKGV2ZW50KSB7XHJcbiAgICAgICAgICAgICAgICBpZiAodGhpcy5zZWxlY3RlZE1lZGlhKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIGluZGV4ID0gdGhpcy5tZWRpYUl0ZW1zICYmIHRoaXMubWVkaWFJdGVtcy5pbmRleE9mKHRoaXMuc2VsZWN0ZWRNZWRpYSk7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKGluZGV4ID4gLTEpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5tZWRpYUl0ZW1zLnNwbGljZShpbmRleCwgMSk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgLy8gVGhlIHJlbW92ZSBidXR0b24gY2FuIGFsc28gcmVtb3ZlIGEgdW5pcXVlIG1lZGlhIGl0ZW1cclxuICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy5tZWRpYUl0ZW1zLmxlbmd0aCA9PT0gMSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLm1lZGlhSXRlbXMuc3BsaWNlKDAsIDEpO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIHRoaXMuc2VsZWN0ZWRNZWRpYSA9IG51bGw7XHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIHNlbGVjdEFuZERlbGV0ZU1lZGlhOiBmdW5jdGlvbiAobWVkaWEpIHtcclxuICAgICAgICAgICAgICAgIHZhciBzZWxmID0gdGhpcztcclxuICAgICAgICAgICAgICAgIHNlbGYuc2VsZWN0ZWRNZWRpYSA9IG1lZGlhO1xyXG4gICAgICAgICAgICAgICAgLy8gc2V0VGltZW91dCBiZWNhdXNlIHNvbWV0aW1lcyByZW1vdmVTZWxlY3RlZCB3YXMgY2FsbGVkIGV2ZW4gYmVmb3JlIHRoZSBtZWRpYSB3YXMgc2V0LlxyXG4gICAgICAgICAgICAgICAgc2V0VGltZW91dChmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgc2VsZi5yZW1vdmVTZWxlY3RlZCgpO1xyXG4gICAgICAgICAgICAgICAgfSwgMTAwKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0sXHJcbiAgICAgICAgd2F0Y2g6IHtcclxuICAgICAgICAgICAgbWVkaWFJdGVtczoge1xyXG4gICAgICAgICAgICAgICAgZGVlcDogdHJ1ZSxcclxuICAgICAgICAgICAgICAgIGhhbmRsZXIgKCkge1xyXG4gICAgICAgICAgICAgICAgICAgIC8vIFRyaWdnZXIgcHJldmlldyByZW5kZXJpbmdcclxuICAgICAgICAgICAgICAgICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHsgJChkb2N1bWVudCkudHJpZ2dlcignY29udGVudHByZXZpZXc6cmVuZGVyJyk7IH0sIDEwMCk7IFxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9LCAgICAgICAgICAgIFxyXG4gICAgICAgICAgICBjdXJyZW50UHJlZnM6IGZ1bmN0aW9uIChuZXdQcmVmcykge1xyXG4gICAgICAgICAgICAgICAgbG9jYWxTdG9yYWdlLnNldEl0ZW0oJ21lZGlhRmllbGRQcmVmcycsIEpTT04uc3RyaW5naWZ5KG5ld1ByZWZzKSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICB9KSk7XHJcbn1cclxuIiwiLy8gZGlmZmVyZW50IG1lZGlhIGZpZWxkIGVkaXRvcnMgd2lsbCBhZGQgdGhlbXNlbHZlcyB0byB0aGlzIGFycmF5XHJcbnZhciBtZWRpYUZpZWxkQXBwcyA9IFtdO1xyXG4iLCIvLyA8bWVkaWEtZmllbGQtdGh1bWJzLWNvbnRhaW5lcj4gY29tcG9uZW50IFxyXG4vLyBkaWZmZXJlbnQgbWVkaWEgZmllbGQgZWRpdG9ycyBzaGFyZSB0aGlzIGNvbXBvbmVudCB0byBwcmVzZW50IHRoZSB0aHVtYnMuXHJcblZ1ZS5jb21wb25lbnQoJ21lZGlhRmllbGRUaHVtYnNDb250YWluZXInLCB7XHJcbiAgICB0ZW1wbGF0ZTogJ1xcXHJcbiAgICAgICA8ZGl2IDppZD1cImlkUHJlZml4ICsgXFwnX21lZGlhQ29udGFpbmVyTWFpblxcJ1wiIHYtY2xvYWs+XFxcclxuICAgICAgICAgPGRpdiB2LWlmPVwibWVkaWFJdGVtcy5sZW5ndGggPCAxXCIgY2xhc3M9XCJjYXJkIHRleHQtY2VudGVyXCI+XFxcclxuICAgICAgICAgICAgIDxkaXYgY2xhc3M9IFwiY2FyZC1ib2R5XCIgPlxcXHJcbiAgICAgICAgICAgICAgICA8c3BhbiBjbGFzcz1cImhpbnRcIj57e1Qubm9JbWFnZXN9fTwvc3Bhbj5cXFxyXG4gICAgICAgICAgICAgPC9kaXY+XFxcclxuICAgICAgICAgPC9kaXY+XFxcclxuICAgICAgICAgPGRyYWdnYWJsZSA6bGlzdD1cIm1lZGlhSXRlbXNcIiB0YWc9XCJvbFwiIGNsYXNzPVwicm93IG1lZGlhLWl0ZW1zLWdyaWRcIiA+XFxcclxuICAgICAgICAgICAgPGxpIHYtZm9yPVwibWVkaWEgaW4gbWVkaWFJdGVtc1wiXFxcclxuICAgICAgICAgICAgICAgIDprZXk9XCJtZWRpYS52dWVrZXlcIiBcXFxyXG4gICAgICAgICAgICAgICAgY2xhc3M9XCJtZWRpYS1jb250YWluZXItbWFpbi1saXN0LWl0ZW0gY2FyZCBwLTBcIlxcXHJcbiAgICAgICAgICAgICAgICA6c3R5bGU9XCJ7d2lkdGg6IHRodW1iU2l6ZSArIDIgKyBcXCdweFxcJ31cIlxcXHJcbiAgICAgICAgICAgICAgICA6Y2xhc3M9XCJ7c2VsZWN0ZWQ6IHNlbGVjdGVkTWVkaWEgPT0gbWVkaWF9XCJcXFxyXG4gICAgICAgICAgICAgICAgdi1vbjpjbGljaz1cInNlbGVjdE1lZGlhKG1lZGlhKVwiIHYtaWY9XCIhbWVkaWEuaXNSZW1vdmVkXCI+XFxcclxuICAgICAgICAgICAgICAgICAgICA8ZGl2IHYtaWY9XCJtZWRpYS5tZWRpYVBhdGghPT0gXFwnbm90LWZvdW5kXFwnXCI+XFxcclxuICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cInRodW1iLWNvbnRhaW5lclwiIDpzdHlsZT1cIntoZWlnaHQ6IHRodW1iU2l6ZSArIFxcJ3B4XFwnfVwiID5cXFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPGltZyB2LWlmPVwibWVkaWEubWltZS5zdGFydHNXaXRoKFxcJ2ltYWdlXFwnKVwiIFxcXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA6c3JjPVwiYnVpbGRNZWRpYVVybChtZWRpYS51cmwsIHRodW1iU2l6ZSlcIiBcXFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgOmRhdGEtbWltZT1cIm1lZGlhLm1pbWVcIlxcXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA6c3R5bGU9XCJ7bWF4SGVpZ2h0OiB0aHVtYlNpemUgKyBcXCdweFxcJyAsIG1heFdpZHRoOiB0aHVtYlNpemUgKyBcXCdweFxcJ31cIi8+XFxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxpIHYtZWxzZSA6Y2xhc3M9XCJnZXRmb250QXdlc29tZUNsYXNzTmFtZUZvckZpbGVOYW1lKG1lZGlhLm5hbWUsIFxcJ2ZhLTR4XFwnKVwiIDpkYXRhLW1pbWU9XCJtZWRpYS5taW1lXCI+PC9pPlxcXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cXFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cIm1lZGlhLWNvbnRhaW5lci1tYWluLWl0ZW0tdGl0bGUgY2FyZC1ib2R5XCI+XFxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8YSBocmVmPVwiamF2YXNjcmlwdDo7XCIgY2xhc3M9XCJidG4gYnRuLWxpZ2h0IGJ0bi1zbSBmbG9hdC1lbmQgaW5saW5lLW1lZGlhLWJ1dHRvbiBkZWxldGUtYnV0dG9uXCJcXFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2LW9uOmNsaWNrLnN0b3A9XCJzZWxlY3RBbmREZWxldGVNZWRpYShtZWRpYSlcIj48aSBjbGFzcz1cImZhLXNvbGlkIGZhLXRyYXNoXCIgYXJpYS1oaWRkZW49XCJ0cnVlXCI+PC9pPjwvYT5cXFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxhIDpocmVmPVwibWVkaWEudXJsXCIgdGFyZ2V0PVwiX2JsYW5rXCIgY2xhc3M9XCJidG4gYnRuLWxpZ2h0IGJ0bi1zbSBmbG9hdC1lbmQgaW5saW5lLW1lZGlhLWJ1dHRvbiB2aWV3LWJ1dHRvblwiXCI+PGkgY2xhc3M9XCJmYS1zb2xpZCBmYS1kb3dubG9hZFwiIGFyaWEtaGlkZGVuPVwidHJ1ZVwiPjwvaT48L2E+IFxcXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHNwYW4gY2xhc3M9XCJtZWRpYS1maWxlbmFtZSBjYXJkLXRleHQgc21hbGxcIiA6dGl0bGU9XCJtZWRpYS5tZWRpYVBhdGhcIj57eyBtZWRpYS5pc05ldyA/IG1lZGlhLm5hbWUuc3Vic3RyKDM2KSA6IG1lZGlhLm5hbWUgfX08L3NwYW4+XFxcclxuICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxcXHJcbiAgICAgICAgICAgICAgICAgICAgPC9kaXY+XFxcclxuICAgICAgICAgICAgICAgICAgICA8ZGl2IHYtZWxzZT5cXFxyXG4gICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwidGh1bWItY29udGFpbmVyIGZsZXgtY29sdW1uXCIgOnN0eWxlPVwie2hlaWdodDogdGh1bWJTaXplICsgXFwncHhcXCd9XCI+XFxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxpIGNsYXNzPVwiZmEtc29saWQgZmEtYmFuIHRleHQtZGFuZ2VyIGQtYmxvY2tcIiBhcmlhLWhpZGRlbj1cInRydWVcIj48L2k+XFxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzPVwidGV4dC1kYW5nZXIgc21hbGwgZC1ibG9ja1wiPnt7IFQubWVkaWFOb3RGb3VuZCB9fTwvc3Bhbj5cXFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPHNwYW4gY2xhc3M9XCJ0ZXh0LWRhbmdlciBzbWFsbCBkLWJsb2NrIHRleHQtY2VudGVyXCI+e3sgVC5kaXNjYXJkV2FybmluZyB9fTwvc3Bhbj5cXFxyXG4gICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cXFxyXG4gICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwibWVkaWEtY29udGFpbmVyLW1haW4taXRlbS10aXRsZSBjYXJkLWJvZHlcIj5cXFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPGEgaHJlZj1cImphdmFzY3JpcHQ6O1wiIGNsYXNzPVwiYnRuIGJ0bi1saWdodCBidG4tc20gZmxvYXQtZW5kIGlubGluZS1tZWRpYS1idXR0b24gZGVsZXRlLWJ1dHRvblwiXFxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2LW9uOmNsaWNrLnN0b3A9XCJzZWxlY3RBbmREZWxldGVNZWRpYShtZWRpYSlcIj48aSBjbGFzcz1cImZhLXNvbGlkIGZhLXRyYXNoXCIgYXJpYS1oaWRkZW49XCJ0cnVlXCI+PC9pPjwvYT5cXFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPHNwYW4gY2xhc3M9XCJtZWRpYS1maWxlbmFtZSBjYXJkLXRleHQgc21hbGwgdGV4dC1kYW5nZXJcIiA6dGl0bGU9XCJtZWRpYS5uYW1lXCI+e3sgbWVkaWEubmFtZSB9fTwvc3Bhbj5cXFxyXG4gICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cXFxyXG4gICAgICAgICAgICAgICAgICAgPC9kaXY+XFxcclxuICAgICAgICAgICAgPC9saT5cXFxyXG4gICAgICAgICA8L2RyYWdnYWJsZT5cXFxyXG4gICAgICAgPC9kaXY+XFxcclxuICAgICcsXHJcbiAgICBkYXRhOiBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgcmV0dXJuIHtcclxuICAgICAgICAgICAgVDoge31cclxuICAgICAgICB9O1xyXG4gICAgfSxcclxuICAgIHByb3BzOiB7XHJcbiAgICAgICAgbWVkaWFJdGVtczogQXJyYXksXHJcbiAgICAgICAgc2VsZWN0ZWRNZWRpYTogT2JqZWN0LFxyXG4gICAgICAgIHRodW1iU2l6ZTogTnVtYmVyLFxyXG4gICAgICAgIGlkUHJlZml4OiBTdHJpbmdcclxuICAgIH0sXHJcbiAgICBjcmVhdGVkOiBmdW5jdGlvbiAoKSB7XHJcblxyXG4gICAgICAgIHZhciBzZWxmID0gdGhpcztcclxuXHJcbiAgICAgICAgLy8gcmV0cmlldmluZyBsb2NhbGl6ZWQgc3RyaW5ncyBmcm9tIHZpZXdcclxuICAgICAgICBzZWxmLlQubWVkaWFOb3RGb3VuZCA9ICQoJyN0LW1lZGlhLW5vdC1mb3VuZCcpLnZhbCgpO1xyXG4gICAgICAgIHNlbGYuVC5kaXNjYXJkV2FybmluZyA9ICQoJyN0LWRpc2NhcmQtd2FybmluZycpLnZhbCgpO1xyXG4gICAgICAgIHNlbGYuVC5ub0ltYWdlcyA9ICQoJyN0LW5vLWltYWdlcycpLnZhbCgpO1xyXG4gICAgfSxcclxuICAgIG1ldGhvZHM6IHtcclxuICAgICAgICBzZWxlY3RBbmREZWxldGVNZWRpYTogZnVuY3Rpb24gKG1lZGlhKSB7XHJcbiAgICAgICAgICAgIHRoaXMuJHBhcmVudC4kZW1pdCgnc2VsZWN0QW5kRGVsZXRlTWVkaWFSZXF1ZXN0ZWQnLCBtZWRpYSk7XHJcbiAgICAgICAgfSxcclxuICAgICAgICBzZWxlY3RNZWRpYTogZnVuY3Rpb24gKG1lZGlhKSB7XHJcbiAgICAgICAgICAgIHRoaXMuJHBhcmVudC4kZW1pdCgnc2VsZWN0TWVkaWFSZXF1ZXN0ZWQnLCBtZWRpYSk7XHJcbiAgICAgICAgfSxcclxuICAgICAgICBidWlsZE1lZGlhVXJsOiBmdW5jdGlvbiAodXJsLCB0aHVtYlNpemUpIHtcclxuICAgICAgICAgICAgcmV0dXJuIHVybCArICh1cmwuaW5kZXhPZignPycpID09IC0xID8gJz8nIDogJyYnKSArICd3aWR0aD0nICsgdGh1bWJTaXplICsgJyZoZWlnaHQ9JyArIHRodW1iU2l6ZTtcclxuICAgICAgICB9LFxyXG4gICAgICAgIGdldGZvbnRBd2Vzb21lQ2xhc3NOYW1lRm9yRmlsZU5hbWU6ZnVuY3Rpb24gZ2V0Zm9udEF3ZXNvbWVDbGFzc05hbWVGb3JGaWxlbmFtZShmaWxlbmFtZSwgdGh1bWJzaXplKXtcclxuICAgICAgICAgICAgcmV0dXJuIGdldENsYXNzTmFtZUZvckZpbGVuYW1lKGZpbGVuYW1lKSArICcgJyArIHRodW1ic2l6ZTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbn0pO1xyXG4iLCJ2YXIgaW5pdGlhbGl6ZWQ7XHJcbnZhciBtZWRpYUFwcDtcclxuXHJcbnZhciBidXMgPSBuZXcgVnVlKCk7XHJcblxyXG5mdW5jdGlvbiBpbml0aWFsaXplTWVkaWFBcHBsaWNhdGlvbihkaXNwbGF5TWVkaWFBcHBsaWNhdGlvbiwgbWVkaWFBcHBsaWNhdGlvblVybCwgcGF0aEJhc2UpIHtcclxuXHJcbiAgICBpZiAoaW5pdGlhbGl6ZWQpIHtcclxuICAgICAgICByZXR1cm47XHJcbiAgICB9XHJcblxyXG4gICAgaW5pdGlhbGl6ZWQgPSB0cnVlO1xyXG5cclxuICAgIGlmICghbWVkaWFBcHBsaWNhdGlvblVybCkge1xyXG4gICAgICAgIGNvbnNvbGUuZXJyb3IoJ21lZGlhQXBwbGljYXRpb25VcmwgdmFyaWFibGUgaXMgbm90IGRlZmluZWQnKTtcclxuICAgIH1cclxuXHJcbiAgICAkLmFqYXgoe1xyXG4gICAgICAgIHVybDogbWVkaWFBcHBsaWNhdGlvblVybCxcclxuICAgICAgICBtZXRob2Q6ICdHRVQnLFxyXG4gICAgICAgIHN1Y2Nlc3M6IGZ1bmN0aW9uIChjb250ZW50KSB7XHJcbiAgICAgICAgICAgICQoJy50YS1jb250ZW50JykuYXBwZW5kKGNvbnRlbnQpO1xyXG5cclxuICAgICAgICAgICAgJChkb2N1bWVudCkudHJpZ2dlcignbWVkaWFhcHBsaWNhdGlvbjpyZWFkeScpO1xyXG5cclxuICAgICAgICAgICAgdmFyIHJvb3QgPSB7XHJcbiAgICAgICAgICAgICAgICBuYW1lOiAkKCcjdC1tZWRpYUxpYnJhcnknKS50ZXh0KCksXHJcbiAgICAgICAgICAgICAgICBwYXRoOiAnJyxcclxuICAgICAgICAgICAgICAgIGZvbGRlcjogJycsXHJcbiAgICAgICAgICAgICAgICBpc0RpcmVjdG9yeTogdHJ1ZVxyXG4gICAgICAgICAgICB9O1xyXG5cclxuICAgICAgICAgICAgbWVkaWFBcHAgPSBuZXcgVnVlKHtcclxuICAgICAgICAgICAgICAgIGVsOiAnI21lZGlhQXBwJyxcclxuICAgICAgICAgICAgICAgIGRhdGE6IHtcclxuICAgICAgICAgICAgICAgICAgICBzZWxlY3RlZEZvbGRlcjoge30sXHJcbiAgICAgICAgICAgICAgICAgICAgbWVkaWFJdGVtczogW10sXHJcbiAgICAgICAgICAgICAgICAgICAgc2VsZWN0ZWRNZWRpYXM6IFtdLFxyXG4gICAgICAgICAgICAgICAgICAgIGVycm9yczogW10sXHJcbiAgICAgICAgICAgICAgICAgICAgZHJhZ0Ryb3BUaHVtYm5haWw6IG5ldyBJbWFnZSgpLFxyXG4gICAgICAgICAgICAgICAgICAgIHNtYWxsVGh1bWJzOiBmYWxzZSxcclxuICAgICAgICAgICAgICAgICAgICBncmlkVmlldzogZmFsc2UsXHJcbiAgICAgICAgICAgICAgICAgICAgbWVkaWFGaWx0ZXI6ICcnLFxyXG4gICAgICAgICAgICAgICAgICAgIHNvcnRCeTogJycsXHJcbiAgICAgICAgICAgICAgICAgICAgc29ydEFzYzogdHJ1ZSxcclxuICAgICAgICAgICAgICAgICAgICBpdGVtc0luUGFnZTogW11cclxuICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICBjcmVhdGVkOiBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIHNlbGYgPSB0aGlzO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICBzZWxmLmRyYWdEcm9wVGh1bWJuYWlsLnNyYyA9IChwYXRoQmFzZSB8fCAnJykgKyAnL09yY2hhcmRDb3JlLk1lZGlhL0ltYWdlcy9kcmFnLXRodW1ibmFpbC5wbmcnO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICBidXMuJG9uKCdmb2xkZXJTZWxlY3RlZCcsIGZ1bmN0aW9uIChmb2xkZXIpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgc2VsZi5zZWxlY3RlZEZvbGRlciA9IGZvbGRlcjtcclxuICAgICAgICAgICAgICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgYnVzLiRvbignZm9sZGVyRGVsZXRlZCcsIGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgc2VsZi5zZWxlY3RSb290KCk7XHJcbiAgICAgICAgICAgICAgICAgICAgfSk7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIGJ1cy4kb24oJ2ZvbGRlckFkZGVkJywgZnVuY3Rpb24gKGZvbGRlcikge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBzZWxmLnNlbGVjdGVkRm9sZGVyID0gZm9sZGVyO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBmb2xkZXIuc2VsZWN0ZWQgPSB0cnVlO1xyXG4gICAgICAgICAgICAgICAgICAgIH0pO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICBidXMuJG9uKCdtZWRpYUxpc3RNb3ZlZCcsIGZ1bmN0aW9uIChlcnJvckluZm8pIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgc2VsZi5sb2FkRm9sZGVyKHNlbGYuc2VsZWN0ZWRGb2xkZXIpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoZXJyb3JJbmZvKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZWxmLmVycm9ycy5wdXNoKGVycm9ySW5mbyk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgYnVzLiRvbignbWVkaWFSZW5hbWVkJywgZnVuY3Rpb24gKG5ld05hbWUsIG5ld1BhdGgsIG9sZFBhdGgsIG5ld1VybCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgbWVkaWEgPSBzZWxmLm1lZGlhSXRlbXMuZmlsdGVyKGZ1bmN0aW9uIChpdGVtKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gaXRlbS5tZWRpYVBhdGggPT09IG9sZFBhdGg7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pWzBdO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgbWVkaWEubWVkaWFQYXRoID0gbmV3UGF0aDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgbWVkaWEubmFtZSA9IG5ld05hbWU7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIG1lZGlhLnVybCA9IG5ld1VybDtcclxuICAgICAgICAgICAgICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgYnVzLiRvbignY3JlYXRlRm9sZGVyUmVxdWVzdGVkJywgZnVuY3Rpb24gKG1lZGlhKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHNlbGYuY3JlYXRlRm9sZGVyKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgfSk7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIGJ1cy4kb24oJ2RlbGV0ZUZvbGRlclJlcXVlc3RlZCcsIGZ1bmN0aW9uIChtZWRpYSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBzZWxmLmRlbGV0ZUZvbGRlcigpO1xyXG4gICAgICAgICAgICAgICAgICAgIH0pO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAvLyBjb21tb24gaGFuZGxlcnMgZm9yIGFjdGlvbnMgaW4gYm90aCBncmlkIGFuZCB0YWJsZSB2aWV3LlxyXG4gICAgICAgICAgICAgICAgICAgIGJ1cy4kb24oJ3NvcnRDaGFuZ2VSZXF1ZXN0ZWQnLCBmdW5jdGlvbiAobmV3U29ydCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBzZWxmLmNoYW5nZVNvcnQobmV3U29ydCk7XHJcbiAgICAgICAgICAgICAgICAgICAgfSk7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIGJ1cy4kb24oJ21lZGlhVG9nZ2xlUmVxdWVzdGVkJywgZnVuY3Rpb24gKG1lZGlhKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHNlbGYudG9nZ2xlU2VsZWN0aW9uT2ZNZWRpYShtZWRpYSk7XHJcbiAgICAgICAgICAgICAgICAgICAgfSk7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIGJ1cy4kb24oJ3JlbmFtZU1lZGlhUmVxdWVzdGVkJywgZnVuY3Rpb24gKG1lZGlhKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHNlbGYucmVuYW1lTWVkaWEobWVkaWEpO1xyXG4gICAgICAgICAgICAgICAgICAgIH0pO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICBidXMuJG9uKCdkZWxldGVNZWRpYVJlcXVlc3RlZCcsIGZ1bmN0aW9uIChtZWRpYSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBzZWxmLmRlbGV0ZU1lZGlhSXRlbShtZWRpYSk7XHJcbiAgICAgICAgICAgICAgICAgICAgfSk7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIGJ1cy4kb24oJ21lZGlhRHJhZ1N0YXJ0UmVxdWVzdGVkJywgZnVuY3Rpb24gKG1lZGlhLCBlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHNlbGYuaGFuZGxlRHJhZ1N0YXJ0KG1lZGlhLCBlKTtcclxuICAgICAgICAgICAgICAgICAgICB9KTtcclxuXHJcblxyXG4gICAgICAgICAgICAgICAgICAgIC8vIGhhbmRsZXIgZm9yIHBhZ2VyIGV2ZW50c1xyXG4gICAgICAgICAgICAgICAgICAgIGJ1cy4kb24oJ3BhZ2VyRXZlbnQnLCBmdW5jdGlvbiAoaXRlbXNJblBhZ2UpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgc2VsZi5pdGVtc0luUGFnZSA9IGl0ZW1zSW5QYWdlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBzZWxmLnNlbGVjdGVkTWVkaWFzID0gW107XHJcbiAgICAgICAgICAgICAgICAgICAgfSk7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIGlmICghbG9jYWxTdG9yYWdlLmdldEl0ZW0oJ21lZGlhQXBwbGljYXRpb25QcmVmcycpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHNlbGYuc2VsZWN0ZWRGb2xkZXIgPSByb290O1xyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgICAgICBzZWxmLmN1cnJlbnRQcmVmcyA9IEpTT04ucGFyc2UobG9jYWxTdG9yYWdlLmdldEl0ZW0oJ21lZGlhQXBwbGljYXRpb25QcmVmcycpKTtcclxuICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICBjb21wdXRlZDoge1xyXG4gICAgICAgICAgICAgICAgICAgIGlzSG9tZTogZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5zZWxlY3RlZEZvbGRlciA9PSByb290O1xyXG4gICAgICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICAgICAgcGFyZW50czogZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgcCA9IFtdO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBwYXJlbnRGb2xkZXIgPSB0aGlzLnNlbGVjdGVkRm9sZGVyO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB3aGlsZSAocGFyZW50Rm9sZGVyICYmIHBhcmVudEZvbGRlci5wYXRoICE9ICcnKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBwLnVuc2hpZnQocGFyZW50Rm9sZGVyKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBhcmVudEZvbGRlciA9IHBhcmVudEZvbGRlci5wYXJlbnQ7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHA7XHJcbiAgICAgICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgICAgICByb290OiBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiByb290O1xyXG4gICAgICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICAgICAgZmlsdGVyZWRNZWRpYUl0ZW1zOiBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBzZWxmID0gdGhpcztcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHNlbGYuc2VsZWN0ZWRNZWRpYXMgPSBbXTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBmaWx0ZXJlZCA9IHNlbGYubWVkaWFJdGVtcy5maWx0ZXIoZnVuY3Rpb24gKGl0ZW0pIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBpdGVtLm5hbWUudG9Mb3dlckNhc2UoKS5pbmRleE9mKHNlbGYubWVkaWFGaWx0ZXIudG9Mb3dlckNhc2UoKSkgPiAtIDE7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgc3dpdGNoIChzZWxmLnNvcnRCeSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSAnc2l6ZSc6XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZmlsdGVyZWQuc29ydChmdW5jdGlvbiAoYSwgYikge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gc2VsZi5zb3J0QXNjID8gYS5zaXplIC0gYi5zaXplIDogYi5zaXplIC0gYS5zaXplO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSAnbWltZSc6XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZmlsdGVyZWQuc29ydChmdW5jdGlvbiAoYSwgYikge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gc2VsZi5zb3J0QXNjID8gYS5taW1lLnRvTG93ZXJDYXNlKCkubG9jYWxlQ29tcGFyZShiLm1pbWUudG9Mb3dlckNhc2UoKSkgOiBiLm1pbWUudG9Mb3dlckNhc2UoKS5sb2NhbGVDb21wYXJlKGEubWltZS50b0xvd2VyQ2FzZSgpKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgJ2xhc3RNb2RpZnknOlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZpbHRlcmVkLnNvcnQoZnVuY3Rpb24gKGEsIGIpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHNlbGYuc29ydEFzYyA/IGEubGFzdE1vZGlmeSAtIGIubGFzdE1vZGlmeSA6IGIubGFzdE1vZGlmeSAtIGEubGFzdE1vZGlmeTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRlZmF1bHQ6XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZmlsdGVyZWQuc29ydChmdW5jdGlvbiAoYSwgYikge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gc2VsZi5zb3J0QXNjID8gYS5uYW1lLnRvTG93ZXJDYXNlKCkubG9jYWxlQ29tcGFyZShiLm5hbWUudG9Mb3dlckNhc2UoKSkgOiBiLm5hbWUudG9Mb3dlckNhc2UoKS5sb2NhbGVDb21wYXJlKGEubmFtZS50b0xvd2VyQ2FzZSgpKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGZpbHRlcmVkO1xyXG4gICAgICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICAgICAgaGlkZGVuQ291bnQ6IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHJlc3VsdCA9IDA7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlc3VsdCA9IHRoaXMubWVkaWFJdGVtcy5sZW5ndGggLSB0aGlzLmZpbHRlcmVkTWVkaWFJdGVtcy5sZW5ndGg7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiByZXN1bHQ7XHJcbiAgICAgICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgICAgICB0aHVtYlNpemU6IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuc21hbGxUaHVtYnMgPyAxMDAgOiAyNDA7XHJcbiAgICAgICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgICAgICBjdXJyZW50UHJlZnM6IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4ge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNtYWxsVGh1bWJzOiB0aGlzLnNtYWxsVGh1bWJzLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNlbGVjdGVkRm9sZGVyOiB0aGlzLnNlbGVjdGVkRm9sZGVyLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGdyaWRWaWV3OiB0aGlzLmdyaWRWaWV3XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBzZXQ6IGZ1bmN0aW9uIChuZXdQcmVmcykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCFuZXdQcmVmcykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnNtYWxsVGh1bWJzID0gbmV3UHJlZnMuc21hbGxUaHVtYnM7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnNlbGVjdGVkRm9sZGVyID0gbmV3UHJlZnMuc2VsZWN0ZWRGb2xkZXI7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmdyaWRWaWV3ID0gbmV3UHJlZnMuZ3JpZFZpZXc7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgd2F0Y2g6IHtcclxuICAgICAgICAgICAgICAgICAgICBjdXJyZW50UHJlZnM6IGZ1bmN0aW9uIChuZXdQcmVmcykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBsb2NhbFN0b3JhZ2Uuc2V0SXRlbSgnbWVkaWFBcHBsaWNhdGlvblByZWZzJywgSlNPTi5zdHJpbmdpZnkobmV3UHJlZnMpKTtcclxuICAgICAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgICAgIHNlbGVjdGVkRm9sZGVyOiBmdW5jdGlvbiAobmV3Rm9sZGVyKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMubWVkaWFGaWx0ZXIgPSAnJztcclxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5zZWxlY3RlZEZvbGRlciA9IG5ld0ZvbGRlcjtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5sb2FkRm9sZGVyKG5ld0ZvbGRlcik7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICBtb3VudGVkOiBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy4kcmVmcy5yb290Rm9sZGVyLnRvZ2dsZSgpO1xyXG4gICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgIG1ldGhvZHM6IHtcclxuICAgICAgICAgICAgICAgICAgICB1cGxvYWRVcmw6IGZ1bmN0aW9uICgpIHtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICghdGhpcy5zZWxlY3RlZEZvbGRlcikge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIG51bGw7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciB1cmxWYWx1ZSA9ICQoJyN1cGxvYWRGaWxlcycpLnZhbCgpO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHVybFZhbHVlICsgKHVybFZhbHVlLmluZGV4T2YoJz8nKSA9PSAtMSA/ICc/JyA6ICcmJykgKyBcInBhdGg9XCIgKyBlbmNvZGVVUklDb21wb25lbnQodGhpcy5zZWxlY3RlZEZvbGRlci5wYXRoKTtcclxuICAgICAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgICAgIHNlbGVjdFJvb3Q6IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5zZWxlY3RlZEZvbGRlciA9IHRoaXMucm9vdDtcclxuICAgICAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgICAgIGxvYWRGb2xkZXI6IGZ1bmN0aW9uIChmb2xkZXIpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5lcnJvcnMgPSBbXTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5zZWxlY3RlZE1lZGlhcyA9IFtdO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgc2VsZiA9IHRoaXM7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBtZWRpYVVybCA9ICQoJyNnZXRNZWRpYUl0ZW1zVXJsJykudmFsKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKGZvbGRlci5wYXRoKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgJC5hamF4KHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHVybDogbWVkaWFVcmwgKyAobWVkaWFVcmwuaW5kZXhPZignPycpID09IC0xID8gJz8nIDogJyYnKSArIFwicGF0aD1cIiArIGVuY29kZVVSSUNvbXBvbmVudChmb2xkZXIucGF0aCksXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBtZXRob2Q6ICdHRVQnLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc3VjY2VzczogZnVuY3Rpb24gKGRhdGEpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkYXRhLmZvckVhY2goZnVuY3Rpb24gKGl0ZW0pIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaXRlbS5vcGVuID0gZmFsc2U7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2VsZi5tZWRpYUl0ZW1zID0gZGF0YTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZWxmLnNlbGVjdGVkTWVkaWFzID0gW107XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2VsZi5zb3J0QnkgPSAnJztcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZWxmLnNvcnRBc2MgPSB0cnVlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVycm9yOiBmdW5jdGlvbiAoZXJyb3IpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZygnZXJyb3IgbG9hZGluZyBmb2xkZXI6JyArIGZvbGRlci5wYXRoKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZWxmLnNlbGVjdFJvb3QoKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgICAgICBzZWxlY3RBbGw6IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5zZWxlY3RlZE1lZGlhcyA9IFtdO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHRoaXMuZmlsdGVyZWRNZWRpYUl0ZW1zLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnNlbGVjdGVkTWVkaWFzLnB1c2godGhpcy5maWx0ZXJlZE1lZGlhSXRlbXNbaV0pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgICAgICB1blNlbGVjdEFsbDogZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnNlbGVjdGVkTWVkaWFzID0gW107XHJcbiAgICAgICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgICAgICBpbnZlcnRTZWxlY3Rpb246IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHRlbXAgPSBbXTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCB0aGlzLmZpbHRlcmVkTWVkaWFJdGVtcy5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMuaXNNZWRpYVNlbGVjdGVkKHRoaXMuZmlsdGVyZWRNZWRpYUl0ZW1zW2ldKSA9PSBmYWxzZSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRlbXAucHVzaCh0aGlzLmZpbHRlcmVkTWVkaWFJdGVtc1tpXSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5zZWxlY3RlZE1lZGlhcyA9IHRlbXA7XHJcbiAgICAgICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgICAgICB0b2dnbGVTZWxlY3Rpb25PZk1lZGlhOiBmdW5jdGlvbiAobWVkaWEpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMuaXNNZWRpYVNlbGVjdGVkKG1lZGlhKSA9PSB0cnVlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnNlbGVjdGVkTWVkaWFzLnNwbGljZSh0aGlzLnNlbGVjdGVkTWVkaWFzLmluZGV4T2YobWVkaWEpLCAxKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuc2VsZWN0ZWRNZWRpYXMucHVzaChtZWRpYSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgICAgIGlzTWVkaWFTZWxlY3RlZDogZnVuY3Rpb24gKG1lZGlhKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciByZXN1bHQgPSB0aGlzLnNlbGVjdGVkTWVkaWFzLnNvbWUoZnVuY3Rpb24gKGVsZW1lbnQsIGluZGV4LCBhcnJheSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGVsZW1lbnQudXJsLnRvTG93ZXJDYXNlKCkgPT09IG1lZGlhLnVybC50b0xvd2VyQ2FzZSgpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHJlc3VsdDtcclxuICAgICAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgICAgIGRlbGV0ZUZvbGRlcjogZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgZm9sZGVyID0gdGhpcy5zZWxlY3RlZEZvbGRlcjtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHNlbGYgPSB0aGlzO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBUaGUgcm9vdCBmb2xkZXIgY2FuJ3QgYmUgZGVsZXRlZFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoZm9sZGVyID09IHRoaXMucm9vdC5tb2RlbCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICBjb25maXJtRGlhbG9nKHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC4uLiQoXCIjZGVsZXRlRm9sZGVyXCIpLmRhdGEoKSwgY2FsbGJhY2s6IGZ1bmN0aW9uIChyZXNwKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHJlc3ApIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJC5hamF4KHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHVybDogJCgnI2RlbGV0ZUZvbGRlclVybCcpLnZhbCgpICsgXCI/cGF0aD1cIiArIGVuY29kZVVSSUNvbXBvbmVudChmb2xkZXIucGF0aCksXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBtZXRob2Q6ICdQT1NUJyxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRhdGE6IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBfX1JlcXVlc3RWZXJpZmljYXRpb25Ub2tlbjogJChcImlucHV0W25hbWU9J19fUmVxdWVzdFZlcmlmaWNhdGlvblRva2VuJ11cIikudmFsKClcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdWNjZXNzOiBmdW5jdGlvbiAoZGF0YSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJ1cy4kZW1pdCgnZGVsZXRlRm9sZGVyJywgZm9sZGVyKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlcnJvcjogZnVuY3Rpb24gKGVycm9yKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc29sZS5lcnJvcihlcnJvci5yZXNwb25zZVRleHQpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICAgICAgY3JlYXRlRm9sZGVyOiBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICQoJyNjcmVhdGVGb2xkZXJNb2RhbC1lcnJvcnMnKS5lbXB0eSgpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgbW9kYWwgPSBib290c3RyYXAuTW9kYWwuZ2V0T3JDcmVhdGVJbnN0YW5jZSgkKCcjY3JlYXRlRm9sZGVyTW9kYWwnKSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIG1vZGFsLnNob3coKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgJCgnI2NyZWF0ZUZvbGRlck1vZGFsIC5tb2RhbC1ib2R5IGlucHV0JykudmFsKCcnKS5mb2N1cygpO1xyXG4gICAgICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICAgICAgcmVuYW1lTWVkaWE6IGZ1bmN0aW9uIChtZWRpYSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAkKCcjcmVuYW1lTWVkaWFNb2RhbC1lcnJvcnMnKS5lbXB0eSgpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgbW9kYWwgPSBib290c3RyYXAuTW9kYWwuZ2V0T3JDcmVhdGVJbnN0YW5jZSgkKCcjcmVuYW1lTWVkaWFNb2RhbCcpKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgbW9kYWwuc2hvdygpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAkKCcjb2xkLWl0ZW0tbmFtZScpLnZhbChtZWRpYS5uYW1lKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgJCgnI3JlbmFtZU1lZGlhTW9kYWwgLm1vZGFsLWJvZHkgaW5wdXQnKS52YWwobWVkaWEubmFtZSkuZm9jdXMoKTtcclxuICAgICAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgICAgIHNlbGVjdEFuZERlbGV0ZU1lZGlhOiBmdW5jdGlvbiAobWVkaWEpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5kZWxldGVNZWRpYSgpO1xyXG4gICAgICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICAgICAgZGVsZXRlTWVkaWFMaXN0OiBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBtZWRpYUxpc3QgPSB0aGlzLnNlbGVjdGVkTWVkaWFzO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgc2VsZiA9IHRoaXM7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAobWVkaWFMaXN0Lmxlbmd0aCA8IDEpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgY29uZmlybURpYWxvZyh7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAuLi4kKFwiI2RlbGV0ZU1lZGlhXCIpLmRhdGEoKSwgY2FsbGJhY2s6IGZ1bmN0aW9uIChyZXNwKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHJlc3ApIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHBhdGhzID0gW107XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgbWVkaWFMaXN0Lmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwYXRocy5wdXNoKG1lZGlhTGlzdFtpXS5tZWRpYVBhdGgpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAkLmFqYXgoe1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdXJsOiAkKCcjZGVsZXRlTWVkaWFMaXN0VXJsJykudmFsKCksXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBtZXRob2Q6ICdQT1NUJyxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRhdGE6IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBfX1JlcXVlc3RWZXJpZmljYXRpb25Ub2tlbjogJChcImlucHV0W25hbWU9J19fUmVxdWVzdFZlcmlmaWNhdGlvblRva2VuJ11cIikudmFsKCksXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcGF0aHM6IHBhdGhzXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc3VjY2VzczogZnVuY3Rpb24gKGRhdGEpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHNlbGYuc2VsZWN0ZWRNZWRpYXMubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGluZGV4ID0gc2VsZi5tZWRpYUl0ZW1zICYmIHNlbGYubWVkaWFJdGVtcy5pbmRleE9mKHNlbGYuc2VsZWN0ZWRNZWRpYXNbaV0pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoaW5kZXggPiAtMSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2VsZi5tZWRpYUl0ZW1zLnNwbGljZShpbmRleCwgMSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBidXMuJGVtaXQoJ21lZGlhRGVsZXRlZCcsIHNlbGYuc2VsZWN0ZWRNZWRpYXNbaV0pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNlbGYuc2VsZWN0ZWRNZWRpYXMgPSBbXTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlcnJvcjogZnVuY3Rpb24gKGVycm9yKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc29sZS5lcnJvcihlcnJvci5yZXNwb25zZVRleHQpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICAgICAgZGVsZXRlTWVkaWFJdGVtOiBmdW5jdGlvbiAobWVkaWEpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHNlbGYgPSB0aGlzO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoIW1lZGlhKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbmZpcm1EaWFsb2coe1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLi4uJChcIiNkZWxldGVNZWRpYVwiKS5kYXRhKCksIGNhbGxiYWNrOiBmdW5jdGlvbiAocmVzcCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChyZXNwKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICQuYWpheCh7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB1cmw6ICQoJyNkZWxldGVNZWRpYVVybCcpLnZhbCgpICsgXCI/cGF0aD1cIiArIGVuY29kZVVSSUNvbXBvbmVudChtZWRpYS5tZWRpYVBhdGgpLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbWV0aG9kOiAnUE9TVCcsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkYXRhOiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgX19SZXF1ZXN0VmVyaWZpY2F0aW9uVG9rZW46ICQoXCJpbnB1dFtuYW1lPSdfX1JlcXVlc3RWZXJpZmljYXRpb25Ub2tlbiddXCIpLnZhbCgpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc3VjY2VzczogZnVuY3Rpb24gKGRhdGEpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgaW5kZXggPSBzZWxmLm1lZGlhSXRlbXMgJiYgc2VsZi5tZWRpYUl0ZW1zLmluZGV4T2YobWVkaWEpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGluZGV4ID4gLTEpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2VsZi5tZWRpYUl0ZW1zLnNwbGljZShpbmRleCwgMSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJ1cy4kZW1pdCgnbWVkaWFEZWxldGVkJywgbWVkaWEpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvL3NlbGYuc2VsZWN0ZWRNZWRpYSA9IG51bGw7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZXJyb3I6IGZ1bmN0aW9uIChlcnJvcikge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoZXJyb3IucmVzcG9uc2VUZXh0KTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgICAgIGhhbmRsZURyYWdTdGFydDogZnVuY3Rpb24gKG1lZGlhLCBlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIGZpcnN0IHBhcnQgb2YgbW92ZSBtZWRpYSB0byBmb2xkZXI6XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIHByZXBhcmUgdGhlIGRhdGEgdGhhdCB3aWxsIGJlIGhhbmRsZWQgYnkgdGhlIGZvbGRlciBjb21wb25lbnQgb24gZHJvcCBldmVudFxyXG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgbWVkaWFOYW1lcyA9IFtdO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnNlbGVjdGVkTWVkaWFzLmZvckVhY2goZnVuY3Rpb24gKGl0ZW0pIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1lZGlhTmFtZXMucHVzaChpdGVtLm5hbWUpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIGluIGNhc2UgdGhlIHVzZXIgZHJhZ3MgYW4gdW5zZWxlY3RlZCBpdGVtLCB3ZSBzZWxlY3QgaXQgZmlyc3RcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMuaXNNZWRpYVNlbGVjdGVkKG1lZGlhKSA9PSBmYWxzZSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbWVkaWFOYW1lcy5wdXNoKG1lZGlhLm5hbWUpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5zZWxlY3RlZE1lZGlhcy5wdXNoKG1lZGlhKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgZS5kYXRhVHJhbnNmZXIuc2V0RGF0YSgnbWVkaWFOYW1lcycsIEpTT04uc3RyaW5naWZ5KG1lZGlhTmFtZXMpKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgZS5kYXRhVHJhbnNmZXIuc2V0RGF0YSgnc291cmNlRm9sZGVyJywgdGhpcy5zZWxlY3RlZEZvbGRlci5wYXRoKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgZS5kYXRhVHJhbnNmZXIuc2V0RHJhZ0ltYWdlKHRoaXMuZHJhZ0Ryb3BUaHVtYm5haWwsIDEwLCAxMCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGUuZGF0YVRyYW5zZmVyLmVmZmVjdEFsbG93ZWQgPSAnbW92ZSc7XHJcbiAgICAgICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgICAgICBoYW5kbGVTY3JvbGxXaGlsZURyYWc6IGZ1bmN0aW9uIChlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChlLmNsaWVudFkgPCAxNTApIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHdpbmRvdy5zY3JvbGxCeSgwLCAtMTApO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoZS5jbGllbnRZID4gd2luZG93LmlubmVySGVpZ2h0IC0gMTAwKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB3aW5kb3cuc2Nyb2xsQnkoMCwgMTApO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgICAgICBjaGFuZ2VTb3J0OiBmdW5jdGlvbiAobmV3U29ydCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy5zb3J0QnkgPT0gbmV3U29ydCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5zb3J0QXNjID0gIXRoaXMuc29ydEFzYztcclxuICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuc29ydEFzYyA9IHRydWU7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnNvcnRCeSA9IG5ld1NvcnQ7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0pO1xyXG5cclxuICAgICAgICAgICAgJCgnI2NyZWF0ZS1mb2xkZXItbmFtZScpLmtleXByZXNzKGZ1bmN0aW9uIChlKSB7XHJcbiAgICAgICAgICAgICAgICB2YXIga2V5ID0gZS53aGljaDtcclxuICAgICAgICAgICAgICAgIGlmIChrZXkgPT0gMTMpIHsgIC8vIHRoZSBlbnRlciBrZXkgY29kZVxyXG4gICAgICAgICAgICAgICAgICAgICQoJyNtb2RhbEZvb3Rlck9rJykuY2xpY2soKTtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0pO1xyXG5cclxuICAgICAgICAgICAgJCgnI21vZGFsRm9vdGVyT2snKS5vbignY2xpY2snLCBmdW5jdGlvbiAoZSkge1xyXG4gICAgICAgICAgICAgICAgdmFyIG5hbWUgPSAkKCcjY3JlYXRlLWZvbGRlci1uYW1lJykudmFsKCk7XHJcblxyXG4gICAgICAgICAgICAgICAgaWYgKG5hbWUgPT09IFwiXCIpIHtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgJC5hamF4KHtcclxuICAgICAgICAgICAgICAgICAgICB1cmw6ICQoJyNjcmVhdGVGb2xkZXJVcmwnKS52YWwoKSArIFwiP3BhdGg9XCIgKyBlbmNvZGVVUklDb21wb25lbnQobWVkaWFBcHAuc2VsZWN0ZWRGb2xkZXIucGF0aCkgKyBcIiZuYW1lPVwiICsgZW5jb2RlVVJJQ29tcG9uZW50KG5hbWUpLFxyXG4gICAgICAgICAgICAgICAgICAgIG1ldGhvZDogJ1BPU1QnLFxyXG4gICAgICAgICAgICAgICAgICAgIGRhdGE6IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgX19SZXF1ZXN0VmVyaWZpY2F0aW9uVG9rZW46ICQoXCJpbnB1dFtuYW1lPSdfX1JlcXVlc3RWZXJpZmljYXRpb25Ub2tlbiddXCIpLnZhbCgpXHJcbiAgICAgICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgICAgICBzdWNjZXNzOiBmdW5jdGlvbiAoZGF0YSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBidXMuJGVtaXQoJ2FkZEZvbGRlcicsIG1lZGlhQXBwLnNlbGVjdGVkRm9sZGVyLCBkYXRhKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIG1vZGFsID0gYm9vdHN0cmFwLk1vZGFsLmdldE9yQ3JlYXRlSW5zdGFuY2UoJCgnI2NyZWF0ZUZvbGRlck1vZGFsJykpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBtb2RhbC5oaWRlKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgICAgICBlcnJvcjogZnVuY3Rpb24gKGVycm9yKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICQoJyNjcmVhdGVGb2xkZXJNb2RhbC1lcnJvcnMnKS5lbXB0eSgpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgZXJyb3JNZXNzYWdlID0gSlNPTi5wYXJzZShlcnJvci5yZXNwb25zZVRleHQpLnZhbHVlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAkKCc8ZGl2IGNsYXNzPVwiYWxlcnQgYWxlcnQtZGFuZ2VyXCIgcm9sZT1cImFsZXJ0XCI+PC9kaXY+JykudGV4dChlcnJvck1lc3NhZ2UpLmFwcGVuZFRvKCQoJyNjcmVhdGVGb2xkZXJNb2RhbC1lcnJvcnMnKSk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIH0pO1xyXG5cclxuICAgICAgICAgICAgJCgnI3JlbmFtZU1lZGlhTW9kYWxGb290ZXJPaycpLm9uKCdjbGljaycsIGZ1bmN0aW9uIChlKSB7XHJcbiAgICAgICAgICAgICAgICB2YXIgbmV3TmFtZSA9ICQoJyNuZXctaXRlbS1uYW1lJykudmFsKCk7XHJcbiAgICAgICAgICAgICAgICB2YXIgb2xkTmFtZSA9ICQoJyNvbGQtaXRlbS1uYW1lJykudmFsKCk7XHJcblxyXG4gICAgICAgICAgICAgICAgaWYgKG5ld05hbWUgPT09IFwiXCIpIHtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgdmFyIGN1cnJlbnRGb2xkZXIgPSBtZWRpYUFwcC5zZWxlY3RlZEZvbGRlci5wYXRoICsgXCIvXCI7XHJcbiAgICAgICAgICAgICAgICBpZiAoY3VycmVudEZvbGRlciA9PT0gXCIvXCIpIHtcclxuICAgICAgICAgICAgICAgICAgICBjdXJyZW50Rm9sZGVyID0gXCJcIjtcclxuICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICB2YXIgbmV3UGF0aCA9IGN1cnJlbnRGb2xkZXIgKyBuZXdOYW1lO1xyXG4gICAgICAgICAgICAgICAgdmFyIG9sZFBhdGggPSBjdXJyZW50Rm9sZGVyICsgb2xkTmFtZTtcclxuXHJcbiAgICAgICAgICAgICAgICBpZiAobmV3UGF0aC50b0xvd2VyQ2FzZSgpID09PSBvbGRQYXRoLnRvTG93ZXJDYXNlKCkpIHtcclxuICAgICAgICAgICAgICAgICAgICB2YXIgbW9kYWwgPSBib290c3RyYXAuTW9kYWwuZ2V0T3JDcmVhdGVJbnN0YW5jZSgkKCcjcmVuYW1lTWVkaWFNb2RhbCcpKTtcclxuICAgICAgICAgICAgICAgICAgICBtb2RhbC5oaWRlKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgICQuYWpheCh7XHJcbiAgICAgICAgICAgICAgICAgICAgdXJsOiAkKCcjcmVuYW1lTWVkaWFVcmwnKS52YWwoKSArIFwiP29sZFBhdGg9XCIgKyBlbmNvZGVVUklDb21wb25lbnQob2xkUGF0aCkgKyBcIiZuZXdQYXRoPVwiICsgZW5jb2RlVVJJQ29tcG9uZW50KG5ld1BhdGgpLFxyXG4gICAgICAgICAgICAgICAgICAgIG1ldGhvZDogJ1BPU1QnLFxyXG4gICAgICAgICAgICAgICAgICAgIGRhdGE6IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgX19SZXF1ZXN0VmVyaWZpY2F0aW9uVG9rZW46ICQoXCJpbnB1dFtuYW1lPSdfX1JlcXVlc3RWZXJpZmljYXRpb25Ub2tlbiddXCIpLnZhbCgpXHJcbiAgICAgICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgICAgICBzdWNjZXNzOiBmdW5jdGlvbiAoZGF0YSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgbW9kYWwgPSBib290c3RyYXAuTW9kYWwuZ2V0T3JDcmVhdGVJbnN0YW5jZSgkKCcjcmVuYW1lTWVkaWFNb2RhbCcpKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgbW9kYWwuaGlkZSgpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBidXMuJGVtaXQoJ21lZGlhUmVuYW1lZCcsIG5ld05hbWUsIG5ld1BhdGgsIG9sZFBhdGgsIGRhdGEubmV3VXJsKTtcclxuICAgICAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgICAgIGVycm9yOiBmdW5jdGlvbiAoZXJyb3IpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgJCgnI3JlbmFtZU1lZGlhTW9kYWwtZXJyb3JzJykuZW1wdHkoKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGVycm9yTWVzc2FnZSA9IEpTT04ucGFyc2UoZXJyb3IucmVzcG9uc2VUZXh0KS52YWx1ZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgJCgnPGRpdiBjbGFzcz1cImFsZXJ0IGFsZXJ0LWRhbmdlclwiIHJvbGU9XCJhbGVydFwiPjwvZGl2PicpLnRleHQoZXJyb3JNZXNzYWdlKS5hcHBlbmRUbygkKCcjcmVuYW1lTWVkaWFNb2RhbC1lcnJvcnMnKSk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIH0pO1xyXG5cclxuICAgICAgICAgICAgaWYgKGRpc3BsYXlNZWRpYUFwcGxpY2F0aW9uKSB7XHJcbiAgICAgICAgICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnbWVkaWFBcHAnKS5zdHlsZS5kaXNwbGF5ID0gXCJcIjtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgJChkb2N1bWVudCkudHJpZ2dlcignbWVkaWFBcHA6cmVhZHknKTtcclxuXHJcbiAgICAgICAgfSxcclxuICAgICAgICBlcnJvcjogZnVuY3Rpb24gKGVycm9yKSB7XHJcbiAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoZXJyb3IucmVzcG9uc2VUZXh0KTtcclxuICAgICAgICB9XHJcbiAgICB9KTtcclxufVxyXG4iLCIkKGRvY3VtZW50KS5vbignbWVkaWFBcHA6cmVhZHknLCBmdW5jdGlvbiAoKSB7XHJcbiAgICB2YXIgY2h1bmtlZEZpbGVVcGxvYWRJZCA9IHJhbmRvbVVVSUQoKTtcclxuXHJcbiAgICAkKCcjZmlsZXVwbG9hZCcpXHJcbiAgICAgICAgLmZpbGV1cGxvYWQoe1xyXG4gICAgICAgICAgICBkcm9wWm9uZTogJCgnI21lZGlhQXBwJyksXHJcbiAgICAgICAgICAgIGxpbWl0Q29uY3VycmVudFVwbG9hZHM6IDIwLFxyXG4gICAgICAgICAgICBkYXRhVHlwZTogJ2pzb24nLFxyXG4gICAgICAgICAgICB1cmw6ICQoJyN1cGxvYWRGaWxlcycpLnZhbCgpLFxyXG4gICAgICAgICAgICBtYXhDaHVua1NpemU6IE51bWJlcigkKCcjbWF4VXBsb2FkQ2h1bmtTaXplJykudmFsKCkgfHwgMCksXHJcbiAgICAgICAgICAgIGZvcm1EYXRhOiBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICB2YXIgYW50aUZvcmdlcnlUb2tlbiA9ICQoXCJpbnB1dFtuYW1lPV9fUmVxdWVzdFZlcmlmaWNhdGlvblRva2VuXVwiKS52YWwoKTtcclxuXHJcbiAgICAgICAgICAgICAgICByZXR1cm4gW1xyXG4gICAgICAgICAgICAgICAgICAgIHsgbmFtZTogJ3BhdGgnLCB2YWx1ZTogbWVkaWFBcHAuc2VsZWN0ZWRGb2xkZXIucGF0aCB9LFxyXG4gICAgICAgICAgICAgICAgICAgIHsgbmFtZTogJ19fUmVxdWVzdFZlcmlmaWNhdGlvblRva2VuJywgdmFsdWU6IGFudGlGb3JnZXJ5VG9rZW4gfSxcclxuICAgICAgICAgICAgICAgICAgICB7IG5hbWU6ICdfX2NodW5rZWRGaWxlVXBsb2FkSWQnLCB2YWx1ZTogY2h1bmtlZEZpbGVVcGxvYWRJZCB9LFxyXG4gICAgICAgICAgICAgICAgXVxyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICBkb25lOiBmdW5jdGlvbiAoZSwgZGF0YSkge1xyXG4gICAgICAgICAgICAgICAgJC5lYWNoKGRhdGEucmVzdWx0LmZpbGVzLCBmdW5jdGlvbiAoaW5kZXgsIGZpbGUpIHtcclxuICAgICAgICAgICAgICAgICAgICBpZiAoIWZpbGUuZXJyb3IpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgbWVkaWFBcHAubWVkaWFJdGVtcy5wdXNoKGZpbGUpXHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KVxyXG4gICAgICAgIC5vbignZmlsZXVwbG9hZGNodW5rYmVmb3Jlc2VuZCcsIChlLCBvcHRpb25zKSA9PiB7XHJcbiAgICAgICAgICAgIGxldCBmaWxlID0gb3B0aW9ucy5maWxlc1swXTtcclxuICAgICAgICAgICAgLy8gSGVyZSB3ZSByZXBsYWNlIHRoZSBibG9iIHdpdGggYSBGaWxlIG9iamVjdCB0byBlbnN1cmUgdGhlIGZpbGUgbmFtZSBhbmQgb3RoZXJzIGFyZSBwcmVzZXJ2ZWQgZm9yIHRoZSBiYWNrZW5kLlxyXG4gICAgICAgICAgICBvcHRpb25zLmJsb2IgPSBuZXcgRmlsZShcclxuICAgICAgICAgICAgICAgIFtvcHRpb25zLmJsb2JdLFxyXG4gICAgICAgICAgICAgICAgZmlsZS5uYW1lLFxyXG4gICAgICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgICAgIHR5cGU6IGZpbGUudHlwZSxcclxuICAgICAgICAgICAgICAgICAgICBsYXN0TW9kaWZpZWQ6IGZpbGUubGFzdE1vZGlmaWVkLFxyXG4gICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfSk7XHJcbn0pO1xyXG5cclxuXHJcbiQoZG9jdW1lbnQpLmJpbmQoJ2RyYWdvdmVyJywgZnVuY3Rpb24gKGUpIHtcclxuICAgIHZhciBkdCA9IGUub3JpZ2luYWxFdmVudC5kYXRhVHJhbnNmZXI7XHJcbiAgICBpZiAoZHQudHlwZXMgJiYgKGR0LnR5cGVzLmluZGV4T2YgPyBkdC50eXBlcy5pbmRleE9mKCdGaWxlcycpICE9IC0xIDogZHQudHlwZXMuY29udGFpbnMoJ0ZpbGVzJykpKSB7XHJcbiAgICAgICAgdmFyIGRyb3Bab25lID0gJCgnI2N1c3RvbWRyb3B6b25lJyksXHJcbiAgICAgICAgICAgIHRpbWVvdXQgPSB3aW5kb3cuZHJvcFpvbmVUaW1lb3V0O1xyXG4gICAgICAgIGlmICh0aW1lb3V0KSB7XHJcbiAgICAgICAgICAgIGNsZWFyVGltZW91dCh0aW1lb3V0KTtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICBkcm9wWm9uZS5hZGRDbGFzcygnaW4nKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgdmFyIGhvdmVyZWREcm9wWm9uZSA9ICQoZS50YXJnZXQpLmNsb3Nlc3QoZHJvcFpvbmUpO1xyXG4gICAgICAgIHdpbmRvdy5kcm9wWm9uZVRpbWVvdXQgPSBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgd2luZG93LmRyb3Bab25lVGltZW91dCA9IG51bGw7XHJcbiAgICAgICAgICAgIGRyb3Bab25lLnJlbW92ZUNsYXNzKCdpbicpO1xyXG4gICAgICAgIH0sIDEwMCk7XHJcbiAgICB9XHJcbn0pO1xyXG4iLCIvLyA8Zm9sZGVyPiBjb21wb25lbnRcclxuVnVlLmNvbXBvbmVudCgnZm9sZGVyJywge1xyXG4gICAgdGVtcGxhdGU6IGBcclxuICAgICAgICA8bGkgOmNsYXNzPVwie3NlbGVjdGVkOiBpc1NlbGVjdGVkfVwiIFxyXG4gICAgICAgICAgICAgICAgdi1vbjpkcmFnbGVhdmUucHJldmVudCA9IFwiaGFuZGxlRHJhZ0xlYXZlKCRldmVudCk7XCIgXHJcbiAgICAgICAgICAgICAgICB2LW9uOmRyYWdvdmVyLnByZXZlbnQuc3RvcD1cImhhbmRsZURyYWdPdmVyKCRldmVudCk7XCIgXHJcbiAgICAgICAgICAgICAgICB2LW9uOmRyb3AucHJldmVudC5zdG9wID0gXCJtb3ZlTWVkaWFUb0ZvbGRlcihtb2RlbCwgJGV2ZW50KVwiID5cclxuICAgICAgICAgICAgPGRpdiA6Y2xhc3M9XCJ7Zm9sZGVyaG92ZXJlZDogaXNIb3ZlcmVkICwgdHJlZXJvb3Q6IGxldmVsID09IDF9XCIgPlxyXG4gICAgICAgICAgICAgICAgPGEgaHJlZj1cImphdmFzY3JpcHQ6O1wiIDpzdHlsZT1cInsgcGFkZGluZyR7ZG9jdW1lbnQuZGlyID09IFwibHRyXCIgPyBcIkxlZnRcIiA6IFwiUmlnaHRcIn06cGFkZGluZyArICdweCcgfVwiIHYtb246Y2xpY2s9XCJzZWxlY3RcIiAgZHJhZ2dhYmxlPVwiZmFsc2VcIiBjbGFzcz1cImZvbGRlci1tZW51LWl0ZW1cIj5cclxuICAgICAgICAgICAgICAgICAgPHNwYW4gdi1vbjpjbGljay5zdG9wPVwidG9nZ2xlXCIgY2xhc3M9XCJleHBhbmRcIiA6Y2xhc3M9XCJ7b3BlbmVkOiBvcGVuLCBjbG9zZWQ6ICFvcGVuLCBlbXB0eTogZW1wdHl9XCI+PGkgdi1pZj1cIm9wZW5cIiBjbGFzcz1cImZhLXNvbGlkIGZhLWNoZXZyb24tJHtkb2N1bWVudC5kaXIgPT0gXCJsdHJcIiA/IFwicmlnaHRcIiA6IFwibGVmdFwifVwiPjwvaT48L3NwYW4+IFxyXG4gICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwiZm9sZGVyLW5hbWUgbXMtMlwiPnt7bW9kZWwubmFtZX19PC9kaXY+XHJcbiAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cImJ0bi1ncm91cCBmb2xkZXItYWN0aW9uc1wiID5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxhIHYtY2xvYWsgaHJlZj1cImphdmFzY3JpcHQ6O1wiIGNsYXNzPVwiYnRuIGJ0bi1zbVwiIHYtb246Y2xpY2s9XCJjcmVhdGVGb2xkZXJcIiB2LWlmPVwiaXNTZWxlY3RlZCB8fCBpc1Jvb3RcIj48aSBjbGFzcz1cImZhLXNvbGlkIGZhLXBsdXNcIiBhcmlhLWhpZGRlbj1cInRydWVcIj48L2k+PC9hPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPGEgdi1jbG9hayBocmVmPVwiamF2YXNjcmlwdDo7XCIgY2xhc3M9XCJidG4gYnRuLXNtXCIgdi1vbjpjbGljaz1cImRlbGV0ZUZvbGRlclwiIHYtaWY9XCJpc1NlbGVjdGVkICYmICFpc1Jvb3RcIj48aSBjbGFzcz1cImZhLXNvbGlkIGZhLXRyYXNoXCIgYXJpYS1oaWRkZW49XCJ0cnVlXCI+PC9pPjwvYT5cclxuICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICAgICAgIDwvYT5cclxuICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICAgIDxvbCB2LXNob3c9XCJvcGVuXCI+XHJcbiAgICAgICAgICAgICAgICA8Zm9sZGVyIHYtZm9yPVwiZm9sZGVyIGluIGNoaWxkcmVuXCJcclxuICAgICAgICAgICAgICAgICAgICAgICAgOmtleT1cImZvbGRlci5wYXRoXCJcclxuICAgICAgICAgICAgICAgICAgICAgICAgOm1vZGVsPVwiZm9sZGVyXCJcclxuICAgICAgICAgICAgICAgICAgICAgICAgOnNlbGVjdGVkLWluLW1lZGlhLWFwcD1cInNlbGVjdGVkSW5NZWRpYUFwcFwiXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIDpsZXZlbD1cImxldmVsICsgMVwiPlxyXG4gICAgICAgICAgICAgICAgPC9mb2xkZXI+XHJcbiAgICAgICAgICAgIDwvb2w+XHJcbiAgICAgICAgPC9saT5cclxuICAgICAgICBgLFxyXG4gICAgcHJvcHM6IHtcclxuICAgICAgICBtb2RlbDogT2JqZWN0LFxyXG4gICAgICAgIHNlbGVjdGVkSW5NZWRpYUFwcDogT2JqZWN0LFxyXG4gICAgICAgIGxldmVsOiBOdW1iZXJcclxuICAgIH0sXHJcbiAgICBkYXRhOiBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgcmV0dXJuIHtcclxuICAgICAgICAgICAgb3BlbjogZmFsc2UsXHJcbiAgICAgICAgICAgIGNoaWxkcmVuOiBudWxsLCAvLyBub3QgaW5pdGlhbGl6ZWQgc3RhdGUgKGZvciBsYXp5LWxvYWRpbmcpXHJcbiAgICAgICAgICAgIHBhcmVudDogbnVsbCxcclxuICAgICAgICAgICAgaXNIb3ZlcmVkOiBmYWxzZSxcclxuICAgICAgICAgICAgcGFkZGluZzogMFxyXG4gICAgICAgIH1cclxuICAgIH0sXHJcbiAgICBjb21wdXRlZDoge1xyXG4gICAgICAgIGVtcHR5OiBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIHJldHVybiAhdGhpcy5jaGlsZHJlbiB8fCB0aGlzLmNoaWxkcmVuLmxlbmd0aCA9PSAwO1xyXG4gICAgICAgIH0sXHJcbiAgICAgICAgaXNTZWxlY3RlZDogZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICByZXR1cm4gKHRoaXMuc2VsZWN0ZWRJbk1lZGlhQXBwLm5hbWUgPT0gdGhpcy5tb2RlbC5uYW1lKSAmJiAodGhpcy5zZWxlY3RlZEluTWVkaWFBcHAucGF0aCA9PSB0aGlzLm1vZGVsLnBhdGgpO1xyXG4gICAgICAgIH0sXHJcbiAgICAgICAgaXNSb290OiBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIHJldHVybiB0aGlzLm1vZGVsLnBhdGggPT09ICcnO1xyXG4gICAgICAgIH1cclxuICAgIH0sXHJcbiAgICBtb3VudGVkOiBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgaWYgKCh0aGlzLmlzUm9vdCA9PSBmYWxzZSkgJiYgKHRoaXMuaXNBbmNlc3Rvck9mU2VsZWN0ZWRGb2xkZXIoKSkpe1xyXG4gICAgICAgICAgICB0aGlzLnRvZ2dsZSgpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgdGhpcy5wYWRkaW5nID0gdGhpcy5sZXZlbCA8IDMgPyAgMTYgOiAxNiArICh0aGlzLmxldmVsICogOCk7XHJcbiAgICB9LFxyXG4gICAgY3JlYXRlZDogZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIHZhciBzZWxmID0gdGhpcztcclxuICAgICAgICBidXMuJG9uKCdkZWxldGVGb2xkZXInLCBmdW5jdGlvbiAoZm9sZGVyKSB7XHJcbiAgICAgICAgICAgIGlmIChzZWxmLmNoaWxkcmVuKSB7XHJcbiAgICAgICAgICAgICAgICB2YXIgaW5kZXggPSBzZWxmLmNoaWxkcmVuICYmIHNlbGYuY2hpbGRyZW4uaW5kZXhPZihmb2xkZXIpXHJcbiAgICAgICAgICAgICAgICBpZiAoaW5kZXggPiAtMSkge1xyXG4gICAgICAgICAgICAgICAgICAgIHNlbGYuY2hpbGRyZW4uc3BsaWNlKGluZGV4LCAxKVxyXG4gICAgICAgICAgICAgICAgICAgIGJ1cy4kZW1pdCgnZm9sZGVyRGVsZXRlZCcpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIGJ1cy4kb24oJ2FkZEZvbGRlcicsIGZ1bmN0aW9uICh0YXJnZXQsIGZvbGRlcikge1xyXG4gICAgICAgICAgICBpZiAoc2VsZi5tb2RlbCA9PSB0YXJnZXQpIHtcclxuICAgICAgICAgICAgICAgIGlmIChzZWxmLmNoaWxkcmVuICE9PSBudWxsKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgc2VsZi5jaGlsZHJlbi5wdXNoKGZvbGRlcik7XHJcbiAgICAgICAgICAgICAgICB9ICAgICAgICAgICAgICAgIFxyXG4gICAgICAgICAgICAgICAgZm9sZGVyLnBhcmVudCA9IHNlbGYubW9kZWw7XHJcbiAgICAgICAgICAgICAgICBidXMuJGVtaXQoJ2ZvbGRlckFkZGVkJywgZm9sZGVyKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pO1xyXG4gICAgfSxcclxuICAgIG1ldGhvZHM6IHtcclxuICAgICAgICBpc0FuY2VzdG9yT2ZTZWxlY3RlZEZvbGRlcjogZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICBwYXJlbnRGb2xkZXIgPSBtZWRpYUFwcC5zZWxlY3RlZEZvbGRlcjtcclxuICAgICAgICAgICAgd2hpbGUgKHBhcmVudEZvbGRlcikge1xyXG4gICAgICAgICAgICAgICAgaWYgKHBhcmVudEZvbGRlci5wYXRoID09IHRoaXMubW9kZWwucGF0aCkge1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB0cnVlO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBwYXJlbnRGb2xkZXIgPSBwYXJlbnRGb2xkZXIucGFyZW50O1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICAgICAgfSxcclxuICAgICAgICB0b2dnbGU6IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgdGhpcy5vcGVuID0gIXRoaXMub3BlbjtcclxuICAgICAgICAgICAgaWYgKHRoaXMub3BlbiAmJiAhdGhpcy5jaGlsZHJlbikge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5sb2FkQ2hpbGRyZW4oKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0sXHJcbiAgICAgICAgc2VsZWN0OiBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIGJ1cy4kZW1pdCgnZm9sZGVyU2VsZWN0ZWQnLCB0aGlzLm1vZGVsKTtcclxuICAgICAgICAgICAgdGhpcy5sb2FkQ2hpbGRyZW4oKTtcclxuICAgICAgICB9LFxyXG4gICAgICAgIGNyZWF0ZUZvbGRlcjogZnVuY3Rpb24gKCkgeyAgICAgICAgICAgXHJcbiAgICAgICAgICAgIGJ1cy4kZW1pdCgnY3JlYXRlRm9sZGVyUmVxdWVzdGVkJyk7XHJcbiAgICAgICAgfSxcclxuICAgICAgICBkZWxldGVGb2xkZXI6IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgYnVzLiRlbWl0KCdkZWxldGVGb2xkZXJSZXF1ZXN0ZWQnKTtcclxuICAgICAgICB9LFxyXG4gICAgICAgIGxvYWRDaGlsZHJlbjogZnVuY3Rpb24gKCkgeyAgICAgICAgICAgIFxyXG4gICAgICAgICAgICB2YXIgc2VsZiA9IHRoaXM7XHJcbiAgICAgICAgICAgIGlmICh0aGlzLm9wZW4gPT0gZmFsc2UpIHtcclxuICAgICAgICAgICAgICAgIHRoaXMub3BlbiA9IHRydWU7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgJC5hamF4KHtcclxuICAgICAgICAgICAgICAgIHVybDogJCgnI2dldEZvbGRlcnNVcmwnKS52YWwoKSArIFwiP3BhdGg9XCIgKyBlbmNvZGVVUklDb21wb25lbnQoc2VsZi5tb2RlbC5wYXRoKSxcclxuICAgICAgICAgICAgICAgIG1ldGhvZDogJ0dFVCcsXHJcbiAgICAgICAgICAgICAgICBzdWNjZXNzOiBmdW5jdGlvbiAoZGF0YSkge1xyXG4gICAgICAgICAgICAgICAgICAgIHNlbGYuY2hpbGRyZW4gPSBkYXRhO1xyXG4gICAgICAgICAgICAgICAgICAgIHNlbGYuY2hpbGRyZW4uZm9yRWFjaChmdW5jdGlvbiAoYykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBjLnBhcmVudCA9IHNlbGYubW9kZWw7XHJcbiAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgZXJyb3I6IGZ1bmN0aW9uIChlcnJvcikge1xyXG4gICAgICAgICAgICAgICAgICAgIGVtdHB5ID0gZmFsc2U7XHJcbiAgICAgICAgICAgICAgICAgICAgY29uc29sZS5lcnJvcihlcnJvci5yZXNwb25zZVRleHQpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9LFxyXG4gICAgICAgIGhhbmRsZURyYWdPdmVyOiBmdW5jdGlvbiAoZSkge1xyXG4gICAgICAgICAgICB0aGlzLmlzSG92ZXJlZCA9IHRydWU7XHJcbiAgICAgICAgfSxcclxuICAgICAgICBoYW5kbGVEcmFnTGVhdmU6IGZ1bmN0aW9uIChlKSB7XHJcbiAgICAgICAgICAgIHRoaXMuaXNIb3ZlcmVkID0gZmFsc2U7ICAgICAgICAgICAgXHJcbiAgICAgICAgfSxcclxuICAgICAgICBtb3ZlTWVkaWFUb0ZvbGRlcjogZnVuY3Rpb24gKGZvbGRlciwgZSkge1xyXG5cclxuICAgICAgICAgICAgdmFyIHNlbGYgPSB0aGlzO1xyXG4gICAgICAgICAgICBzZWxmLmlzSG92ZXJlZCA9IGZhbHNlO1xyXG5cclxuICAgICAgICAgICAgdmFyIG1lZGlhTmFtZXMgPSBKU09OLnBhcnNlKGUuZGF0YVRyYW5zZmVyLmdldERhdGEoJ21lZGlhTmFtZXMnKSk7IFxyXG5cclxuICAgICAgICAgICAgaWYgKG1lZGlhTmFtZXMubGVuZ3RoIDwgMSkge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICB2YXIgc291cmNlRm9sZGVyID0gZS5kYXRhVHJhbnNmZXIuZ2V0RGF0YSgnc291cmNlRm9sZGVyJyk7XHJcbiAgICAgICAgICAgIHZhciB0YXJnZXRGb2xkZXIgPSBmb2xkZXIucGF0aDtcclxuXHJcbiAgICAgICAgICAgIGlmIChzb3VyY2VGb2xkZXIgPT09ICcnKSB7XHJcbiAgICAgICAgICAgICAgICBzb3VyY2VGb2xkZXIgPSAncm9vdCc7XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIGlmICh0YXJnZXRGb2xkZXIgPT09ICcnKSB7XHJcbiAgICAgICAgICAgICAgICB0YXJnZXRGb2xkZXIgPSAncm9vdCc7XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIGlmIChzb3VyY2VGb2xkZXIgPT09IHRhcmdldEZvbGRlcikge1xyXG4gICAgICAgICAgICAgICAgYWxlcnQoJCgnI3NhbWVGb2xkZXJNZXNzYWdlJykudmFsKCkpO1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICBjb25maXJtRGlhbG9nKHsuLi4kKFwiI21vdmVNZWRpYVwiKS5kYXRhKCksIGNhbGxiYWNrOiBmdW5jdGlvbiAocmVzcCkge1xyXG4gICAgICAgICAgICAgICAgaWYgKHJlc3ApIHtcclxuICAgICAgICAgICAgICAgICAgICAkLmFqYXgoe1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB1cmw6ICQoJyNtb3ZlTWVkaWFMaXN0VXJsJykudmFsKCksXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIG1ldGhvZDogJ1BPU1QnLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBkYXRhOiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBfX1JlcXVlc3RWZXJpZmljYXRpb25Ub2tlbjogJChcImlucHV0W25hbWU9J19fUmVxdWVzdFZlcmlmaWNhdGlvblRva2VuJ11cIikudmFsKCksXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBtZWRpYU5hbWVzOiBtZWRpYU5hbWVzLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc291cmNlRm9sZGVyOiBzb3VyY2VGb2xkZXIsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0YXJnZXRGb2xkZXI6IHRhcmdldEZvbGRlclxyXG4gICAgICAgICAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBzdWNjZXNzOiBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBidXMuJGVtaXQoJ21lZGlhTGlzdE1vdmVkJyk7IC8vIE1lZGlhQXBwIHdpbGwgbGlzdGVuIHRvIHRoaXMsIGFuZCB0aGVuIGl0IHdpbGwgcmVsb2FkIHBhZ2Ugc28gdGhlIG1vdmVkIG1lZGlhcyB3b24ndCBiZSB0aGVyZSBhbnltb3JlXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGVycm9yOiBmdW5jdGlvbiAoZXJyb3IpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoZXJyb3IucmVzcG9uc2VUZXh0KTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJ1cy4kZW1pdCgnbWVkaWFMaXN0TW92ZWQnLCBlcnJvci5yZXNwb25zZVRleHQpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH19KTtcclxuICAgICAgICB9XHJcblxyXG4gICAgfVxyXG59KTtcclxuIiwiLy8gaHR0cHM6Ly9naXRodWIuY29tL3NwYXRpZS9mb250LWF3ZXNvbWUtZmlsZXR5cGVzXHJcblxyXG5jb25zdCBmYUljb25zID0ge1xyXG4gICAgaW1hZ2U6ICdmYS1yZWd1bGFyIGZhLWltYWdlJyxcclxuICAgIHBkZjogJ2ZhLXJlZ3VsYXIgZmEtZmlsZS1wZGYnLFxyXG4gICAgd29yZDogJ2ZhLXJlZ3VsYXIgZmEtZmlsZS13b3JkJyxcclxuICAgIHBvd2VycG9pbnQ6ICdmYS1yZWd1bGFyIGZhLWZpbGUtcG93ZXJwb2ludCcsXHJcbiAgICBleGNlbDogJ2ZhLXJlZ3VsYXIgZmEtZmlsZS1leGNlbCcsXHJcbiAgICBjc3Y6ICdmYS1yZWd1bGFyIGZhLWZpbGUnLFxyXG4gICAgYXVkaW86ICdmYS1yZWd1bGFyIGZhLWZpbGUtYXVkaW8nLFxyXG4gICAgdmlkZW86ICdmYS1yZWd1bGFyIGZhLWZpbGUtdmlkZW8nLFxyXG4gICAgYXJjaGl2ZTogJ2ZhLXJlZ3VsYXIgZmEtZmlsZS16aXBwZXInLFxyXG4gICAgY29kZTogJ2ZhLXJlZ3VsYXIgZmEtZmlsZS1jb2RlJyxcclxuICAgIHRleHQ6ICdmYS1yZWd1bGFyIGZhLWZpbGUtbGluZXMnLFxyXG4gICAgZmlsZTogJ2ZhLXJlZ3VsYXIgZmEtZmlsZSdcclxufTtcclxuXHJcbmNvbnN0IGZhVGh1bWJuYWlscyA9IHtcclxuICAgIGdpZjogZmFJY29ucy5pbWFnZSxcclxuICAgIGpwZWc6IGZhSWNvbnMuaW1hZ2UsXHJcbiAgICBqcGc6IGZhSWNvbnMuaW1hZ2UsXHJcbiAgICBwbmc6IGZhSWNvbnMuaW1hZ2UsXHJcbiAgICBwZGY6IGZhSWNvbnMucGRmLFxyXG4gICAgZG9jOiBmYUljb25zLndvcmQsXHJcbiAgICBkb2N4OiBmYUljb25zLndvcmQsXHJcbiAgICBwcHQ6IGZhSWNvbnMucG93ZXJwb2ludCxcclxuICAgIHBwdHg6IGZhSWNvbnMucG93ZXJwb2ludCxcclxuICAgIHhsczogZmFJY29ucy5leGNlbCxcclxuICAgIHhsc3g6IGZhSWNvbnMuZXhjZWwsXHJcbiAgICBjc3Y6IGZhSWNvbnMuY3N2LFxyXG4gICAgYWFjOiBmYUljb25zLmF1ZGlvLFxyXG4gICAgbXAzOiBmYUljb25zLmF1ZGlvLFxyXG4gICAgb2dnOiBmYUljb25zLmF1ZGlvLFxyXG4gICAgYXZpOiBmYUljb25zLnZpZGVvLFxyXG4gICAgZmx2OiBmYUljb25zLnZpZGVvLFxyXG4gICAgbWt2OiBmYUljb25zLnZpZGVvLFxyXG4gICAgbXA0OiBmYUljb25zLnZpZGVvLFxyXG4gICAgd2VibTogZmFJY29ucy52aWRlbyxcclxuICAgIGd6OiBmYUljb25zLmFyY2hpdmUsXHJcbiAgICB6aXA6IGZhSWNvbnMuYXJjaGl2ZSxcclxuICAgIGNzczogZmFJY29ucy5jb2RlLFxyXG4gICAgaHRtbDogZmFJY29ucy5jb2RlLFxyXG4gICAganM6IGZhSWNvbnMuY29kZSxcclxuICAgIHR4dDogZmFJY29ucy50ZXh0XHJcbn07XHJcblxyXG5mdW5jdGlvbiBnZXRDbGFzc05hbWVGb3JFeHRlbnNpb24oZXh0ZW5zaW9uKSB7XHJcbiAgICByZXR1cm4gZmFUaHVtYm5haWxzW2V4dGVuc2lvbi50b0xvd2VyQ2FzZSgpXSB8fCBmYUljb25zLmZpbGVcclxufVxyXG5cclxuZnVuY3Rpb24gZ2V0RXh0ZW5zaW9uRm9yRmlsZW5hbWUoZmlsZW5hbWUpIHtcclxuICAgIHJldHVybiBmaWxlbmFtZS5zbGljZSgoZmlsZW5hbWUubGFzdEluZGV4T2YoJy4nKSAtIDEgPj4+IDApICsgMilcclxufVxyXG5cclxuZnVuY3Rpb24gZ2V0Q2xhc3NOYW1lRm9yRmlsZW5hbWUoZmlsZW5hbWUpIHtcclxuICAgIHJldHVybiBnZXRDbGFzc05hbWVGb3JFeHRlbnNpb24oZ2V0RXh0ZW5zaW9uRm9yRmlsZW5hbWUoZmlsZW5hbWUpKVxyXG59XHJcbiIsIi8vIDxtZWRpYS1pdGVtcy1ncmlkPiBjb21wb25lbnRcclxuVnVlLmNvbXBvbmVudCgnbWVkaWEtaXRlbXMtZ3JpZCcsIHtcclxuICAgIHRlbXBsYXRlOiBgXHJcbiAgICAgICAgPG9sIGNsYXNzPVwicm93IG1lZGlhLWl0ZW1zLWdyaWRcIj5cclxuICAgICAgICAgICAgICAgIDxsaSB2LWZvcj1cIm1lZGlhIGluIGZpbHRlcmVkTWVkaWFJdGVtc1wiXHJcbiAgICAgICAgICAgICAgICAgICAgOmtleT1cIm1lZGlhLm5hbWVcIiBcclxuICAgICAgICAgICAgICAgICAgICBjbGFzcz1cIm1lZGlhLWl0ZW0gbWVkaWEtY29udGFpbmVyLW1haW4tbGlzdC1pdGVtIGNhcmQgcC0wXCJcclxuICAgICAgICAgICAgICAgICAgICA6c3R5bGU9XCJ7d2lkdGg6IHRodW1iU2l6ZSArIDIgKyAncHgnfVwiXHJcbiAgICAgICAgICAgICAgICAgICAgOmNsYXNzPVwie3NlbGVjdGVkOiBpc01lZGlhU2VsZWN0ZWQobWVkaWEpfVwiXHJcbiAgICAgICAgICAgICAgICAgICAgdi1vbjpjbGljay5zdG9wPVwidG9nZ2xlU2VsZWN0aW9uT2ZNZWRpYShtZWRpYSlcIlxyXG4gICAgICAgICAgICAgICAgICAgIGRyYWdnYWJsZT1cInRydWVcIiB2LW9uOmRyYWdzdGFydD1cImRyYWdTdGFydChtZWRpYSwgJGV2ZW50KVwiPlxyXG4gICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJ0aHVtYi1jb250YWluZXJcIiA6c3R5bGU9XCJ7aGVpZ2h0OiB0aHVtYlNpemUgKydweCd9XCI+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIDxpbWcgdi1pZj1cIm1lZGlhLm1pbWUuc3RhcnRzV2l0aCgnaW1hZ2UnKVwiXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgOnNyYz1cImJ1aWxkTWVkaWFVcmwobWVkaWEudXJsLCB0aHVtYlNpemUpXCJcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA6ZGF0YS1taW1lPVwibWVkaWEubWltZVwiXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgOnN0eWxlPVwie21heEhlaWdodDogdGh1bWJTaXplICsncHgnLCBtYXhXaWR0aDogdGh1bWJTaXplICsncHgnfVwiIC8+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIDxpIHYtZWxzZSA6Y2xhc3M9XCJnZXRmb250QXdlc29tZUNsYXNzTmFtZUZvckZpbGVOYW1lKG1lZGlhLm5hbWUsIFxcJ2ZhLTV4XFwnKVwiIDpkYXRhLW1pbWU9XCJtZWRpYS5taW1lXCI+PC9pPlxyXG4gICAgICAgICAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cIm1lZGlhLWNvbnRhaW5lci1tYWluLWl0ZW0tdGl0bGUgY2FyZC1ib2R5XCI+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIDxhIGhyZWY9XCJqYXZhc2NyaXB0OjtcIiBjbGFzcz1cImJ0biBidG4tbGlnaHQgYnRuLXNtIGZsb2F0LWVuZCBpbmxpbmUtbWVkaWEtYnV0dG9uIGVkaXQtYnV0dG9uXCIgdi1vbjpjbGljay5zdG9wPVwicmVuYW1lTWVkaWEobWVkaWEpXCI+PGkgY2xhc3M9XCJmYS1zb2xpZCBmYS1lZGl0XCIgYXJpYS1oaWRkZW49XCJ0cnVlXCI+PC9pPjwvYT5cclxuICAgICAgICAgICAgICAgICAgICAgICAgPGEgaHJlZj1cImphdmFzY3JpcHQ6O1wiIGNsYXNzPVwiYnRuIGJ0bi1saWdodCBidG4tc20gZmxvYXQtZW5kIGlubGluZS1tZWRpYS1idXR0b24gZGVsZXRlLWJ1dHRvblwiIHYtb246Y2xpY2suc3RvcD1cImRlbGV0ZU1lZGlhKG1lZGlhKVwiPjxpIGNsYXNzPVwiZmEtc29saWQgZmEtdHJhc2hcIiBhcmlhLWhpZGRlbj1cInRydWVcIj48L2k+PC9hPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICA8YSA6aHJlZj1cIm1lZGlhLnVybFwiIHRhcmdldD1cIl9ibGFua1wiIGNsYXNzPVwiYnRuIGJ0bi1saWdodCBidG4tc20gZmxvYXQtZW5kIGlubGluZS1tZWRpYS1idXR0b24gdmlldy1idXR0b25cIlwiPjxpIGNsYXNzPVwiZmEtc29saWQgZmEtZG93bmxvYWRcIiBhcmlhLWhpZGRlbj1cInRydWVcIj48L2k+PC9hPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICA8c3BhbiBjbGFzcz1cIm1lZGlhLWZpbGVuYW1lIGNhcmQtdGV4dCBzbWFsbFwiIDp0aXRsZT1cIm1lZGlhLm5hbWVcIj57eyBtZWRpYS5uYW1lIH19PC9zcGFuPlxyXG4gICAgICAgICAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICAgICAgIDwvbGk+XHJcbiAgICAgICAgPC9vbD5cclxuICAgICAgICBgLFxyXG4gICAgZGF0YTogZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIHJldHVybiB7XHJcbiAgICAgICAgICAgIFQ6IHt9XHJcbiAgICAgICAgfVxyXG4gICAgfSxcclxuICAgIHByb3BzOiB7XHJcbiAgICAgICAgZmlsdGVyZWRNZWRpYUl0ZW1zOiBBcnJheSxcclxuICAgICAgICBzZWxlY3RlZE1lZGlhczogQXJyYXksXHJcbiAgICAgICAgdGh1bWJTaXplOiBOdW1iZXJcclxuICAgIH0sXHJcbiAgICBjcmVhdGVkOiBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgdmFyIHNlbGYgPSB0aGlzO1xyXG4gICAgICAgIC8vIHJldHJpZXZpbmcgbG9jYWxpemVkIHN0cmluZ3MgZnJvbSB2aWV3XHJcbiAgICAgICAgc2VsZi5ULmVkaXRCdXR0b24gPSAkKCcjdC1lZGl0LWJ1dHRvbicpLnZhbCgpO1xyXG4gICAgICAgIHNlbGYuVC5kZWxldGVCdXR0b24gPSAkKCcjdC1kZWxldGUtYnV0dG9uJykudmFsKCk7XHJcbiAgICB9LFxyXG4gICAgbWV0aG9kczoge1xyXG4gICAgICAgIGlzTWVkaWFTZWxlY3RlZDogZnVuY3Rpb24gKG1lZGlhKSB7XHJcbiAgICAgICAgICAgIHZhciByZXN1bHQgPSB0aGlzLnNlbGVjdGVkTWVkaWFzLnNvbWUoZnVuY3Rpb24gKGVsZW1lbnQsIGluZGV4LCBhcnJheSkge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIGVsZW1lbnQudXJsLnRvTG93ZXJDYXNlKCkgPT09IG1lZGlhLnVybC50b0xvd2VyQ2FzZSgpO1xyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgcmV0dXJuIHJlc3VsdDtcclxuICAgICAgICB9LFxyXG4gICAgICAgIGJ1aWxkTWVkaWFVcmw6IGZ1bmN0aW9uICh1cmwsIHRodW1iU2l6ZSkge1xyXG4gICAgICAgICAgICByZXR1cm4gdXJsICsgKHVybC5pbmRleE9mKCc/JykgPT0gLTEgPyAnPycgOiAnJicpICsgJ3dpZHRoPScgKyB0aHVtYlNpemUgKyAnJmhlaWdodD0nICsgdGh1bWJTaXplO1xyXG4gICAgICAgIH0sXHJcbiAgICAgICAgdG9nZ2xlU2VsZWN0aW9uT2ZNZWRpYTogZnVuY3Rpb24gKG1lZGlhKSB7XHJcbiAgICAgICAgICAgIGJ1cy4kZW1pdCgnbWVkaWFUb2dnbGVSZXF1ZXN0ZWQnLCBtZWRpYSk7XHJcbiAgICAgICAgfSxcclxuICAgICAgICByZW5hbWVNZWRpYTogZnVuY3Rpb24gKG1lZGlhKSB7XHJcbiAgICAgICAgICAgIGJ1cy4kZW1pdCgncmVuYW1lTWVkaWFSZXF1ZXN0ZWQnLCBtZWRpYSk7XHJcbiAgICAgICAgfSxcclxuICAgICAgICBkZWxldGVNZWRpYTogZnVuY3Rpb24gKG1lZGlhKSB7XHJcbiAgICAgICAgICAgIGJ1cy4kZW1pdCgnZGVsZXRlTWVkaWFSZXF1ZXN0ZWQnLCBtZWRpYSk7XHJcbiAgICAgICAgfSxcclxuICAgICAgICBkcmFnU3RhcnQ6IGZ1bmN0aW9uIChtZWRpYSwgZSkge1xyXG4gICAgICAgICAgICBidXMuJGVtaXQoJ21lZGlhRHJhZ1N0YXJ0UmVxdWVzdGVkJywgbWVkaWEsIGUpO1xyXG4gICAgICAgIH0sXHJcbiAgICAgICAgZ2V0Zm9udEF3ZXNvbWVDbGFzc05hbWVGb3JGaWxlTmFtZTpmdW5jdGlvbiBnZXRmb250QXdlc29tZUNsYXNzTmFtZUZvckZpbGVuYW1lKGZpbGVuYW1lLCB0aHVtYnNpemUpe1xyXG4gICAgICAgICAgICByZXR1cm4gZ2V0Q2xhc3NOYW1lRm9yRmlsZW5hbWUoZmlsZW5hbWUpICsgJyAnICsgdGh1bWJzaXplO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxufSk7XHJcbiIsIi8vIDxtZWRpYS1pdGVtcy10YWJsZT4gY29tcG9uZW50XHJcblZ1ZS5jb21wb25lbnQoJ21lZGlhLWl0ZW1zLXRhYmxlJywge1xyXG4gICAgdGVtcGxhdGU6IGBcclxuICAgICAgICA8dGFibGUgY2xhc3M9XCJ0YWJsZSBtZWRpYS1pdGVtcy10YWJsZSBtLTBcIj5cclxuICAgICAgICAgICAgPHRoZWFkPlxyXG4gICAgICAgICAgICAgICAgPHRyIGNsYXNzPVwiaGVhZGVyLXJvd1wiPlxyXG4gICAgICAgICAgICAgICAgICAgIDx0aCBzY29wZT1cImNvbFwiIGNsYXNzPVwidGh1bWJuYWlsLWNvbHVtblwiPnt7IFQuaW1hZ2VIZWFkZXIgfX08L3RoPlxyXG4gICAgICAgICAgICAgICAgICAgIDx0aCBzY29wZT1cImNvbFwiIHYtb246Y2xpY2s9XCJjaGFuZ2VTb3J0KCduYW1lJylcIj5cclxuICAgICAgICAgICAgICAgICAgICAgICB7eyBULm5hbWVIZWFkZXIgfX1cclxuICAgICAgICAgICAgICAgICAgICAgICAgIDxzb3J0LWluZGljYXRvciBjb2xuYW1lPVwibmFtZVwiIDpzZWxlY3RlZGNvbG5hbWU9XCJzb3J0QnlcIiA6YXNjPVwic29ydEFzY1wiPjwvc29ydC1pbmRpY2F0b3I+XHJcbiAgICAgICAgICAgICAgICAgICAgPC90aD5cclxuICAgICAgICAgICAgICAgICAgICA8dGggc2NvcGU9XCJjb2xcIiB2LW9uOmNsaWNrPVwiY2hhbmdlU29ydCgnbGFzdE1vZGlmeScpXCI+IFxyXG4gICAgICAgICAgICAgICAgICAgICAgIHt7IFQubGFzdE1vZGlmeUhlYWRlciB9fSBcclxuICAgICAgICAgICAgICAgICAgICAgICAgIDxzb3J0LWluZGljYXRvciBjb2xuYW1lPVwibGFzdE1vZGlmeVwiIDpzZWxlY3RlZGNvbG5hbWU9XCJzb3J0QnlcIiA6YXNjPVwic29ydEFzY1wiPjwvc29ydC1pbmRpY2F0b3I+IFxyXG4gICAgICAgICAgICAgICAgICAgIDwvdGg+IFxyXG4gICAgICAgICAgICAgICAgICAgIDx0aCBzY29wZT1cImNvbFwiIHYtb246Y2xpY2s9XCJjaGFuZ2VTb3J0KCdzaXplJylcIj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgPHNwYW4gY2xhc3M9XCJvcHRpb25hbC1jb2xcIj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHt7IFQuc2l6ZUhlYWRlciB9fVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgPHNvcnQtaW5kaWNhdG9yIGNvbG5hbWU9XCJzaXplXCIgOnNlbGVjdGVkY29sbmFtZT1cInNvcnRCeVwiIDphc2M9XCJzb3J0QXNjXCI+PC9zb3J0LWluZGljYXRvcj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgPC9zcGFuPlxyXG4gICAgICAgICAgICAgICAgICAgIDwvdGg+XHJcbiAgICAgICAgICAgICAgICAgICAgPHRoIHNjb3BlPVwiY29sXCIgdi1vbjpjbGljaz1cImNoYW5nZVNvcnQoJ21pbWUnKVwiPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICA8c3BhbiBjbGFzcz1cIm9wdGlvbmFsLWNvbFwiPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICB7eyBULnR5cGVIZWFkZXIgfX1cclxuICAgICAgICAgICAgICAgICAgICAgICAgIDxzb3J0LWluZGljYXRvciBjb2xuYW1lPVwibWltZVwiIDpzZWxlY3RlZGNvbG5hbWU9XCJzb3J0QnlcIiA6YXNjPVwic29ydEFzY1wiPjwvc29ydC1pbmRpY2F0b3I+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIDwvc3Bhbj5cclxuICAgICAgICAgICAgICAgICAgICA8L3RoPlxyXG4gICAgICAgICAgICAgICAgPC90cj5cclxuICAgICAgICAgICAgPC90aGVhZD5cclxuICAgICAgICAgICAgPHRib2R5PlxyXG4gICAgICAgICAgICAgICAgICAgIDx0ciB2LWZvcj1cIm1lZGlhIGluIGZpbHRlcmVkTWVkaWFJdGVtc1wiXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgY2xhc3M9XCJtZWRpYS1pdGVtXCJcclxuICAgICAgICAgICAgICAgICAgICAgICAgICA6Y2xhc3M9XCJ7c2VsZWN0ZWQ6IGlzTWVkaWFTZWxlY3RlZChtZWRpYSl9XCJcclxuICAgICAgICAgICAgICAgICAgICAgICAgICB2LW9uOmNsaWNrLnN0b3A9XCJ0b2dnbGVTZWxlY3Rpb25PZk1lZGlhKG1lZGlhKVwiXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgZHJhZ2dhYmxlPVwidHJ1ZVwiIHYtb246ZHJhZ3N0YXJ0PVwiZHJhZ1N0YXJ0KG1lZGlhLCAkZXZlbnQpXCJcclxuICAgICAgICAgICAgICAgICAgICAgICAgICA6a2V5PVwibWVkaWEubmFtZVwiPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgIDx0ZCBjbGFzcz1cInRodW1ibmFpbC1jb2x1bW5cIj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwiaW1nLXdyYXBwZXJcIj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGltZyB2LWlmPVwibWVkaWEubWltZS5zdGFydHNXaXRoKCdpbWFnZScpXCIgZHJhZ2dhYmxlPVwiZmFsc2VcIiA6c3JjPVwiYnVpbGRNZWRpYVVybChtZWRpYS51cmwsIHRodW1iU2l6ZSlcIiAvPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8aSB2LWVsc2UgOmNsYXNzPVwiZ2V0Zm9udEF3ZXNvbWVDbGFzc05hbWVGb3JGaWxlTmFtZShtZWRpYS5uYW1lLCBcXCdmYS00eFxcJylcIiA6ZGF0YS1taW1lPVwibWVkaWEubWltZVwiPjwvaT5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvdGQ+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8dGQ+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cIm1lZGlhLW5hbWUtY2VsbFwiPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzPVwiYnJlYWstd29yZFwiPiB7eyBtZWRpYS5uYW1lIH19IDwvc3Bhbj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cImJ1dHRvbnMtY29udGFpbmVyXCI+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8YSBocmVmPVwiamF2YXNjcmlwdDo7XCIgY2xhc3M9XCJidG4gYnRuLWxpbmsgYnRuLXNtIG1lLTEgZWRpdC1idXR0b25cIiB2LW9uOmNsaWNrLnN0b3A9XCJyZW5hbWVNZWRpYShtZWRpYSlcIj4ge3sgVC5lZGl0QnV0dG9uIH19IDwvYSA+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8YSBocmVmPVwiamF2YXNjcmlwdDo7XCIgY2xhc3M9XCJidG4gYnRuLWxpbmsgYnRuLXNtIGRlbGV0ZS1idXR0b25cIiB2LW9uOmNsaWNrLnN0b3A9XCJkZWxldGVNZWRpYShtZWRpYSlcIj4ge3sgVC5kZWxldGVCdXR0b24gfX0gPC9hPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGEgOmhyZWY9XCJtZWRpYS51cmxcIiB0YXJnZXQ9XCJfYmxhbmtcIiBjbGFzcz1cImJ0biBidG4tbGluayBidG4tc20gdmlldy1idXR0b25cIj4ge3sgVC52aWV3QnV0dG9uIH19IDwvYT5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L3RkPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPHRkPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJ0ZXh0LWNvbFwiPiB7eyBwcmludERhdGVUaW1lKG1lZGlhLmxhc3RNb2RpZnkpIH19IDwvZGl2PlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPC90ZD5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDx0ZD5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwidGV4dC1jb2wgb3B0aW9uYWwtY29sXCI+IHt7IGlzTmFOKG1lZGlhLnNpemUpPyAwIDogTWF0aC5yb3VuZChtZWRpYS5zaXplIC8gMTAyNCkgfX0gS0I8L2Rpdj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvdGQ+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8dGQ+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cInRleHQtY29sIG9wdGlvbmFsLWNvbFwiPnt7IG1lZGlhLm1pbWUgfX08L2Rpdj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvdGQ+XHJcbiAgICAgICAgICAgICAgICAgICA8L3RyPlxyXG4gICAgICAgICAgICA8L3Rib2R5PlxyXG4gICAgICAgIDwvdGFibGU+XHJcbiAgICAgICAgYCxcclxuICAgIGRhdGE6IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICByZXR1cm4ge1xyXG4gICAgICAgICAgICBUOiB7fVxyXG4gICAgICAgIH1cclxuICAgIH0sXHJcbiAgICBwcm9wczoge1xyXG4gICAgICAgIHNvcnRCeTogU3RyaW5nLFxyXG4gICAgICAgIHNvcnRBc2M6IEJvb2xlYW4sXHJcbiAgICAgICAgZmlsdGVyZWRNZWRpYUl0ZW1zOiBBcnJheSxcclxuICAgICAgICBzZWxlY3RlZE1lZGlhczogQXJyYXksXHJcbiAgICAgICAgdGh1bWJTaXplOiBOdW1iZXJcclxuICAgIH0sXHJcbiAgICBjcmVhdGVkOiBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgdmFyIHNlbGYgPSB0aGlzO1xyXG4gICAgICAgIHNlbGYuVC5pbWFnZUhlYWRlciA9ICQoJyN0LWltYWdlLWhlYWRlcicpLnZhbCgpO1xyXG4gICAgICAgIHNlbGYuVC5uYW1lSGVhZGVyID0gJCgnI3QtbmFtZS1oZWFkZXInKS52YWwoKTtcclxuICAgICAgICBzZWxmLlQubGFzdE1vZGlmeUhlYWRlciA9ICQoJyN0LWxhc3RNb2RpZnktaGVhZGVyJykudmFsKCk7XHJcbiAgICAgICAgc2VsZi5ULnNpemVIZWFkZXIgPSAkKCcjdC1zaXplLWhlYWRlcicpLnZhbCgpO1xyXG4gICAgICAgIHNlbGYuVC50eXBlSGVhZGVyID0gJCgnI3QtdHlwZS1oZWFkZXInKS52YWwoKTtcclxuICAgICAgICBzZWxmLlQuZWRpdEJ1dHRvbiA9ICQoJyN0LWVkaXQtYnV0dG9uJykudmFsKCk7XHJcbiAgICAgICAgc2VsZi5ULmRlbGV0ZUJ1dHRvbiA9ICQoJyN0LWRlbGV0ZS1idXR0b24nKS52YWwoKTtcclxuICAgICAgICBzZWxmLlQudmlld0J1dHRvbiA9ICQoJyN0LXZpZXctYnV0dG9uJykudmFsKCk7XHJcbiAgICB9LFxyXG4gICAgbWV0aG9kczoge1xyXG4gICAgICAgIGlzTWVkaWFTZWxlY3RlZDogZnVuY3Rpb24gKG1lZGlhKSB7XHJcbiAgICAgICAgICAgIHZhciByZXN1bHQgPSB0aGlzLnNlbGVjdGVkTWVkaWFzLnNvbWUoZnVuY3Rpb24gKGVsZW1lbnQsIGluZGV4LCBhcnJheSkge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIGVsZW1lbnQudXJsLnRvTG93ZXJDYXNlKCkgPT09IG1lZGlhLnVybC50b0xvd2VyQ2FzZSgpO1xyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgcmV0dXJuIHJlc3VsdDtcclxuICAgICAgICB9LFxyXG4gICAgICAgIGJ1aWxkTWVkaWFVcmw6IGZ1bmN0aW9uICh1cmwsIHRodW1iU2l6ZSkge1xyXG4gICAgICAgICAgICByZXR1cm4gdXJsICsgKHVybC5pbmRleE9mKCc/JykgPT0gLTEgPyAnPycgOiAnJicpICsgJ3dpZHRoPScgKyB0aHVtYlNpemUgKyAnJmhlaWdodD0nICsgdGh1bWJTaXplO1xyXG4gICAgICAgIH0sXHJcbiAgICAgICAgY2hhbmdlU29ydDogZnVuY3Rpb24gKG5ld1NvcnQpIHtcclxuICAgICAgICAgICAgYnVzLiRlbWl0KCdzb3J0Q2hhbmdlUmVxdWVzdGVkJywgbmV3U29ydCk7XHJcbiAgICAgICAgfSxcclxuICAgICAgICB0b2dnbGVTZWxlY3Rpb25PZk1lZGlhOiBmdW5jdGlvbiAobWVkaWEpIHtcclxuICAgICAgICAgICAgYnVzLiRlbWl0KCdtZWRpYVRvZ2dsZVJlcXVlc3RlZCcsIG1lZGlhKTtcclxuICAgICAgICB9LFxyXG4gICAgICAgIHJlbmFtZU1lZGlhOiBmdW5jdGlvbiAobWVkaWEpIHtcclxuICAgICAgICAgICAgYnVzLiRlbWl0KCdyZW5hbWVNZWRpYVJlcXVlc3RlZCcsIG1lZGlhKTsgICAgICAgICAgICBcclxuICAgICAgICB9LFxyXG4gICAgICAgIGRlbGV0ZU1lZGlhOiBmdW5jdGlvbiAobWVkaWEpIHtcclxuICAgICAgICAgICAgYnVzLiRlbWl0KCdkZWxldGVNZWRpYVJlcXVlc3RlZCcsIG1lZGlhKTtcclxuICAgICAgICB9LFxyXG4gICAgICAgIGRyYWdTdGFydDogZnVuY3Rpb24gKG1lZGlhLCBlKSB7XHJcbiAgICAgICAgICAgIGJ1cy4kZW1pdCgnbWVkaWFEcmFnU3RhcnRSZXF1ZXN0ZWQnLCBtZWRpYSwgZSk7XHJcbiAgICAgICAgfSxcclxuICAgICAgICBwcmludERhdGVUaW1lOiBmdW5jdGlvbiAoZGF0ZW1pbGxpcyl7XHJcbiAgICAgICAgICAgIHZhciBkID0gbmV3IERhdGUoZGF0ZW1pbGxpcyk7XHJcbiAgICAgICAgICAgIHJldHVybiBkLnRvTG9jYWxlU3RyaW5nKCk7ICAgICAgICAgICAgXHJcbiAgICAgICAgfSxcclxuICAgICAgICBnZXRmb250QXdlc29tZUNsYXNzTmFtZUZvckZpbGVOYW1lOmZ1bmN0aW9uIGdldGZvbnRBd2Vzb21lQ2xhc3NOYW1lRm9yRmlsZW5hbWUoZmlsZW5hbWUsIHRodW1ic2l6ZSl7XHJcbiAgICAgICAgICAgICByZXR1cm4gICBnZXRDbGFzc05hbWVGb3JGaWxlbmFtZShmaWxlbmFtZSkgKyAnICcgKyB0aHVtYnNpemU7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG59KTtcclxuIiwiLy8gVGhpcyBjb21wb25lbnQgcmVjZWl2ZXMgYSBsaXN0IG9mIGFsbCB0aGUgaXRlbXMsIHVucGFnZWQuXHJcbi8vIEFzIHRoZSB1c2VyIGludGVyYWN0cyB3aXRoIHRoZSBwYWdlciwgaXQgcmFpc2VzIGV2ZW50cyB3aXRoIHRoZSBpdGVtcyBpbiB0aGUgY3VycmVudCBwYWdlLlxyXG4vLyBJdCdzIHRoZSBwYXJlbnQncyByZXNwb25zaWJpbGl0eSB0byBsaXN0ZW4gZm9yIHRoZXNlIGV2ZW50cyBhbmQgZGlzcGxheSB0aGUgcmVjZWl2ZWQgaXRlbXNcclxuLy8gPHBhZ2VyPiBjb21wb25lbnRcclxuVnVlLmNvbXBvbmVudCgncGFnZXInLCB7XHJcbiAgICB0ZW1wbGF0ZTogYFxyXG4gICAgPGRpdj5cclxuICAgICAgICA8bmF2IGlkPVwibWVkaWEtcGFnZXJcIiBjbGFzcz1cImQtZmxleCBqdXN0aWZ5LWNvbnRlbnQtY2VudGVyXCIgYXJpYS1sYWJlbD1cIlBhZ2luYXRpb24gTmF2aWdhdGlvblwiIHJvbGU9XCJuYXZpZ2F0aW9uXCIgOmRhdGEtY29tcHV0ZWQtdHJpZ2dlcj1cIml0ZW1zSW5DdXJyZW50UGFnZS5sZW5ndGhcIj5cclxuICAgICAgICAgICAgPHVsIGNsYXNzPVwicGFnaW5hdGlvbiBwYWdpbmF0aW9uLXNtIG0tMFwiPlxyXG4gICAgICAgICAgICAgICAgPGxpIGNsYXNzPVwicGFnZS1pdGVtIG1lZGlhLWZpcnN0LWJ1dHRvblwiIDpjbGFzcz1cIntkaXNhYmxlZCA6ICFjYW5Eb0ZpcnN0fVwiPlxyXG4gICAgICAgICAgICAgICAgICAgIDxhIGNsYXNzPVwicGFnZS1saW5rXCIgaHJlZj1cIiNcIiA6dGFiaW5kZXg9XCJjYW5Eb0ZpcnN0ID8gMCA6IC0xXCIgdi1vbjpjbGljaz1cImdvRmlyc3RcIj57eyBULnBhZ2VyRmlyc3RCdXR0b24gfX08L2E+XHJcbiAgICAgICAgICAgICAgICA8L2xpPlxyXG4gICAgICAgICAgICAgICAgPGxpIGNsYXNzPVwicGFnZS1pdGVtXCIgOmNsYXNzPVwie2Rpc2FibGVkIDogIWNhbkRvUHJldn1cIj5cclxuICAgICAgICAgICAgICAgICAgICA8YSBjbGFzcz1cInBhZ2UtbGlua1wiIGhyZWY9XCIjXCIgOnRhYmluZGV4PVwiY2FuRG9QcmV2ID8gMCA6IC0xXCIgdi1vbjpjbGljaz1cInByZXZpb3VzXCI+e3sgVC5wYWdlclByZXZpb3VzQnV0dG9uIH19PC9hPlxyXG4gICAgICAgICAgICAgICAgPC9saT5cclxuICAgICAgICAgICAgICAgIDxsaSB2LWlmPVwibGluayAhPT0gLTFcIiBjbGFzcz1cInBhZ2UtaXRlbSBwYWdlLW51bWJlclwiICA6Y2xhc3M9XCJ7YWN0aXZlIDogY3VycmVudCA9PSBsaW5rIC0gMX1cIiB2LWZvcj1cImxpbmsgaW4gcGFnZUxpbmtzXCI+XHJcbiAgICAgICAgICAgICAgICAgICAgPGEgY2xhc3M9XCJwYWdlLWxpbmtcIiBocmVmPVwiI1wiIHYtb246Y2xpY2s9XCJnb1RvKGxpbmsgLSAxKVwiIDphcmlhLWxhYmVsPVwiJ0dvdG8gUGFnZScgKyBsaW5rXCI+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHt7bGlua319XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIDxzcGFuIHYtaWY9XCJjdXJyZW50ID09IGxpbmsgLTFcIiBjbGFzcz1cInZpc3VhbGx5LWhpZGRlblwiPihjdXJyZW50KTwvc3Bhbj5cclxuICAgICAgICAgICAgICAgICAgICA8L2E+XHJcbiAgICAgICAgICAgICAgICA8L2xpPlxyXG4gICAgICAgICAgICAgICAgPGxpIGNsYXNzPVwicGFnZS1pdGVtXCIgOmNsYXNzPVwie2Rpc2FibGVkIDogIWNhbkRvTmV4dH1cIj5cclxuICAgICAgICAgICAgICAgICAgICA8YSBjbGFzcz1cInBhZ2UtbGlua1wiIGhyZWY9XCIjXCIgOnRhYmluZGV4PVwiY2FuRG9OZXh0ID8gMCA6IC0xXCIgdi1vbjpjbGljaz1cIm5leHRcIj57eyBULnBhZ2VyTmV4dEJ1dHRvbiB9fTwvYT5cclxuICAgICAgICAgICAgICAgIDwvbGk+XHJcbiAgICAgICAgICAgICAgICA8bGkgY2xhc3M9XCJwYWdlLWl0ZW0gbWVkaWEtbGFzdC1idXR0b25cIiA6Y2xhc3M9XCJ7ZGlzYWJsZWQgOiAhY2FuRG9MYXN0fVwiPlxyXG4gICAgICAgICAgICAgICAgICAgIDxhIGNsYXNzPVwicGFnZS1saW5rXCIgaHJlZj1cIiNcIiA6dGFiaW5kZXg9XCJjYW5Eb0xhc3QgPyAwIDogLTFcIiB2LW9uOmNsaWNrPVwiZ29MYXN0XCI+e3sgVC5wYWdlckxhc3RCdXR0b24gfX08L2E+XHJcbiAgICAgICAgICAgICAgICA8L2xpPlxyXG4gICAgICAgICAgICAgICAgPGxpIGNsYXNzPVwicGFnZS1pdGVtIG1zLTQgcGFnZS1zaXplLWluZm9cIj5cclxuICAgICAgICAgICAgICAgICAgICA8ZGl2IHN0eWxlPVwiZGlzcGxheTogZmxleDtcIj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgPHNwYW4gY2xhc3M9XCJwYWdlLWxpbmsgZGlzYWJsZWQgdGV4dC1tdXRlZCBwYWdlLXNpemUtbGFiZWxcIj57eyBULnBhZ2VyUGFnZVNpemVMYWJlbCB9fTwvc3Bhbj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgPHNlbGVjdCBpZD1cInBhZ2VTaXplU2VsZWN0XCIgY2xhc3M9XCJwYWdlLWxpbmtcIiB2LW1vZGVsPVwicGFnZVNpemVcIj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxvcHRpb24gdi1mb3I9XCJvcHRpb24gaW4gcGFnZVNpemVPcHRpb25zXCIgdi1iaW5kOnZhbHVlPVwib3B0aW9uXCI+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAge3tvcHRpb259fVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9vcHRpb24+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIDwvc2VsZWN0PlxyXG4gICAgICAgICAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICAgICAgPC9saT5cclxuICAgICAgICAgICAgPC91bD5cclxuICAgICAgICA8L25hdj5cclxuICAgICAgICA8bmF2IGNsYXNzPVwiZC1mbGV4IGp1c3RpZnktY29udGVudC1jZW50ZXJcIj5cclxuICAgICAgICAgICAgPHVsIGNsYXNzPVwicGFnaW5hdGlvbiBwYWdpbmF0aW9uLXNtIG0tMCBtdC0yXCI+XHJcbiAgICAgICAgICAgICAgICA8bGkgY2xhc3M9XCJwYWdlLWl0ZW0gbXMtNCBwYWdlLWluZm9cIj5cclxuICAgICAgICAgICAgICAgICAgICA8c3BhbiBjbGFzcz1cInBhZ2UtbGluayBkaXNhYmxlZCB0ZXh0LW11dGVkIFwiPnt7IFQucGFnZXJQYWdlTGFiZWwgfX0ge3tjdXJyZW50ICsgMX19L3t7dG90YWxQYWdlc319PC9zcGFuPlxyXG4gICAgICAgICAgICAgICAgPC9saT5cclxuICAgICAgICAgICAgICAgIDxsaSBjbGFzcz1cInBhZ2UtaXRlbSBtcy00IHRvdGFsLWluZm9cIj5cclxuICAgICAgICAgICAgICAgICAgICA8c3BhbiBjbGFzcz1cInBhZ2UtbGluayBkaXNhYmxlZCB0ZXh0LW11dGVkIFwiPiB7eyBULnBhZ2VyVG90YWxMYWJlbCB9fSB7e3RvdGFsfX08L3NwYW4+XHJcbiAgICAgICAgICAgICAgICA8L2xpPlxyXG4gICAgICAgICAgICA8L3VsPlxyXG4gICAgICAgIDwvbmF2PlxyXG4gICAgICAgIDwvZGl2PlxyXG4gICAgICAgIGAsXHJcbiAgICBwcm9wczoge1xyXG4gICAgICAgIHNvdXJjZUl0ZW1zOiBBcnJheVxyXG4gICAgfSxcclxuICAgIGRhdGE6IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICByZXR1cm4ge1xyXG4gICAgICAgICAgICBwYWdlU2l6ZTogMTAsXHJcbiAgICAgICAgICAgIHBhZ2VTaXplT3B0aW9uczogWzEwLCAzMCwgNTAsIDEwMF0sXHJcbiAgICAgICAgICAgIGN1cnJlbnQ6IDAsXHJcbiAgICAgICAgICAgIFQ6IHt9XHJcbiAgICAgICAgfTtcclxuICAgIH0sXHJcbiAgICBjcmVhdGVkOiBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgdmFyIHNlbGYgPSB0aGlzO1xyXG5cclxuICAgICAgICAvLyByZXRyaWV2aW5nIGxvY2FsaXplZCBzdHJpbmdzIGZyb20gdmlld1xyXG4gICAgICAgIHNlbGYuVC5wYWdlckZpcnN0QnV0dG9uID0gJCgnI3QtcGFnZXItZmlyc3QtYnV0dG9uJykudmFsKCk7XHJcbiAgICAgICAgc2VsZi5ULnBhZ2VyUHJldmlvdXNCdXR0b24gPSAkKCcjdC1wYWdlci1wcmV2aW91cy1idXR0b24nKS52YWwoKTtcclxuICAgICAgICBzZWxmLlQucGFnZXJOZXh0QnV0dG9uID0gJCgnI3QtcGFnZXItbmV4dC1idXR0b24nKS52YWwoKTtcclxuICAgICAgICBzZWxmLlQucGFnZXJMYXN0QnV0dG9uID0gJCgnI3QtcGFnZXItbGFzdC1idXR0b24nKS52YWwoKTtcclxuICAgICAgICBzZWxmLlQucGFnZXJQYWdlU2l6ZUxhYmVsID0gJCgnI3QtcGFnZXItcGFnZS1zaXplLWxhYmVsJykudmFsKCk7XHJcbiAgICAgICAgc2VsZi5ULnBhZ2VyUGFnZUxhYmVsID0gJCgnI3QtcGFnZXItcGFnZS1sYWJlbCcpLnZhbCgpO1xyXG4gICAgICAgIHNlbGYuVC5wYWdlclRvdGFsTGFiZWwgPSAkKCcjdC1wYWdlci10b3RhbC1sYWJlbCcpLnZhbCgpOyAgICAgICAgXHJcbiAgICB9LFxyXG4gICAgbWV0aG9kczoge1xyXG4gICAgICAgIG5leHQ6IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgdGhpcy5jdXJyZW50ID0gdGhpcy5jdXJyZW50ICsgMTtcclxuICAgICAgICB9LFxyXG4gICAgICAgIHByZXZpb3VzOiBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIHRoaXMuY3VycmVudCA9IHRoaXMuY3VycmVudCAtIDE7XHJcbiAgICAgICAgfSxcclxuICAgICAgICBnb0ZpcnN0OiBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIHRoaXMuY3VycmVudCA9IDA7XHJcbiAgICAgICAgfSxcclxuICAgICAgICBnb0xhc3Q6IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgdGhpcy5jdXJyZW50ID0gdGhpcy50b3RhbFBhZ2VzIC0gMTtcclxuICAgICAgICB9LFxyXG4gICAgICAgIGdvVG86IGZ1bmN0aW9uICh0YXJnZXRQYWdlKSB7XHJcbiAgICAgICAgICAgIHRoaXMuY3VycmVudCA9IHRhcmdldFBhZ2U7XHJcbiAgICAgICAgfVxyXG4gICAgfSxcclxuICAgIGNvbXB1dGVkOiB7XHJcbiAgICAgICAgdG90YWw6IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgcmV0dXJuIHRoaXMuc291cmNlSXRlbXMgPyB0aGlzLnNvdXJjZUl0ZW1zLmxlbmd0aCA6IDA7XHJcbiAgICAgICAgfSxcclxuICAgICAgICB0b3RhbFBhZ2VzOiBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIHZhciBwYWdlcyA9IE1hdGguY2VpbCh0aGlzLnRvdGFsIC8gdGhpcy5wYWdlU2l6ZSk7XHJcbiAgICAgICAgICAgIHJldHVybiBwYWdlcyA+IDAgPyBwYWdlcyA6IDE7XHJcbiAgICAgICAgfSxcclxuICAgICAgICBpc0xhc3RQYWdlOiBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIHJldHVybiB0aGlzLmN1cnJlbnQgKyAxID49IHRoaXMudG90YWxQYWdlcztcclxuICAgICAgICB9LFxyXG4gICAgICAgIGlzRmlyc3RQYWdlOiBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIHJldHVybiB0aGlzLmN1cnJlbnQgPT09IDA7XHJcbiAgICAgICAgfSxcclxuICAgICAgICBjYW5Eb05leHQ6IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgcmV0dXJuICF0aGlzLmlzTGFzdFBhZ2U7XHJcbiAgICAgICAgfSxcclxuICAgICAgICBjYW5Eb1ByZXY6IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgcmV0dXJuICF0aGlzLmlzRmlyc3RQYWdlO1xyXG4gICAgICAgIH0sXHJcbiAgICAgICAgY2FuRG9GaXJzdDogZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICByZXR1cm4gIXRoaXMuaXNGaXJzdFBhZ2U7XHJcbiAgICAgICAgfSxcclxuICAgICAgICBjYW5Eb0xhc3Q6IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgcmV0dXJuICF0aGlzLmlzTGFzdFBhZ2U7XHJcbiAgICAgICAgfSxcclxuICAgICAgICAvLyB0aGlzIGNvbXB1dGVkIGlzIG9ubHkgdG8gaGF2ZSBhIGNlbnRyYWwgcGxhY2Ugd2hlcmUgd2UgZGV0ZWN0IGNoYW5nZXMgYW5kIGxldmVyYWdlIFZ1ZSBKUyByZWFjdGl2aXR5IHRvIHJhaXNlIG91ciBldmVudC5cclxuICAgICAgICAvLyBUaGF0IGV2ZW50IHdpbGwgYmUgaGFuZGxlZCBieSB0aGUgcGFyZW50IG1lZGlhIGFwcCB0byBkaXNwbGF5IHRoZSBpdGVtcyBpbiB0aGUgcGFnZS5cclxuICAgICAgICAvLyB0aGlzIGxvZ2ljIHdpbGwgbm90IHJ1biBpZiB0aGUgY29tcHV0ZWQgcHJvcGVydHkgaXMgbm90IHVzZWQgaW4gdGhlIHRlbXBsYXRlLiBXZSB1c2UgYSBkdW1teSBcImRhdGEtY29tcHV0ZWQtdHJpZ2dlclwiIGF0dHJpYnV0ZSBmb3IgdGhhdC5cclxuICAgICAgICBpdGVtc0luQ3VycmVudFBhZ2U6IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgdmFyIHN0YXJ0ID0gdGhpcy5wYWdlU2l6ZSAqIHRoaXMuY3VycmVudDtcclxuICAgICAgICAgICAgdmFyIGVuZCA9IHN0YXJ0ICsgdGhpcy5wYWdlU2l6ZTtcclxuICAgICAgICAgICAgdmFyIHJlc3VsdCA9IHRoaXMuc291cmNlSXRlbXMuc2xpY2Uoc3RhcnQsIGVuZCk7XHJcbiAgICAgICAgICAgIGJ1cy4kZW1pdCgncGFnZXJFdmVudCcsIHJlc3VsdCk7XHJcbiAgICAgICAgICAgIHJldHVybiByZXN1bHQ7XHJcbiAgICAgICAgfSxcclxuICAgICAgICBwYWdlTGlua3M6IGZ1bmN0aW9uICgpIHtcclxuXHJcbiAgICAgICAgICAgIHZhciBsaW5rcyA9IFtdO1xyXG5cclxuICAgICAgICAgICAgbGlua3MucHVzaCh0aGlzLmN1cnJlbnQgKyAxKTtcclxuXHJcbiAgICAgICAgICAgIC8vIEFkZCAyIGl0ZW1zIGJlZm9yZSBjdXJyZW50XHJcbiAgICAgICAgICAgIHZhciBiZWZvcmVDdXJyZW50ID0gdGhpcy5jdXJyZW50ID4gMCA/IHRoaXMuY3VycmVudCA6IC0xO1xyXG4gICAgICAgICAgICBsaW5rcy51bnNoaWZ0KGJlZm9yZUN1cnJlbnQpO1xyXG5cclxuICAgICAgICAgICAgdmFyIGJlZm9yZUJlZm9yZUN1cnJlbnQgPSB0aGlzLmN1cnJlbnQgPiAxID8gdGhpcy5jdXJyZW50IC0gMSA6IC0xO1xyXG4gICAgICAgICAgICBsaW5rcy51bnNoaWZ0KGJlZm9yZUJlZm9yZUN1cnJlbnQpO1xyXG5cclxuXHJcbiAgICAgICAgICAgIC8vIEFkZCAyIGl0ZW1zIGFmdGVyIGN1cnJlbnRcclxuICAgICAgICAgICAgdmFyIGFmdGVyQ3VycmVudCA9IHRoaXMudG90YWxQYWdlcyAtIHRoaXMuY3VycmVudCA+IDEgPyB0aGlzLmN1cnJlbnQgKyAyIDogLTE7XHJcbiAgICAgICAgICAgIGxpbmtzLnB1c2goYWZ0ZXJDdXJyZW50KTtcclxuXHJcbiAgICAgICAgICAgIHZhciBhZnRlckFmdGVyQ3VycmVudCA9IHRoaXMudG90YWxQYWdlcyAtIHRoaXMuY3VycmVudCA+IDIgPyB0aGlzLmN1cnJlbnQgKyAzIDogLTE7XHJcbiAgICAgICAgICAgIGxpbmtzLnB1c2goYWZ0ZXJBZnRlckN1cnJlbnQpO1xyXG5cclxuICAgICAgICAgICAgcmV0dXJuIGxpbmtzO1xyXG4gICAgICAgIH1cclxuICAgIH0sXHJcbiAgICB3YXRjaDoge1xyXG4gICAgICAgIHNvdXJjZUl0ZW1zOiBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIHRoaXMuY3VycmVudCA9IDA7IC8vIHJlc2V0dGluZyBjdXJyZW50IHBhZ2UgYWZ0ZXIgcmVjZWl2aW5nIGEgbmV3IGxpc3Qgb2YgdW5wYWdlZCBpdGVtc1xyXG4gICAgICAgIH0sXHJcbiAgICAgICAgcGFnZVNpemU6IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgdGhpcy5jdXJyZW50ID0gMDtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbn0pO1xyXG4iLCIvLyA8c29ydC1pbmRpY2F0b3I+IGNvbXBvbmVudFxyXG5WdWUuY29tcG9uZW50KCdzb3J0SW5kaWNhdG9yJywge1xyXG4gICAgdGVtcGxhdGU6IGBcclxuICAgICAgICA8ZGl2IHYtc2hvdz1cImlzQWN0aXZlXCIgY2xhc3M9XCJzb3J0LWluZGljYXRvclwiPlxyXG4gICAgICAgICAgICA8c3BhbiB2LXNob3c9XCJhc2NcIj48aSBjbGFzcz1cInNtYWxsIGZhIGZhLWNoZXZyb24tdXBcIj48L2k+PC9zcGFuPlxyXG4gICAgICAgICAgICA8c3BhbiB2LXNob3c9XCIhYXNjXCI+PGkgY2xhc3M9XCJzbWFsbCBmYSBmYS1jaGV2cm9uLWRvd25cIj48L2k+PC9zcGFuPlxyXG4gICAgICAgIDwvZGl2PlxyXG4gICAgICAgIGAsXHJcbiAgICBwcm9wczoge1xyXG4gICAgICAgIGNvbG5hbWU6IFN0cmluZyxcclxuICAgICAgICBzZWxlY3RlZGNvbG5hbWU6IFN0cmluZyxcclxuICAgICAgICBhc2M6IEJvb2xlYW5cclxuICAgIH0sXHJcbiAgICBjb21wdXRlZDoge1xyXG4gICAgICAgIGlzQWN0aXZlOiBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIHJldHVybiB0aGlzLmNvbG5hbWUudG9Mb3dlckNhc2UoKSA9PSB0aGlzLnNlbGVjdGVkY29sbmFtZS50b0xvd2VyQ2FzZSgpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxufSk7XHJcbiIsIi8vIDx1cGxvYWQ+IGNvbXBvbmVudFxyXG5WdWUuY29tcG9uZW50KCd1cGxvYWQnLCB7XHJcbiAgICB0ZW1wbGF0ZTogJ1xcXHJcbiAgICAgICAgPGRpdiA6Y2xhc3M9XCJ7IFxcJ3VwbG9hZC13YXJuaW5nXFwnIDogbW9kZWwuZXJyb3JNZXNzYWdlIH1cIiBjbGFzcz1cInVwbG9hZCBtLTIgcC0yIHB0LTBcIj4gXFxcclxuICAgICAgICAgICAgPHNwYW4gdi1pZj1cIm1vZGVsLmVycm9yTWVzc2FnZVwiIHYtb246Y2xpY2s9XCJkaXNtaXNzV2FybmluZygpXCIgY2xhc3M9XCJjbG9zZS13YXJuaW5nXCI+PGkgY2xhc3M9XCJmYS1zb2xpZCBmYS10aW1lc1wiIGFyaWEtaGlkZGVuPVwidHJ1ZVwiPjwvaT4gPC9zcGFuPlxcXHJcbiAgICAgICAgICAgIDxwIGNsYXNzPVwidXBsb2FkLW5hbWVcIiA6dGl0bGU9XCJtb2RlbC5lcnJvck1lc3NhZ2VcIj57eyBtb2RlbC5uYW1lIH19PC9wPiBcXFxyXG4gICAgICAgICAgICA8ZGl2PiBcXFxyXG4gICAgICAgICAgICAgICA8c3BhbiB2LXNob3c9XCIhbW9kZWwuZXJyb3JNZXNzYWdlXCIgOnN0eWxlPVwieyB3aWR0aDogbW9kZWwucGVyY2VudGFnZSArIFxcJyVcXCd9XCIgY2xhc3M9XCJwcm9ncmVzcy1iYXJcIj4gPC9zcGFuPiBcXFxyXG4gICAgICAgICAgICAgICA8c3BhbiB2LWlmPVwibW9kZWwuZXJyb3JNZXNzYWdlXCIgY2xhc3M9XCJlcnJvci1tZXNzYWdlXCIgOnRpdGxlPVwibW9kZWwuZXJyb3JNZXNzYWdlXCI+IEVycm9yOiB7eyBtb2RlbC5lcnJvck1lc3NhZ2UgfX0gPC9zcGFuPiBcXFxyXG4gICAgICAgICAgICA8L2Rpdj4gXFxcclxuICAgICAgICA8L2Rpdj4gXFxcclxuICAgICAgICAnLFxyXG4gICAgcHJvcHM6IHtcclxuICAgICAgICBtb2RlbDogT2JqZWN0LFxyXG4gICAgICAgIHVwbG9hZElucHV0SWQ6IFN0cmluZ1xyXG4gICAgfSxcclxuICAgIG1vdW50ZWQ6IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICB2YXIgc2VsZiA9IHRoaXM7XHJcbiAgICAgICAgdmFyIHVwbG9hZElucHV0ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoc2VsZi51cGxvYWRJbnB1dElkID8/ICdmaWxldXBsb2FkJyk7XHJcbiAgICAgICAgJCh1cGxvYWRJbnB1dCkuYmluZCgnZmlsZXVwbG9hZHByb2dyZXNzJywgZnVuY3Rpb24gKGUsIGRhdGEpIHtcclxuICAgICAgICAgICAgaWYgKGRhdGEuZmlsZXNbMF0ubmFtZSAhPT0gc2VsZi5tb2RlbC5uYW1lKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgICAgIH0gICAgICAgICAgICBcclxuICAgICAgICAgICAgc2VsZi5tb2RlbC5wZXJjZW50YWdlID0gcGFyc2VJbnQoZGF0YS5sb2FkZWQgLyBkYXRhLnRvdGFsICogMTAwLCAxMCk7XHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgICQodXBsb2FkSW5wdXQpLmJpbmQoJ2ZpbGV1cGxvYWRkb25lJywgZnVuY3Rpb24gKGUsIGRhdGEpIHtcclxuICAgICAgICAgICAgaWYgKGRhdGEuZmlsZXNbMF0ubmFtZSAhPT0gc2VsZi5tb2RlbC5uYW1lKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgaWYgKGRhdGEucmVzdWx0LmZpbGVzWzBdLmVycm9yKSB7XHJcbiAgICAgICAgICAgICAgICBzZWxmLmhhbmRsZUZhaWx1cmUoZGF0YS5maWxlc1swXS5uYW1lLCBkYXRhLnJlc3VsdC5maWxlc1swXS5lcnJvcik7XHJcbiAgICAgICAgICAgIH0gZWxzZSB7ICBcclxuICAgICAgICAgICAgICAgIGJ1cy4kZW1pdCgncmVtb3ZhbFJlcXVlc3QnLCBzZWxmLm1vZGVsKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICAkKHVwbG9hZElucHV0KS5iaW5kKCdmaWxldXBsb2FkZmFpbCcsIGZ1bmN0aW9uIChlLCBkYXRhKSB7XHJcbiAgICAgICAgICAgIGlmIChkYXRhLmZpbGVzWzBdLm5hbWUgIT09IHNlbGYubW9kZWwubmFtZSkge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHNlbGYuaGFuZGxlRmFpbHVyZShkYXRhLmZpbGVzWzBdLm5hbWUsICQoJyN0LWVycm9yJykudmFsKCkpO1xyXG4gICAgICAgIH0pO1xyXG4gICAgfSxcclxuICAgIG1ldGhvZHM6IHtcclxuICAgICAgICBoYW5kbGVGYWlsdXJlOiBmdW5jdGlvbiAoZmlsZU5hbWUsIG1lc3NhZ2UpIHtcclxuICAgICAgICAgICAgaWYgKGZpbGVOYW1lICE9PSB0aGlzLm1vZGVsLm5hbWUpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB0aGlzLm1vZGVsLmVycm9yTWVzc2FnZSA9IG1lc3NhZ2U7XHJcbiAgICAgICAgICAgIGJ1cy4kZW1pdCgnRXJyb3JPblVwbG9hZCcsIHRoaXMubW9kZWwpO1xyXG4gICAgICAgIH0sXHJcbiAgICAgICAgZGlzbWlzc1dhcm5pbmc6IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgYnVzLiRlbWl0KCdyZW1vdmFsUmVxdWVzdCcsIHRoaXMubW9kZWwpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxufSk7XHJcbiIsIi8vIDx1cGxvYWQtbGlzdD4gY29tcG9uZW50XHJcblZ1ZS5jb21wb25lbnQoJ3VwbG9hZExpc3QnLCB7XHJcbiAgICB0ZW1wbGF0ZTogJ1xcXHJcbiAgICAgICAgPGRpdiBjbGFzcz1cInVwbG9hZC1saXN0XCIgdi1zaG93PVwiZmlsZXMubGVuZ3RoID4gMFwiPiBcXFxyXG4gICAgICAgICAgICA8ZGl2IGNsYXNzPVwiaGVhZGVyXCIgQGNsaWNrPVwiZXhwYW5kZWQgPSAhZXhwYW5kZWRcIj4gXFxcclxuICAgICAgICAgICAgICAgIDxzcGFuPiB7eyBULnVwbG9hZHMgfX0gPC9zcGFuPiBcXFxyXG4gICAgICAgICAgICAgICAgPHNwYW4gdi1zaG93PVwicGVuZGluZ0NvdW50XCI+IChQZW5kaW5nOiB7eyBwZW5kaW5nQ291bnQgfX0pIDwvc3Bhbj4gXFxcclxuICAgICAgICAgICAgICAgIDxzcGFuIHYtc2hvdz1cImVycm9yQ291bnRcIiA6Y2xhc3M9XCJ7IFxcJ3RleHQtZGFuZ2VyXFwnIDogZXJyb3JDb3VudCB9XCI+ICgge3sgVC5lcnJvcnMgfX06IHt7IGVycm9yQ291bnQgfX0gLyA8YSBocmVmPVwiamF2YXNjcmlwdDo7XCIgdi1vbjpjbGljay5zdG9wPVwiY2xlYXJFcnJvcnNcIiA+IHt7IFQuY2xlYXJFcnJvcnMgfX0gPC9hPik8L3NwYW4+IFxcXHJcbiAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cInRvZ2dsZS1idXR0b25cIj4gXFxcclxuICAgICAgICAgICAgICAgICAgICA8ZGl2IHYtc2hvdz1cImV4cGFuZGVkXCI+IFxcXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIDxpIGNsYXNzPVwiZmEtc29saWQgZmEtY2hldnJvbi1kb3duXCIgYXJpYS1oaWRkZW49XCJ0cnVlXCI+PC9pPiBcXFxyXG4gICAgICAgICAgICAgICAgICAgIDwvZGl2PiBcXFxyXG4gICAgICAgICAgICAgICAgICAgIDxkaXYgdi1zaG93PVwiIWV4cGFuZGVkXCI+IFxcXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIDxpIGNsYXNzPVwiZmEtc29saWQgZmEtY2hldnJvbi11cFwiIGFyaWEtaGlkZGVuPVwidHJ1ZVwiPjwvaT4gXFxcclxuICAgICAgICAgICAgICAgICAgICA8L2Rpdj4gXFxcclxuICAgICAgICAgICAgICAgIDwvZGl2PiBcXFxyXG4gICAgICAgICAgICA8L2Rpdj4gXFxcclxuICAgICAgICAgICAgPGRpdiBjbGFzcz1cImNhcmQtYm9keVwiIHYtc2hvdz1cImV4cGFuZGVkXCI+IFxcXHJcbiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwiZC1mbGV4IGZsZXgtd3JhcFwiPiBcXFxyXG4gICAgICAgICAgICAgICAgICAgIDx1cGxvYWQgOnVwbG9hZC1pbnB1dC1pZD1cInVwbG9hZElucHV0SWRcIiB2LWZvcj1cImYgaW4gZmlsZXNcIiA6a2V5PVwiZi5uYW1lXCIgIDptb2RlbD1cImZcIj48L3VwbG9hZD4gXFxcclxuICAgICAgICAgICAgICAgIDwvZGl2ID4gXFxcclxuICAgICAgICAgICAgPC9kaXY+IFxcXHJcbiAgICAgICAgPC9kaXY+IFxcXHJcbiAgICAgICAgJyxcclxuICAgIGRhdGE6IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICByZXR1cm4ge1xyXG4gICAgICAgICAgICBmaWxlczogW10sXHJcbiAgICAgICAgICAgIFQ6IHt9LFxyXG4gICAgICAgICAgICBleHBhbmRlZDogZmFsc2UsXHJcbiAgICAgICAgICAgIHBlbmRpbmdDb3VudDogMCxcclxuICAgICAgICAgICAgZXJyb3JDb3VudDogMFxyXG4gICAgICAgIH1cclxuICAgIH0sXHJcbiAgICBwcm9wczoge1xyXG4gICAgICAgIHVwbG9hZElucHV0SWQ6IFN0cmluZ1xyXG4gICAgfSxcclxuICAgIGNyZWF0ZWQ6IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICB2YXIgc2VsZiA9IHRoaXM7XHJcbiAgICAgICAgLy8gcmV0cmlldmluZyBsb2NhbGl6ZWQgc3RyaW5ncyBmcm9tIHZpZXdcclxuICAgICAgICBzZWxmLlQudXBsb2FkcyA9ICQoJyN0LXVwbG9hZHMnKS52YWwoKTtcclxuICAgICAgICBzZWxmLlQuZXJyb3JzID0gJCgnI3QtZXJyb3JzJykudmFsKCk7XHJcbiAgICAgICAgc2VsZi5ULmNsZWFyRXJyb3JzID0gJCgnI3QtY2xlYXItZXJyb3JzJykudmFsKCk7XHJcbiAgICB9LFxyXG4gICAgY29tcHV0ZWQ6IHtcclxuICAgICAgICBmaWxlQ291bnQ6IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgcmV0dXJuIHRoaXMuZmlsZXMubGVuZ3RoO1xyXG4gICAgICAgIH1cclxuICAgIH0sXHJcbiAgICBtb3VudGVkOiBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgdmFyIHNlbGYgPSB0aGlzO1xyXG4gICAgICAgIHZhciB1cGxvYWRJbnB1dCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKHNlbGYudXBsb2FkSW5wdXRJZCA/PyAnZmlsZXVwbG9hZCcpO1xyXG4gICAgICAgICQodXBsb2FkSW5wdXQpLmJpbmQoJ2ZpbGV1cGxvYWRhZGQnLCBmdW5jdGlvbiAoZSwgZGF0YSkge1xyXG4gICAgICAgICAgICBpZiAoIWRhdGEuZmlsZXMpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBkYXRhLmZpbGVzLmZvckVhY2goZnVuY3Rpb24gKG5ld0ZpbGUpIHtcclxuICAgICAgICAgICAgICAgIHZhciBhbHJlYWR5SW5MaXN0ID0gc2VsZi5maWxlcy5zb21lKGZ1bmN0aW9uIChmKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGYubmFtZSA9PSBuZXdGaWxlLm5hbWU7XHJcbiAgICAgICAgICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgICAgICAgICBpZiAoIWFscmVhZHlJbkxpc3QpIHtcclxuICAgICAgICAgICAgICAgICAgICBzZWxmLmZpbGVzLnB1c2goeyBuYW1lOiBuZXdGaWxlLm5hbWUsIHBlcmNlbnRhZ2U6IDAsIGVycm9yTWVzc2FnZTogJycgfSk7XHJcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoJ0EgZmlsZSB3aXRoIHRoZSBzYW1lIG5hbWUgaXMgYWxyZWFkeSBvbiB0aGUgcXVldWU6JyArIG5ld0ZpbGUubmFtZSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICBidXMuJG9uKCdyZW1vdmFsUmVxdWVzdCcsIGZ1bmN0aW9uIChmaWxlVXBsb2FkKSB7XHJcbiAgICAgICAgICAgIHNlbGYuZmlsZXMuZm9yRWFjaChmdW5jdGlvbiAoaXRlbSwgaW5kZXgsIGFycmF5KSB7XHJcbiAgICAgICAgICAgICAgICBpZiAoaXRlbS5uYW1lID09IGZpbGVVcGxvYWQubmFtZSkge1xyXG4gICAgICAgICAgICAgICAgICAgIGFycmF5LnNwbGljZShpbmRleCwgMSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICBidXMuJG9uKCdFcnJvck9uVXBsb2FkJywgZnVuY3Rpb24gKGZpbGVVcGxvYWQpIHtcclxuICAgICAgICAgICAgc2VsZi51cGRhdGVDb3VudCgpO1xyXG4gICAgICAgIH0pO1xyXG4gICAgfSxcclxuICAgIG1ldGhvZHM6IHtcclxuICAgICAgICB1cGRhdGVDb3VudDogZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICB0aGlzLmVycm9yQ291bnQgPSB0aGlzLmZpbGVzLmZpbHRlcihmdW5jdGlvbiAoaXRlbSkge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIGl0ZW0uZXJyb3JNZXNzYWdlICE9ICcnO1xyXG4gICAgICAgICAgICB9KS5sZW5ndGg7XHJcbiAgICAgICAgICAgIHRoaXMucGVuZGluZ0NvdW50ID0gdGhpcy5maWxlcy5sZW5ndGggLSB0aGlzLmVycm9yQ291bnQ7XHJcbiAgICAgICAgICAgIGlmICh0aGlzLmZpbGVzLmxlbmd0aCA8IDEpIHtcclxuICAgICAgICAgICAgICAgIHRoaXMuZXhwYW5kZWQgPSBmYWxzZTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0sXHJcbiAgICAgICAgY2xlYXJFcnJvcnM6IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgdGhpcy5maWxlcyA9IHRoaXMuZmlsZXMuZmlsdGVyKGZ1bmN0aW9uIChpdGVtKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gaXRlbS5lcnJvck1lc3NhZ2UgPT0gJyc7XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH1cclxuICAgIH0sXHJcbiAgICB3YXRjaDoge1xyXG4gICAgICAgIGZpbGVzOiBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIHRoaXMudXBkYXRlQ291bnQoKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbn0pO1xyXG4iLCJmdW5jdGlvbiByYW5kb21VVUlEKCkge1xyXG4gICAgaWYgKHR5cGVvZiBjcnlwdG8gPT09ICdvYmplY3QnICYmIHR5cGVvZiBjcnlwdG8ucmFuZG9tVVVJRCA9PT0gJ2Z1bmN0aW9uJykge1xyXG4gICAgICAgIHJldHVybiBjcnlwdG8ucmFuZG9tVVVJRCgpO1xyXG4gICAgfVxyXG5cclxuICAgIHJldHVybiAoWzFlN10gKyAtMWUzICsgLTRlMyArIC04ZTMgKyAtMWUxMSkucmVwbGFjZSgvWzAxOF0vZywgYyA9PlxyXG4gICAgICAgIChjIF4gY3J5cHRvLmdldFJhbmRvbVZhbHVlcyhuZXcgVWludDhBcnJheSgxKSlbMF0gJiAxNSA+PiBjIC8gNCkudG9TdHJpbmcoMTYpXHJcbiAgICApO1xyXG59XHJcbiIsIi8qXG4gKiBqUXVlcnkgRmlsZSBVcGxvYWQgUGx1Z2luXG4gKiBodHRwczovL2dpdGh1Yi5jb20vYmx1ZWltcC9qUXVlcnktRmlsZS1VcGxvYWRcbiAqXG4gKiBDb3B5cmlnaHQgMjAxMCwgU2ViYXN0aWFuIFRzY2hhblxuICogaHR0cHM6Ly9ibHVlaW1wLm5ldFxuICpcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBNSVQgbGljZW5zZTpcbiAqIGh0dHBzOi8vb3BlbnNvdXJjZS5vcmcvbGljZW5zZXMvTUlUXG4gKi9cblxuLyogZ2xvYmFsIGRlZmluZSwgcmVxdWlyZSAqL1xuLyogZXNsaW50LWRpc2FibGUgbmV3LWNhcCAqL1xuXG4oZnVuY3Rpb24gKGZhY3RvcnkpIHtcbiAgJ3VzZSBzdHJpY3QnO1xuICBpZiAodHlwZW9mIGRlZmluZSA9PT0gJ2Z1bmN0aW9uJyAmJiBkZWZpbmUuYW1kKSB7XG4gICAgLy8gUmVnaXN0ZXIgYXMgYW4gYW5vbnltb3VzIEFNRCBtb2R1bGU6XG4gICAgZGVmaW5lKFsnanF1ZXJ5JywgJ2pxdWVyeS11aS91aS93aWRnZXQnXSwgZmFjdG9yeSk7XG4gIH0gZWxzZSBpZiAodHlwZW9mIGV4cG9ydHMgPT09ICdvYmplY3QnKSB7XG4gICAgLy8gTm9kZS9Db21tb25KUzpcbiAgICBmYWN0b3J5KHJlcXVpcmUoJ2pxdWVyeScpLCByZXF1aXJlKCcuL3ZlbmRvci9qcXVlcnkudWkud2lkZ2V0JykpO1xuICB9IGVsc2Uge1xuICAgIC8vIEJyb3dzZXIgZ2xvYmFsczpcbiAgICBmYWN0b3J5KHdpbmRvdy5qUXVlcnkpO1xuICB9XG59KShmdW5jdGlvbiAoJCkge1xuICAndXNlIHN0cmljdCc7XG5cbiAgLy8gRGV0ZWN0IGZpbGUgaW5wdXQgc3VwcG9ydCwgYmFzZWQgb25cbiAgLy8gaHR0cHM6Ly92aWxqYW1pcy5jb20vMjAxMi9maWxlLXVwbG9hZC1zdXBwb3J0LW9uLW1vYmlsZS9cbiAgJC5zdXBwb3J0LmZpbGVJbnB1dCA9ICEoXG4gICAgbmV3IFJlZ0V4cChcbiAgICAgIC8vIEhhbmRsZSBkZXZpY2VzIHdoaWNoIGdpdmUgZmFsc2UgcG9zaXRpdmVzIGZvciB0aGUgZmVhdHVyZSBkZXRlY3Rpb246XG4gICAgICAnKEFuZHJvaWQgKDFcXFxcLlswMTU2XXwyXFxcXC5bMDFdKSknICtcbiAgICAgICAgJ3woV2luZG93cyBQaG9uZSAoT1MgN3w4XFxcXC4wKSl8KFhCTFdQKXwoWnVuZVdQKXwoV1BEZXNrdG9wKScgK1xuICAgICAgICAnfCh3KGViKT9PU0Jyb3dzZXIpfCh3ZWJPUyknICtcbiAgICAgICAgJ3woS2luZGxlLygxXFxcXC4wfDJcXFxcLlswNV18M1xcXFwuMCkpJ1xuICAgICkudGVzdCh3aW5kb3cubmF2aWdhdG9yLnVzZXJBZ2VudCkgfHxcbiAgICAvLyBGZWF0dXJlIGRldGVjdGlvbiBmb3IgYWxsIG90aGVyIGRldmljZXM6XG4gICAgJCgnPGlucHV0IHR5cGU9XCJmaWxlXCIvPicpLnByb3AoJ2Rpc2FibGVkJylcbiAgKTtcblxuICAvLyBUaGUgRmlsZVJlYWRlciBBUEkgaXMgbm90IGFjdHVhbGx5IHVzZWQsIGJ1dCB3b3JrcyBhcyBmZWF0dXJlIGRldGVjdGlvbixcbiAgLy8gYXMgc29tZSBTYWZhcmkgdmVyc2lvbnMgKDU/KSBzdXBwb3J0IFhIUiBmaWxlIHVwbG9hZHMgdmlhIHRoZSBGb3JtRGF0YSBBUEksXG4gIC8vIGJ1dCBub3Qgbm9uLW11bHRpcGFydCBYSFIgZmlsZSB1cGxvYWRzLlxuICAvLyB3aW5kb3cuWE1MSHR0cFJlcXVlc3RVcGxvYWQgaXMgbm90IGF2YWlsYWJsZSBvbiBJRTEwLCBzbyB3ZSBjaGVjayBmb3JcbiAgLy8gd2luZG93LlByb2dyZXNzRXZlbnQgaW5zdGVhZCB0byBkZXRlY3QgWEhSMiBmaWxlIHVwbG9hZCBjYXBhYmlsaXR5OlxuICAkLnN1cHBvcnQueGhyRmlsZVVwbG9hZCA9ICEhKHdpbmRvdy5Qcm9ncmVzc0V2ZW50ICYmIHdpbmRvdy5GaWxlUmVhZGVyKTtcbiAgJC5zdXBwb3J0LnhockZvcm1EYXRhRmlsZVVwbG9hZCA9ICEhd2luZG93LkZvcm1EYXRhO1xuXG4gIC8vIERldGVjdCBzdXBwb3J0IGZvciBCbG9iIHNsaWNpbmcgKHJlcXVpcmVkIGZvciBjaHVua2VkIHVwbG9hZHMpOlxuICAkLnN1cHBvcnQuYmxvYlNsaWNlID1cbiAgICB3aW5kb3cuQmxvYiAmJlxuICAgIChCbG9iLnByb3RvdHlwZS5zbGljZSB8fFxuICAgICAgQmxvYi5wcm90b3R5cGUud2Via2l0U2xpY2UgfHxcbiAgICAgIEJsb2IucHJvdG90eXBlLm1velNsaWNlKTtcblxuICAvKipcbiAgICogSGVscGVyIGZ1bmN0aW9uIHRvIGNyZWF0ZSBkcmFnIGhhbmRsZXJzIGZvciBkcmFnb3Zlci9kcmFnZW50ZXIvZHJhZ2xlYXZlXG4gICAqXG4gICAqIEBwYXJhbSB7c3RyaW5nfSB0eXBlIEV2ZW50IHR5cGVcbiAgICogQHJldHVybnMge0Z1bmN0aW9ufSBEcmFnIGhhbmRsZXJcbiAgICovXG4gIGZ1bmN0aW9uIGdldERyYWdIYW5kbGVyKHR5cGUpIHtcbiAgICB2YXIgaXNEcmFnT3ZlciA9IHR5cGUgPT09ICdkcmFnb3Zlcic7XG4gICAgcmV0dXJuIGZ1bmN0aW9uIChlKSB7XG4gICAgICBlLmRhdGFUcmFuc2ZlciA9IGUub3JpZ2luYWxFdmVudCAmJiBlLm9yaWdpbmFsRXZlbnQuZGF0YVRyYW5zZmVyO1xuICAgICAgdmFyIGRhdGFUcmFuc2ZlciA9IGUuZGF0YVRyYW5zZmVyO1xuICAgICAgaWYgKFxuICAgICAgICBkYXRhVHJhbnNmZXIgJiZcbiAgICAgICAgJC5pbkFycmF5KCdGaWxlcycsIGRhdGFUcmFuc2Zlci50eXBlcykgIT09IC0xICYmXG4gICAgICAgIHRoaXMuX3RyaWdnZXIodHlwZSwgJC5FdmVudCh0eXBlLCB7IGRlbGVnYXRlZEV2ZW50OiBlIH0pKSAhPT0gZmFsc2VcbiAgICAgICkge1xuICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgIGlmIChpc0RyYWdPdmVyKSB7XG4gICAgICAgICAgZGF0YVRyYW5zZmVyLmRyb3BFZmZlY3QgPSAnY29weSc7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9O1xuICB9XG5cbiAgLy8gVGhlIGZpbGV1cGxvYWQgd2lkZ2V0IGxpc3RlbnMgZm9yIGNoYW5nZSBldmVudHMgb24gZmlsZSBpbnB1dCBmaWVsZHMgZGVmaW5lZFxuICAvLyB2aWEgZmlsZUlucHV0IHNldHRpbmcgYW5kIHBhc3RlIG9yIGRyb3AgZXZlbnRzIG9mIHRoZSBnaXZlbiBkcm9wWm9uZS5cbiAgLy8gSW4gYWRkaXRpb24gdG8gdGhlIGRlZmF1bHQgalF1ZXJ5IFdpZGdldCBtZXRob2RzLCB0aGUgZmlsZXVwbG9hZCB3aWRnZXRcbiAgLy8gZXhwb3NlcyB0aGUgXCJhZGRcIiBhbmQgXCJzZW5kXCIgbWV0aG9kcywgdG8gYWRkIG9yIGRpcmVjdGx5IHNlbmQgZmlsZXMgdXNpbmdcbiAgLy8gdGhlIGZpbGV1cGxvYWQgQVBJLlxuICAvLyBCeSBkZWZhdWx0LCBmaWxlcyBhZGRlZCB2aWEgZmlsZSBpbnB1dCBzZWxlY3Rpb24sIHBhc3RlLCBkcmFnICYgZHJvcCBvclxuICAvLyBcImFkZFwiIG1ldGhvZCBhcmUgdXBsb2FkZWQgaW1tZWRpYXRlbHksIGJ1dCBpdCBpcyBwb3NzaWJsZSB0byBvdmVycmlkZVxuICAvLyB0aGUgXCJhZGRcIiBjYWxsYmFjayBvcHRpb24gdG8gcXVldWUgZmlsZSB1cGxvYWRzLlxuICAkLndpZGdldCgnYmx1ZWltcC5maWxldXBsb2FkJywge1xuICAgIG9wdGlvbnM6IHtcbiAgICAgIC8vIFRoZSBkcm9wIHRhcmdldCBlbGVtZW50KHMpLCBieSB0aGUgZGVmYXVsdCB0aGUgY29tcGxldGUgZG9jdW1lbnQuXG4gICAgICAvLyBTZXQgdG8gbnVsbCB0byBkaXNhYmxlIGRyYWcgJiBkcm9wIHN1cHBvcnQ6XG4gICAgICBkcm9wWm9uZTogJChkb2N1bWVudCksXG4gICAgICAvLyBUaGUgcGFzdGUgdGFyZ2V0IGVsZW1lbnQocyksIGJ5IHRoZSBkZWZhdWx0IHVuZGVmaW5lZC5cbiAgICAgIC8vIFNldCB0byBhIERPTSBub2RlIG9yIGpRdWVyeSBvYmplY3QgdG8gZW5hYmxlIGZpbGUgcGFzdGluZzpcbiAgICAgIHBhc3RlWm9uZTogdW5kZWZpbmVkLFxuICAgICAgLy8gVGhlIGZpbGUgaW5wdXQgZmllbGQocyksIHRoYXQgYXJlIGxpc3RlbmVkIHRvIGZvciBjaGFuZ2UgZXZlbnRzLlxuICAgICAgLy8gSWYgdW5kZWZpbmVkLCBpdCBpcyBzZXQgdG8gdGhlIGZpbGUgaW5wdXQgZmllbGRzIGluc2lkZVxuICAgICAgLy8gb2YgdGhlIHdpZGdldCBlbGVtZW50IG9uIHBsdWdpbiBpbml0aWFsaXphdGlvbi5cbiAgICAgIC8vIFNldCB0byBudWxsIHRvIGRpc2FibGUgdGhlIGNoYW5nZSBsaXN0ZW5lci5cbiAgICAgIGZpbGVJbnB1dDogdW5kZWZpbmVkLFxuICAgICAgLy8gQnkgZGVmYXVsdCwgdGhlIGZpbGUgaW5wdXQgZmllbGQgaXMgcmVwbGFjZWQgd2l0aCBhIGNsb25lIGFmdGVyXG4gICAgICAvLyBlYWNoIGlucHV0IGZpZWxkIGNoYW5nZSBldmVudC4gVGhpcyBpcyByZXF1aXJlZCBmb3IgaWZyYW1lIHRyYW5zcG9ydFxuICAgICAgLy8gcXVldWVzIGFuZCBhbGxvd3MgY2hhbmdlIGV2ZW50cyB0byBiZSBmaXJlZCBmb3IgdGhlIHNhbWUgZmlsZVxuICAgICAgLy8gc2VsZWN0aW9uLCBidXQgY2FuIGJlIGRpc2FibGVkIGJ5IHNldHRpbmcgdGhlIGZvbGxvd2luZyBvcHRpb24gdG8gZmFsc2U6XG4gICAgICByZXBsYWNlRmlsZUlucHV0OiB0cnVlLFxuICAgICAgLy8gVGhlIHBhcmFtZXRlciBuYW1lIGZvciB0aGUgZmlsZSBmb3JtIGRhdGEgKHRoZSByZXF1ZXN0IGFyZ3VtZW50IG5hbWUpLlxuICAgICAgLy8gSWYgdW5kZWZpbmVkIG9yIGVtcHR5LCB0aGUgbmFtZSBwcm9wZXJ0eSBvZiB0aGUgZmlsZSBpbnB1dCBmaWVsZCBpc1xuICAgICAgLy8gdXNlZCwgb3IgXCJmaWxlc1tdXCIgaWYgdGhlIGZpbGUgaW5wdXQgbmFtZSBwcm9wZXJ0eSBpcyBhbHNvIGVtcHR5LFxuICAgICAgLy8gY2FuIGJlIGEgc3RyaW5nIG9yIGFuIGFycmF5IG9mIHN0cmluZ3M6XG4gICAgICBwYXJhbU5hbWU6IHVuZGVmaW5lZCxcbiAgICAgIC8vIEJ5IGRlZmF1bHQsIGVhY2ggZmlsZSBvZiBhIHNlbGVjdGlvbiBpcyB1cGxvYWRlZCB1c2luZyBhbiBpbmRpdmlkdWFsXG4gICAgICAvLyByZXF1ZXN0IGZvciBYSFIgdHlwZSB1cGxvYWRzLiBTZXQgdG8gZmFsc2UgdG8gdXBsb2FkIGZpbGVcbiAgICAgIC8vIHNlbGVjdGlvbnMgaW4gb25lIHJlcXVlc3QgZWFjaDpcbiAgICAgIHNpbmdsZUZpbGVVcGxvYWRzOiB0cnVlLFxuICAgICAgLy8gVG8gbGltaXQgdGhlIG51bWJlciBvZiBmaWxlcyB1cGxvYWRlZCB3aXRoIG9uZSBYSFIgcmVxdWVzdCxcbiAgICAgIC8vIHNldCB0aGUgZm9sbG93aW5nIG9wdGlvbiB0byBhbiBpbnRlZ2VyIGdyZWF0ZXIgdGhhbiAwOlxuICAgICAgbGltaXRNdWx0aUZpbGVVcGxvYWRzOiB1bmRlZmluZWQsXG4gICAgICAvLyBUaGUgZm9sbG93aW5nIG9wdGlvbiBsaW1pdHMgdGhlIG51bWJlciBvZiBmaWxlcyB1cGxvYWRlZCB3aXRoIG9uZVxuICAgICAgLy8gWEhSIHJlcXVlc3QgdG8ga2VlcCB0aGUgcmVxdWVzdCBzaXplIHVuZGVyIG9yIGVxdWFsIHRvIHRoZSBkZWZpbmVkXG4gICAgICAvLyBsaW1pdCBpbiBieXRlczpcbiAgICAgIGxpbWl0TXVsdGlGaWxlVXBsb2FkU2l6ZTogdW5kZWZpbmVkLFxuICAgICAgLy8gTXVsdGlwYXJ0IGZpbGUgdXBsb2FkcyBhZGQgYSBudW1iZXIgb2YgYnl0ZXMgdG8gZWFjaCB1cGxvYWRlZCBmaWxlLFxuICAgICAgLy8gdGhlcmVmb3JlIHRoZSBmb2xsb3dpbmcgb3B0aW9uIGFkZHMgYW4gb3ZlcmhlYWQgZm9yIGVhY2ggZmlsZSB1c2VkXG4gICAgICAvLyBpbiB0aGUgbGltaXRNdWx0aUZpbGVVcGxvYWRTaXplIGNvbmZpZ3VyYXRpb246XG4gICAgICBsaW1pdE11bHRpRmlsZVVwbG9hZFNpemVPdmVyaGVhZDogNTEyLFxuICAgICAgLy8gU2V0IHRoZSBmb2xsb3dpbmcgb3B0aW9uIHRvIHRydWUgdG8gaXNzdWUgYWxsIGZpbGUgdXBsb2FkIHJlcXVlc3RzXG4gICAgICAvLyBpbiBhIHNlcXVlbnRpYWwgb3JkZXI6XG4gICAgICBzZXF1ZW50aWFsVXBsb2FkczogZmFsc2UsXG4gICAgICAvLyBUbyBsaW1pdCB0aGUgbnVtYmVyIG9mIGNvbmN1cnJlbnQgdXBsb2FkcyxcbiAgICAgIC8vIHNldCB0aGUgZm9sbG93aW5nIG9wdGlvbiB0byBhbiBpbnRlZ2VyIGdyZWF0ZXIgdGhhbiAwOlxuICAgICAgbGltaXRDb25jdXJyZW50VXBsb2FkczogdW5kZWZpbmVkLFxuICAgICAgLy8gU2V0IHRoZSBmb2xsb3dpbmcgb3B0aW9uIHRvIHRydWUgdG8gZm9yY2UgaWZyYW1lIHRyYW5zcG9ydCB1cGxvYWRzOlxuICAgICAgZm9yY2VJZnJhbWVUcmFuc3BvcnQ6IGZhbHNlLFxuICAgICAgLy8gU2V0IHRoZSBmb2xsb3dpbmcgb3B0aW9uIHRvIHRoZSBsb2NhdGlvbiBvZiBhIHJlZGlyZWN0IHVybCBvbiB0aGVcbiAgICAgIC8vIG9yaWdpbiBzZXJ2ZXIsIGZvciBjcm9zcy1kb21haW4gaWZyYW1lIHRyYW5zcG9ydCB1cGxvYWRzOlxuICAgICAgcmVkaXJlY3Q6IHVuZGVmaW5lZCxcbiAgICAgIC8vIFRoZSBwYXJhbWV0ZXIgbmFtZSBmb3IgdGhlIHJlZGlyZWN0IHVybCwgc2VudCBhcyBwYXJ0IG9mIHRoZSBmb3JtXG4gICAgICAvLyBkYXRhIGFuZCBzZXQgdG8gJ3JlZGlyZWN0JyBpZiB0aGlzIG9wdGlvbiBpcyBlbXB0eTpcbiAgICAgIHJlZGlyZWN0UGFyYW1OYW1lOiB1bmRlZmluZWQsXG4gICAgICAvLyBTZXQgdGhlIGZvbGxvd2luZyBvcHRpb24gdG8gdGhlIGxvY2F0aW9uIG9mIGEgcG9zdE1lc3NhZ2Ugd2luZG93LFxuICAgICAgLy8gdG8gZW5hYmxlIHBvc3RNZXNzYWdlIHRyYW5zcG9ydCB1cGxvYWRzOlxuICAgICAgcG9zdE1lc3NhZ2U6IHVuZGVmaW5lZCxcbiAgICAgIC8vIEJ5IGRlZmF1bHQsIFhIUiBmaWxlIHVwbG9hZHMgYXJlIHNlbnQgYXMgbXVsdGlwYXJ0L2Zvcm0tZGF0YS5cbiAgICAgIC8vIFRoZSBpZnJhbWUgdHJhbnNwb3J0IGlzIGFsd2F5cyB1c2luZyBtdWx0aXBhcnQvZm9ybS1kYXRhLlxuICAgICAgLy8gU2V0IHRvIGZhbHNlIHRvIGVuYWJsZSBub24tbXVsdGlwYXJ0IFhIUiB1cGxvYWRzOlxuICAgICAgbXVsdGlwYXJ0OiB0cnVlLFxuICAgICAgLy8gVG8gdXBsb2FkIGxhcmdlIGZpbGVzIGluIHNtYWxsZXIgY2h1bmtzLCBzZXQgdGhlIGZvbGxvd2luZyBvcHRpb25cbiAgICAgIC8vIHRvIGEgcHJlZmVycmVkIG1heGltdW0gY2h1bmsgc2l6ZS4gSWYgc2V0IHRvIDAsIG51bGwgb3IgdW5kZWZpbmVkLFxuICAgICAgLy8gb3IgdGhlIGJyb3dzZXIgZG9lcyBub3Qgc3VwcG9ydCB0aGUgcmVxdWlyZWQgQmxvYiBBUEksIGZpbGVzIHdpbGxcbiAgICAgIC8vIGJlIHVwbG9hZGVkIGFzIGEgd2hvbGUuXG4gICAgICBtYXhDaHVua1NpemU6IHVuZGVmaW5lZCxcbiAgICAgIC8vIFdoZW4gYSBub24tbXVsdGlwYXJ0IHVwbG9hZCBvciBhIGNodW5rZWQgbXVsdGlwYXJ0IHVwbG9hZCBoYXMgYmVlblxuICAgICAgLy8gYWJvcnRlZCwgdGhpcyBvcHRpb24gY2FuIGJlIHVzZWQgdG8gcmVzdW1lIHRoZSB1cGxvYWQgYnkgc2V0dGluZ1xuICAgICAgLy8gaXQgdG8gdGhlIHNpemUgb2YgdGhlIGFscmVhZHkgdXBsb2FkZWQgYnl0ZXMuIFRoaXMgb3B0aW9uIGlzIG1vc3RcbiAgICAgIC8vIHVzZWZ1bCB3aGVuIG1vZGlmeWluZyB0aGUgb3B0aW9ucyBvYmplY3QgaW5zaWRlIG9mIHRoZSBcImFkZFwiIG9yXG4gICAgICAvLyBcInNlbmRcIiBjYWxsYmFja3MsIGFzIHRoZSBvcHRpb25zIGFyZSBjbG9uZWQgZm9yIGVhY2ggZmlsZSB1cGxvYWQuXG4gICAgICB1cGxvYWRlZEJ5dGVzOiB1bmRlZmluZWQsXG4gICAgICAvLyBCeSBkZWZhdWx0LCBmYWlsZWQgKGFib3J0IG9yIGVycm9yKSBmaWxlIHVwbG9hZHMgYXJlIHJlbW92ZWQgZnJvbSB0aGVcbiAgICAgIC8vIGdsb2JhbCBwcm9ncmVzcyBjYWxjdWxhdGlvbi4gU2V0IHRoZSBmb2xsb3dpbmcgb3B0aW9uIHRvIGZhbHNlIHRvXG4gICAgICAvLyBwcmV2ZW50IHJlY2FsY3VsYXRpbmcgdGhlIGdsb2JhbCBwcm9ncmVzcyBkYXRhOlxuICAgICAgcmVjYWxjdWxhdGVQcm9ncmVzczogdHJ1ZSxcbiAgICAgIC8vIEludGVydmFsIGluIG1pbGxpc2Vjb25kcyB0byBjYWxjdWxhdGUgYW5kIHRyaWdnZXIgcHJvZ3Jlc3MgZXZlbnRzOlxuICAgICAgcHJvZ3Jlc3NJbnRlcnZhbDogMTAwLFxuICAgICAgLy8gSW50ZXJ2YWwgaW4gbWlsbGlzZWNvbmRzIHRvIGNhbGN1bGF0ZSBwcm9ncmVzcyBiaXRyYXRlOlxuICAgICAgYml0cmF0ZUludGVydmFsOiA1MDAsXG4gICAgICAvLyBCeSBkZWZhdWx0LCB1cGxvYWRzIGFyZSBzdGFydGVkIGF1dG9tYXRpY2FsbHkgd2hlbiBhZGRpbmcgZmlsZXM6XG4gICAgICBhdXRvVXBsb2FkOiB0cnVlLFxuICAgICAgLy8gQnkgZGVmYXVsdCwgZHVwbGljYXRlIGZpbGUgbmFtZXMgYXJlIGV4cGVjdGVkIHRvIGJlIGhhbmRsZWQgb25cbiAgICAgIC8vIHRoZSBzZXJ2ZXItc2lkZS4gSWYgdGhpcyBpcyBub3QgcG9zc2libGUgKGUuZy4gd2hlbiB1cGxvYWRpbmdcbiAgICAgIC8vIGZpbGVzIGRpcmVjdGx5IHRvIEFtYXpvbiBTMyksIHRoZSBmb2xsb3dpbmcgb3B0aW9uIGNhbiBiZSBzZXQgdG9cbiAgICAgIC8vIGFuIGVtcHR5IG9iamVjdCBvciBhbiBvYmplY3QgbWFwcGluZyBleGlzdGluZyBmaWxlbmFtZXMsIGUuZy46XG4gICAgICAvLyB7IFwiaW1hZ2UuanBnXCI6IHRydWUsIFwiaW1hZ2UgKDEpLmpwZ1wiOiB0cnVlIH1cbiAgICAgIC8vIElmIGl0IGlzIHNldCwgYWxsIGZpbGVzIHdpbGwgYmUgdXBsb2FkZWQgd2l0aCB1bmlxdWUgZmlsZW5hbWVzLFxuICAgICAgLy8gYWRkaW5nIGluY3JlYXNpbmcgbnVtYmVyIHN1ZmZpeGVzIGlmIG5lY2Vzc2FyeSwgZS5nLjpcbiAgICAgIC8vIFwiaW1hZ2UgKDIpLmpwZ1wiXG4gICAgICB1bmlxdWVGaWxlbmFtZXM6IHVuZGVmaW5lZCxcblxuICAgICAgLy8gRXJyb3IgYW5kIGluZm8gbWVzc2FnZXM6XG4gICAgICBtZXNzYWdlczoge1xuICAgICAgICB1cGxvYWRlZEJ5dGVzOiAnVXBsb2FkZWQgYnl0ZXMgZXhjZWVkIGZpbGUgc2l6ZSdcbiAgICAgIH0sXG5cbiAgICAgIC8vIFRyYW5zbGF0aW9uIGZ1bmN0aW9uLCBnZXRzIHRoZSBtZXNzYWdlIGtleSB0byBiZSB0cmFuc2xhdGVkXG4gICAgICAvLyBhbmQgYW4gb2JqZWN0IHdpdGggY29udGV4dCBzcGVjaWZpYyBkYXRhIGFzIGFyZ3VtZW50czpcbiAgICAgIGkxOG46IGZ1bmN0aW9uIChtZXNzYWdlLCBjb250ZXh0KSB7XG4gICAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby1wYXJhbS1yZWFzc2lnblxuICAgICAgICBtZXNzYWdlID0gdGhpcy5tZXNzYWdlc1ttZXNzYWdlXSB8fCBtZXNzYWdlLnRvU3RyaW5nKCk7XG4gICAgICAgIGlmIChjb250ZXh0KSB7XG4gICAgICAgICAgJC5lYWNoKGNvbnRleHQsIGZ1bmN0aW9uIChrZXksIHZhbHVlKSB7XG4gICAgICAgICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tcGFyYW0tcmVhc3NpZ25cbiAgICAgICAgICAgIG1lc3NhZ2UgPSBtZXNzYWdlLnJlcGxhY2UoJ3snICsga2V5ICsgJ30nLCB2YWx1ZSk7XG4gICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIG1lc3NhZ2U7XG4gICAgICB9LFxuXG4gICAgICAvLyBBZGRpdGlvbmFsIGZvcm0gZGF0YSB0byBiZSBzZW50IGFsb25nIHdpdGggdGhlIGZpbGUgdXBsb2FkcyBjYW4gYmUgc2V0XG4gICAgICAvLyB1c2luZyB0aGlzIG9wdGlvbiwgd2hpY2ggYWNjZXB0cyBhbiBhcnJheSBvZiBvYmplY3RzIHdpdGggbmFtZSBhbmRcbiAgICAgIC8vIHZhbHVlIHByb3BlcnRpZXMsIGEgZnVuY3Rpb24gcmV0dXJuaW5nIHN1Y2ggYW4gYXJyYXksIGEgRm9ybURhdGFcbiAgICAgIC8vIG9iamVjdCAoZm9yIFhIUiBmaWxlIHVwbG9hZHMpLCBvciBhIHNpbXBsZSBvYmplY3QuXG4gICAgICAvLyBUaGUgZm9ybSBvZiB0aGUgZmlyc3QgZmlsZUlucHV0IGlzIGdpdmVuIGFzIHBhcmFtZXRlciB0byB0aGUgZnVuY3Rpb246XG4gICAgICBmb3JtRGF0YTogZnVuY3Rpb24gKGZvcm0pIHtcbiAgICAgICAgcmV0dXJuIGZvcm0uc2VyaWFsaXplQXJyYXkoKTtcbiAgICAgIH0sXG5cbiAgICAgIC8vIFRoZSBhZGQgY2FsbGJhY2sgaXMgaW52b2tlZCBhcyBzb29uIGFzIGZpbGVzIGFyZSBhZGRlZCB0byB0aGUgZmlsZXVwbG9hZFxuICAgICAgLy8gd2lkZ2V0ICh2aWEgZmlsZSBpbnB1dCBzZWxlY3Rpb24sIGRyYWcgJiBkcm9wLCBwYXN0ZSBvciBhZGQgQVBJIGNhbGwpLlxuICAgICAgLy8gSWYgdGhlIHNpbmdsZUZpbGVVcGxvYWRzIG9wdGlvbiBpcyBlbmFibGVkLCB0aGlzIGNhbGxiYWNrIHdpbGwgYmVcbiAgICAgIC8vIGNhbGxlZCBvbmNlIGZvciBlYWNoIGZpbGUgaW4gdGhlIHNlbGVjdGlvbiBmb3IgWEhSIGZpbGUgdXBsb2FkcywgZWxzZVxuICAgICAgLy8gb25jZSBmb3IgZWFjaCBmaWxlIHNlbGVjdGlvbi5cbiAgICAgIC8vXG4gICAgICAvLyBUaGUgdXBsb2FkIHN0YXJ0cyB3aGVuIHRoZSBzdWJtaXQgbWV0aG9kIGlzIGludm9rZWQgb24gdGhlIGRhdGEgcGFyYW1ldGVyLlxuICAgICAgLy8gVGhlIGRhdGEgb2JqZWN0IGNvbnRhaW5zIGEgZmlsZXMgcHJvcGVydHkgaG9sZGluZyB0aGUgYWRkZWQgZmlsZXNcbiAgICAgIC8vIGFuZCBhbGxvd3MgeW91IHRvIG92ZXJyaWRlIHBsdWdpbiBvcHRpb25zIGFzIHdlbGwgYXMgZGVmaW5lIGFqYXggc2V0dGluZ3MuXG4gICAgICAvL1xuICAgICAgLy8gTGlzdGVuZXJzIGZvciB0aGlzIGNhbGxiYWNrIGNhbiBhbHNvIGJlIGJvdW5kIHRoZSBmb2xsb3dpbmcgd2F5OlxuICAgICAgLy8gLm9uKCdmaWxldXBsb2FkYWRkJywgZnVuYyk7XG4gICAgICAvL1xuICAgICAgLy8gZGF0YS5zdWJtaXQoKSByZXR1cm5zIGEgUHJvbWlzZSBvYmplY3QgYW5kIGFsbG93cyB0byBhdHRhY2ggYWRkaXRpb25hbFxuICAgICAgLy8gaGFuZGxlcnMgdXNpbmcgalF1ZXJ5J3MgRGVmZXJyZWQgY2FsbGJhY2tzOlxuICAgICAgLy8gZGF0YS5zdWJtaXQoKS5kb25lKGZ1bmMpLmZhaWwoZnVuYykuYWx3YXlzKGZ1bmMpO1xuICAgICAgYWRkOiBmdW5jdGlvbiAoZSwgZGF0YSkge1xuICAgICAgICBpZiAoZS5pc0RlZmF1bHRQcmV2ZW50ZWQoKSkge1xuICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoXG4gICAgICAgICAgZGF0YS5hdXRvVXBsb2FkIHx8XG4gICAgICAgICAgKGRhdGEuYXV0b1VwbG9hZCAhPT0gZmFsc2UgJiZcbiAgICAgICAgICAgICQodGhpcykuZmlsZXVwbG9hZCgnb3B0aW9uJywgJ2F1dG9VcGxvYWQnKSlcbiAgICAgICAgKSB7XG4gICAgICAgICAgZGF0YS5wcm9jZXNzKCkuZG9uZShmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICBkYXRhLnN1Ym1pdCgpO1xuICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICB9LFxuXG4gICAgICAvLyBPdGhlciBjYWxsYmFja3M6XG5cbiAgICAgIC8vIENhbGxiYWNrIGZvciB0aGUgc3VibWl0IGV2ZW50IG9mIGVhY2ggZmlsZSB1cGxvYWQ6XG4gICAgICAvLyBzdWJtaXQ6IGZ1bmN0aW9uIChlLCBkYXRhKSB7fSwgLy8gLm9uKCdmaWxldXBsb2Fkc3VibWl0JywgZnVuYyk7XG5cbiAgICAgIC8vIENhbGxiYWNrIGZvciB0aGUgc3RhcnQgb2YgZWFjaCBmaWxlIHVwbG9hZCByZXF1ZXN0OlxuICAgICAgLy8gc2VuZDogZnVuY3Rpb24gKGUsIGRhdGEpIHt9LCAvLyAub24oJ2ZpbGV1cGxvYWRzZW5kJywgZnVuYyk7XG5cbiAgICAgIC8vIENhbGxiYWNrIGZvciBzdWNjZXNzZnVsIHVwbG9hZHM6XG4gICAgICAvLyBkb25lOiBmdW5jdGlvbiAoZSwgZGF0YSkge30sIC8vIC5vbignZmlsZXVwbG9hZGRvbmUnLCBmdW5jKTtcblxuICAgICAgLy8gQ2FsbGJhY2sgZm9yIGZhaWxlZCAoYWJvcnQgb3IgZXJyb3IpIHVwbG9hZHM6XG4gICAgICAvLyBmYWlsOiBmdW5jdGlvbiAoZSwgZGF0YSkge30sIC8vIC5vbignZmlsZXVwbG9hZGZhaWwnLCBmdW5jKTtcblxuICAgICAgLy8gQ2FsbGJhY2sgZm9yIGNvbXBsZXRlZCAoc3VjY2VzcywgYWJvcnQgb3IgZXJyb3IpIHJlcXVlc3RzOlxuICAgICAgLy8gYWx3YXlzOiBmdW5jdGlvbiAoZSwgZGF0YSkge30sIC8vIC5vbignZmlsZXVwbG9hZGFsd2F5cycsIGZ1bmMpO1xuXG4gICAgICAvLyBDYWxsYmFjayBmb3IgdXBsb2FkIHByb2dyZXNzIGV2ZW50czpcbiAgICAgIC8vIHByb2dyZXNzOiBmdW5jdGlvbiAoZSwgZGF0YSkge30sIC8vIC5vbignZmlsZXVwbG9hZHByb2dyZXNzJywgZnVuYyk7XG5cbiAgICAgIC8vIENhbGxiYWNrIGZvciBnbG9iYWwgdXBsb2FkIHByb2dyZXNzIGV2ZW50czpcbiAgICAgIC8vIHByb2dyZXNzYWxsOiBmdW5jdGlvbiAoZSwgZGF0YSkge30sIC8vIC5vbignZmlsZXVwbG9hZHByb2dyZXNzYWxsJywgZnVuYyk7XG5cbiAgICAgIC8vIENhbGxiYWNrIGZvciB1cGxvYWRzIHN0YXJ0LCBlcXVpdmFsZW50IHRvIHRoZSBnbG9iYWwgYWpheFN0YXJ0IGV2ZW50OlxuICAgICAgLy8gc3RhcnQ6IGZ1bmN0aW9uIChlKSB7fSwgLy8gLm9uKCdmaWxldXBsb2Fkc3RhcnQnLCBmdW5jKTtcblxuICAgICAgLy8gQ2FsbGJhY2sgZm9yIHVwbG9hZHMgc3RvcCwgZXF1aXZhbGVudCB0byB0aGUgZ2xvYmFsIGFqYXhTdG9wIGV2ZW50OlxuICAgICAgLy8gc3RvcDogZnVuY3Rpb24gKGUpIHt9LCAvLyAub24oJ2ZpbGV1cGxvYWRzdG9wJywgZnVuYyk7XG5cbiAgICAgIC8vIENhbGxiYWNrIGZvciBjaGFuZ2UgZXZlbnRzIG9mIHRoZSBmaWxlSW5wdXQocyk6XG4gICAgICAvLyBjaGFuZ2U6IGZ1bmN0aW9uIChlLCBkYXRhKSB7fSwgLy8gLm9uKCdmaWxldXBsb2FkY2hhbmdlJywgZnVuYyk7XG5cbiAgICAgIC8vIENhbGxiYWNrIGZvciBwYXN0ZSBldmVudHMgdG8gdGhlIHBhc3RlWm9uZShzKTpcbiAgICAgIC8vIHBhc3RlOiBmdW5jdGlvbiAoZSwgZGF0YSkge30sIC8vIC5vbignZmlsZXVwbG9hZHBhc3RlJywgZnVuYyk7XG5cbiAgICAgIC8vIENhbGxiYWNrIGZvciBkcm9wIGV2ZW50cyBvZiB0aGUgZHJvcFpvbmUocyk6XG4gICAgICAvLyBkcm9wOiBmdW5jdGlvbiAoZSwgZGF0YSkge30sIC8vIC5vbignZmlsZXVwbG9hZGRyb3AnLCBmdW5jKTtcblxuICAgICAgLy8gQ2FsbGJhY2sgZm9yIGRyYWdvdmVyIGV2ZW50cyBvZiB0aGUgZHJvcFpvbmUocyk6XG4gICAgICAvLyBkcmFnb3ZlcjogZnVuY3Rpb24gKGUpIHt9LCAvLyAub24oJ2ZpbGV1cGxvYWRkcmFnb3ZlcicsIGZ1bmMpO1xuXG4gICAgICAvLyBDYWxsYmFjayBiZWZvcmUgdGhlIHN0YXJ0IG9mIGVhY2ggY2h1bmsgdXBsb2FkIHJlcXVlc3QgKGJlZm9yZSBmb3JtIGRhdGEgaW5pdGlhbGl6YXRpb24pOlxuICAgICAgLy8gY2h1bmtiZWZvcmVzZW5kOiBmdW5jdGlvbiAoZSwgZGF0YSkge30sIC8vIC5vbignZmlsZXVwbG9hZGNodW5rYmVmb3Jlc2VuZCcsIGZ1bmMpO1xuXG4gICAgICAvLyBDYWxsYmFjayBmb3IgdGhlIHN0YXJ0IG9mIGVhY2ggY2h1bmsgdXBsb2FkIHJlcXVlc3Q6XG4gICAgICAvLyBjaHVua3NlbmQ6IGZ1bmN0aW9uIChlLCBkYXRhKSB7fSwgLy8gLm9uKCdmaWxldXBsb2FkY2h1bmtzZW5kJywgZnVuYyk7XG5cbiAgICAgIC8vIENhbGxiYWNrIGZvciBzdWNjZXNzZnVsIGNodW5rIHVwbG9hZHM6XG4gICAgICAvLyBjaHVua2RvbmU6IGZ1bmN0aW9uIChlLCBkYXRhKSB7fSwgLy8gLm9uKCdmaWxldXBsb2FkY2h1bmtkb25lJywgZnVuYyk7XG5cbiAgICAgIC8vIENhbGxiYWNrIGZvciBmYWlsZWQgKGFib3J0IG9yIGVycm9yKSBjaHVuayB1cGxvYWRzOlxuICAgICAgLy8gY2h1bmtmYWlsOiBmdW5jdGlvbiAoZSwgZGF0YSkge30sIC8vIC5vbignZmlsZXVwbG9hZGNodW5rZmFpbCcsIGZ1bmMpO1xuXG4gICAgICAvLyBDYWxsYmFjayBmb3IgY29tcGxldGVkIChzdWNjZXNzLCBhYm9ydCBvciBlcnJvcikgY2h1bmsgdXBsb2FkIHJlcXVlc3RzOlxuICAgICAgLy8gY2h1bmthbHdheXM6IGZ1bmN0aW9uIChlLCBkYXRhKSB7fSwgLy8gLm9uKCdmaWxldXBsb2FkY2h1bmthbHdheXMnLCBmdW5jKTtcblxuICAgICAgLy8gVGhlIHBsdWdpbiBvcHRpb25zIGFyZSB1c2VkIGFzIHNldHRpbmdzIG9iamVjdCBmb3IgdGhlIGFqYXggY2FsbHMuXG4gICAgICAvLyBUaGUgZm9sbG93aW5nIGFyZSBqUXVlcnkgYWpheCBzZXR0aW5ncyByZXF1aXJlZCBmb3IgdGhlIGZpbGUgdXBsb2FkczpcbiAgICAgIHByb2Nlc3NEYXRhOiBmYWxzZSxcbiAgICAgIGNvbnRlbnRUeXBlOiBmYWxzZSxcbiAgICAgIGNhY2hlOiBmYWxzZSxcbiAgICAgIHRpbWVvdXQ6IDBcbiAgICB9LFxuXG4gICAgLy8galF1ZXJ5IHZlcnNpb25zIGJlZm9yZSAxLjggcmVxdWlyZSBwcm9taXNlLnBpcGUgaWYgdGhlIHJldHVybiB2YWx1ZSBpc1xuICAgIC8vIHVzZWQsIGFzIHByb21pc2UudGhlbiBpbiBvbGRlciB2ZXJzaW9ucyBoYXMgYSBkaWZmZXJlbnQgYmVoYXZpb3IsIHNlZTpcbiAgICAvLyBodHRwczovL2Jsb2cuanF1ZXJ5LmNvbS8yMDEyLzA4LzA5L2pxdWVyeS0xLTgtcmVsZWFzZWQvXG4gICAgLy8gaHR0cHM6Ly9idWdzLmpxdWVyeS5jb20vdGlja2V0LzExMDEwXG4gICAgLy8gaHR0cHM6Ly9naXRodWIuY29tL2JsdWVpbXAvalF1ZXJ5LUZpbGUtVXBsb2FkL3B1bGwvMzQzNVxuICAgIF9wcm9taXNlUGlwZTogKGZ1bmN0aW9uICgpIHtcbiAgICAgIHZhciBwYXJ0cyA9ICQuZm4uanF1ZXJ5LnNwbGl0KCcuJyk7XG4gICAgICByZXR1cm4gTnVtYmVyKHBhcnRzWzBdKSA+IDEgfHwgTnVtYmVyKHBhcnRzWzFdKSA+IDcgPyAndGhlbicgOiAncGlwZSc7XG4gICAgfSkoKSxcblxuICAgIC8vIEEgbGlzdCBvZiBvcHRpb25zIHRoYXQgcmVxdWlyZSByZWluaXRpYWxpemluZyBldmVudCBsaXN0ZW5lcnMgYW5kL29yXG4gICAgLy8gc3BlY2lhbCBpbml0aWFsaXphdGlvbiBjb2RlOlxuICAgIF9zcGVjaWFsT3B0aW9uczogW1xuICAgICAgJ2ZpbGVJbnB1dCcsXG4gICAgICAnZHJvcFpvbmUnLFxuICAgICAgJ3Bhc3RlWm9uZScsXG4gICAgICAnbXVsdGlwYXJ0JyxcbiAgICAgICdmb3JjZUlmcmFtZVRyYW5zcG9ydCdcbiAgICBdLFxuXG4gICAgX2Jsb2JTbGljZTpcbiAgICAgICQuc3VwcG9ydC5ibG9iU2xpY2UgJiZcbiAgICAgIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIHNsaWNlID0gdGhpcy5zbGljZSB8fCB0aGlzLndlYmtpdFNsaWNlIHx8IHRoaXMubW96U2xpY2U7XG4gICAgICAgIHJldHVybiBzbGljZS5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xuICAgICAgfSxcblxuICAgIF9CaXRyYXRlVGltZXI6IGZ1bmN0aW9uICgpIHtcbiAgICAgIHRoaXMudGltZXN0YW1wID0gRGF0ZS5ub3cgPyBEYXRlLm5vdygpIDogbmV3IERhdGUoKS5nZXRUaW1lKCk7XG4gICAgICB0aGlzLmxvYWRlZCA9IDA7XG4gICAgICB0aGlzLmJpdHJhdGUgPSAwO1xuICAgICAgdGhpcy5nZXRCaXRyYXRlID0gZnVuY3Rpb24gKG5vdywgbG9hZGVkLCBpbnRlcnZhbCkge1xuICAgICAgICB2YXIgdGltZURpZmYgPSBub3cgLSB0aGlzLnRpbWVzdGFtcDtcbiAgICAgICAgaWYgKCF0aGlzLmJpdHJhdGUgfHwgIWludGVydmFsIHx8IHRpbWVEaWZmID4gaW50ZXJ2YWwpIHtcbiAgICAgICAgICB0aGlzLmJpdHJhdGUgPSAobG9hZGVkIC0gdGhpcy5sb2FkZWQpICogKDEwMDAgLyB0aW1lRGlmZikgKiA4O1xuICAgICAgICAgIHRoaXMubG9hZGVkID0gbG9hZGVkO1xuICAgICAgICAgIHRoaXMudGltZXN0YW1wID0gbm93O1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0aGlzLmJpdHJhdGU7XG4gICAgICB9O1xuICAgIH0sXG5cbiAgICBfaXNYSFJVcGxvYWQ6IGZ1bmN0aW9uIChvcHRpb25zKSB7XG4gICAgICByZXR1cm4gKFxuICAgICAgICAhb3B0aW9ucy5mb3JjZUlmcmFtZVRyYW5zcG9ydCAmJlxuICAgICAgICAoKCFvcHRpb25zLm11bHRpcGFydCAmJiAkLnN1cHBvcnQueGhyRmlsZVVwbG9hZCkgfHxcbiAgICAgICAgICAkLnN1cHBvcnQueGhyRm9ybURhdGFGaWxlVXBsb2FkKVxuICAgICAgKTtcbiAgICB9LFxuXG4gICAgX2dldEZvcm1EYXRhOiBmdW5jdGlvbiAob3B0aW9ucykge1xuICAgICAgdmFyIGZvcm1EYXRhO1xuICAgICAgaWYgKCQudHlwZShvcHRpb25zLmZvcm1EYXRhKSA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICByZXR1cm4gb3B0aW9ucy5mb3JtRGF0YShvcHRpb25zLmZvcm0pO1xuICAgICAgfVxuICAgICAgaWYgKCQuaXNBcnJheShvcHRpb25zLmZvcm1EYXRhKSkge1xuICAgICAgICByZXR1cm4gb3B0aW9ucy5mb3JtRGF0YTtcbiAgICAgIH1cbiAgICAgIGlmICgkLnR5cGUob3B0aW9ucy5mb3JtRGF0YSkgPT09ICdvYmplY3QnKSB7XG4gICAgICAgIGZvcm1EYXRhID0gW107XG4gICAgICAgICQuZWFjaChvcHRpb25zLmZvcm1EYXRhLCBmdW5jdGlvbiAobmFtZSwgdmFsdWUpIHtcbiAgICAgICAgICBmb3JtRGF0YS5wdXNoKHsgbmFtZTogbmFtZSwgdmFsdWU6IHZhbHVlIH0pO1xuICAgICAgICB9KTtcbiAgICAgICAgcmV0dXJuIGZvcm1EYXRhO1xuICAgICAgfVxuICAgICAgcmV0dXJuIFtdO1xuICAgIH0sXG5cbiAgICBfZ2V0VG90YWw6IGZ1bmN0aW9uIChmaWxlcykge1xuICAgICAgdmFyIHRvdGFsID0gMDtcbiAgICAgICQuZWFjaChmaWxlcywgZnVuY3Rpb24gKGluZGV4LCBmaWxlKSB7XG4gICAgICAgIHRvdGFsICs9IGZpbGUuc2l6ZSB8fCAxO1xuICAgICAgfSk7XG4gICAgICByZXR1cm4gdG90YWw7XG4gICAgfSxcblxuICAgIF9pbml0UHJvZ3Jlc3NPYmplY3Q6IGZ1bmN0aW9uIChvYmopIHtcbiAgICAgIHZhciBwcm9ncmVzcyA9IHtcbiAgICAgICAgbG9hZGVkOiAwLFxuICAgICAgICB0b3RhbDogMCxcbiAgICAgICAgYml0cmF0ZTogMFxuICAgICAgfTtcbiAgICAgIGlmIChvYmouX3Byb2dyZXNzKSB7XG4gICAgICAgICQuZXh0ZW5kKG9iai5fcHJvZ3Jlc3MsIHByb2dyZXNzKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIG9iai5fcHJvZ3Jlc3MgPSBwcm9ncmVzcztcbiAgICAgIH1cbiAgICB9LFxuXG4gICAgX2luaXRSZXNwb25zZU9iamVjdDogZnVuY3Rpb24gKG9iaikge1xuICAgICAgdmFyIHByb3A7XG4gICAgICBpZiAob2JqLl9yZXNwb25zZSkge1xuICAgICAgICBmb3IgKHByb3AgaW4gb2JqLl9yZXNwb25zZSkge1xuICAgICAgICAgIGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwob2JqLl9yZXNwb25zZSwgcHJvcCkpIHtcbiAgICAgICAgICAgIGRlbGV0ZSBvYmouX3Jlc3BvbnNlW3Byb3BdO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgb2JqLl9yZXNwb25zZSA9IHt9O1xuICAgICAgfVxuICAgIH0sXG5cbiAgICBfb25Qcm9ncmVzczogZnVuY3Rpb24gKGUsIGRhdGEpIHtcbiAgICAgIGlmIChlLmxlbmd0aENvbXB1dGFibGUpIHtcbiAgICAgICAgdmFyIG5vdyA9IERhdGUubm93ID8gRGF0ZS5ub3coKSA6IG5ldyBEYXRlKCkuZ2V0VGltZSgpLFxuICAgICAgICAgIGxvYWRlZDtcbiAgICAgICAgaWYgKFxuICAgICAgICAgIGRhdGEuX3RpbWUgJiZcbiAgICAgICAgICBkYXRhLnByb2dyZXNzSW50ZXJ2YWwgJiZcbiAgICAgICAgICBub3cgLSBkYXRhLl90aW1lIDwgZGF0YS5wcm9ncmVzc0ludGVydmFsICYmXG4gICAgICAgICAgZS5sb2FkZWQgIT09IGUudG90YWxcbiAgICAgICAgKSB7XG4gICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIGRhdGEuX3RpbWUgPSBub3c7XG4gICAgICAgIGxvYWRlZCA9XG4gICAgICAgICAgTWF0aC5mbG9vcihcbiAgICAgICAgICAgIChlLmxvYWRlZCAvIGUudG90YWwpICogKGRhdGEuY2h1bmtTaXplIHx8IGRhdGEuX3Byb2dyZXNzLnRvdGFsKVxuICAgICAgICAgICkgKyAoZGF0YS51cGxvYWRlZEJ5dGVzIHx8IDApO1xuICAgICAgICAvLyBBZGQgdGhlIGRpZmZlcmVuY2UgZnJvbSB0aGUgcHJldmlvdXNseSBsb2FkZWQgc3RhdGVcbiAgICAgICAgLy8gdG8gdGhlIGdsb2JhbCBsb2FkZWQgY291bnRlcjpcbiAgICAgICAgdGhpcy5fcHJvZ3Jlc3MubG9hZGVkICs9IGxvYWRlZCAtIGRhdGEuX3Byb2dyZXNzLmxvYWRlZDtcbiAgICAgICAgdGhpcy5fcHJvZ3Jlc3MuYml0cmF0ZSA9IHRoaXMuX2JpdHJhdGVUaW1lci5nZXRCaXRyYXRlKFxuICAgICAgICAgIG5vdyxcbiAgICAgICAgICB0aGlzLl9wcm9ncmVzcy5sb2FkZWQsXG4gICAgICAgICAgZGF0YS5iaXRyYXRlSW50ZXJ2YWxcbiAgICAgICAgKTtcbiAgICAgICAgZGF0YS5fcHJvZ3Jlc3MubG9hZGVkID0gZGF0YS5sb2FkZWQgPSBsb2FkZWQ7XG4gICAgICAgIGRhdGEuX3Byb2dyZXNzLmJpdHJhdGUgPSBkYXRhLmJpdHJhdGUgPSBkYXRhLl9iaXRyYXRlVGltZXIuZ2V0Qml0cmF0ZShcbiAgICAgICAgICBub3csXG4gICAgICAgICAgbG9hZGVkLFxuICAgICAgICAgIGRhdGEuYml0cmF0ZUludGVydmFsXG4gICAgICAgICk7XG4gICAgICAgIC8vIFRyaWdnZXIgYSBjdXN0b20gcHJvZ3Jlc3MgZXZlbnQgd2l0aCBhIHRvdGFsIGRhdGEgcHJvcGVydHkgc2V0XG4gICAgICAgIC8vIHRvIHRoZSBmaWxlIHNpemUocykgb2YgdGhlIGN1cnJlbnQgdXBsb2FkIGFuZCBhIGxvYWRlZCBkYXRhXG4gICAgICAgIC8vIHByb3BlcnR5IGNhbGN1bGF0ZWQgYWNjb3JkaW5nbHk6XG4gICAgICAgIHRoaXMuX3RyaWdnZXIoXG4gICAgICAgICAgJ3Byb2dyZXNzJyxcbiAgICAgICAgICAkLkV2ZW50KCdwcm9ncmVzcycsIHsgZGVsZWdhdGVkRXZlbnQ6IGUgfSksXG4gICAgICAgICAgZGF0YVxuICAgICAgICApO1xuICAgICAgICAvLyBUcmlnZ2VyIGEgZ2xvYmFsIHByb2dyZXNzIGV2ZW50IGZvciBhbGwgY3VycmVudCBmaWxlIHVwbG9hZHMsXG4gICAgICAgIC8vIGluY2x1ZGluZyBhamF4IGNhbGxzIHF1ZXVlZCBmb3Igc2VxdWVudGlhbCBmaWxlIHVwbG9hZHM6XG4gICAgICAgIHRoaXMuX3RyaWdnZXIoXG4gICAgICAgICAgJ3Byb2dyZXNzYWxsJyxcbiAgICAgICAgICAkLkV2ZW50KCdwcm9ncmVzc2FsbCcsIHsgZGVsZWdhdGVkRXZlbnQ6IGUgfSksXG4gICAgICAgICAgdGhpcy5fcHJvZ3Jlc3NcbiAgICAgICAgKTtcbiAgICAgIH1cbiAgICB9LFxuXG4gICAgX2luaXRQcm9ncmVzc0xpc3RlbmVyOiBmdW5jdGlvbiAob3B0aW9ucykge1xuICAgICAgdmFyIHRoYXQgPSB0aGlzLFxuICAgICAgICB4aHIgPSBvcHRpb25zLnhociA/IG9wdGlvbnMueGhyKCkgOiAkLmFqYXhTZXR0aW5ncy54aHIoKTtcbiAgICAgIC8vIEFjY2VzcyB0byB0aGUgbmF0aXZlIFhIUiBvYmplY3QgaXMgcmVxdWlyZWQgdG8gYWRkIGV2ZW50IGxpc3RlbmVyc1xuICAgICAgLy8gZm9yIHRoZSB1cGxvYWQgcHJvZ3Jlc3MgZXZlbnQ6XG4gICAgICBpZiAoeGhyLnVwbG9hZCkge1xuICAgICAgICAkKHhoci51cGxvYWQpLm9uKCdwcm9ncmVzcycsIGZ1bmN0aW9uIChlKSB7XG4gICAgICAgICAgdmFyIG9lID0gZS5vcmlnaW5hbEV2ZW50O1xuICAgICAgICAgIC8vIE1ha2Ugc3VyZSB0aGUgcHJvZ3Jlc3MgZXZlbnQgcHJvcGVydGllcyBnZXQgY29waWVkIG92ZXI6XG4gICAgICAgICAgZS5sZW5ndGhDb21wdXRhYmxlID0gb2UubGVuZ3RoQ29tcHV0YWJsZTtcbiAgICAgICAgICBlLmxvYWRlZCA9IG9lLmxvYWRlZDtcbiAgICAgICAgICBlLnRvdGFsID0gb2UudG90YWw7XG4gICAgICAgICAgdGhhdC5fb25Qcm9ncmVzcyhlLCBvcHRpb25zKTtcbiAgICAgICAgfSk7XG4gICAgICAgIG9wdGlvbnMueGhyID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAgIHJldHVybiB4aHI7XG4gICAgICAgIH07XG4gICAgICB9XG4gICAgfSxcblxuICAgIF9kZWluaXRQcm9ncmVzc0xpc3RlbmVyOiBmdW5jdGlvbiAob3B0aW9ucykge1xuICAgICAgdmFyIHhociA9IG9wdGlvbnMueGhyID8gb3B0aW9ucy54aHIoKSA6ICQuYWpheFNldHRpbmdzLnhocigpO1xuICAgICAgaWYgKHhoci51cGxvYWQpIHtcbiAgICAgICAgJCh4aHIudXBsb2FkKS5vZmYoJ3Byb2dyZXNzJyk7XG4gICAgICB9XG4gICAgfSxcblxuICAgIF9pc0luc3RhbmNlT2Y6IGZ1bmN0aW9uICh0eXBlLCBvYmopIHtcbiAgICAgIC8vIENyb3NzLWZyYW1lIGluc3RhbmNlb2YgY2hlY2tcbiAgICAgIHJldHVybiBPYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwob2JqKSA9PT0gJ1tvYmplY3QgJyArIHR5cGUgKyAnXSc7XG4gICAgfSxcblxuICAgIF9nZXRVbmlxdWVGaWxlbmFtZTogZnVuY3Rpb24gKG5hbWUsIG1hcCkge1xuICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLXBhcmFtLXJlYXNzaWduXG4gICAgICBuYW1lID0gU3RyaW5nKG5hbWUpO1xuICAgICAgaWYgKG1hcFtuYW1lXSkge1xuICAgICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tcGFyYW0tcmVhc3NpZ25cbiAgICAgICAgbmFtZSA9IG5hbWUucmVwbGFjZShcbiAgICAgICAgICAvKD86IFxcKChbXFxkXSspXFwpKT8oXFwuW14uXSspPyQvLFxuICAgICAgICAgIGZ1bmN0aW9uIChfLCBwMSwgcDIpIHtcbiAgICAgICAgICAgIHZhciBpbmRleCA9IHAxID8gTnVtYmVyKHAxKSArIDEgOiAxO1xuICAgICAgICAgICAgdmFyIGV4dCA9IHAyIHx8ICcnO1xuICAgICAgICAgICAgcmV0dXJuICcgKCcgKyBpbmRleCArICcpJyArIGV4dDtcbiAgICAgICAgICB9XG4gICAgICAgICk7XG4gICAgICAgIHJldHVybiB0aGlzLl9nZXRVbmlxdWVGaWxlbmFtZShuYW1lLCBtYXApO1xuICAgICAgfVxuICAgICAgbWFwW25hbWVdID0gdHJ1ZTtcbiAgICAgIHJldHVybiBuYW1lO1xuICAgIH0sXG5cbiAgICBfaW5pdFhIUkRhdGE6IGZ1bmN0aW9uIChvcHRpb25zKSB7XG4gICAgICB2YXIgdGhhdCA9IHRoaXMsXG4gICAgICAgIGZvcm1EYXRhLFxuICAgICAgICBmaWxlID0gb3B0aW9ucy5maWxlc1swXSxcbiAgICAgICAgLy8gSWdub3JlIG5vbi1tdWx0aXBhcnQgc2V0dGluZyBpZiBub3Qgc3VwcG9ydGVkOlxuICAgICAgICBtdWx0aXBhcnQgPSBvcHRpb25zLm11bHRpcGFydCB8fCAhJC5zdXBwb3J0LnhockZpbGVVcGxvYWQsXG4gICAgICAgIHBhcmFtTmFtZSA9XG4gICAgICAgICAgJC50eXBlKG9wdGlvbnMucGFyYW1OYW1lKSA9PT0gJ2FycmF5J1xuICAgICAgICAgICAgPyBvcHRpb25zLnBhcmFtTmFtZVswXVxuICAgICAgICAgICAgOiBvcHRpb25zLnBhcmFtTmFtZTtcbiAgICAgIG9wdGlvbnMuaGVhZGVycyA9ICQuZXh0ZW5kKHt9LCBvcHRpb25zLmhlYWRlcnMpO1xuICAgICAgaWYgKG9wdGlvbnMuY29udGVudFJhbmdlKSB7XG4gICAgICAgIG9wdGlvbnMuaGVhZGVyc1snQ29udGVudC1SYW5nZSddID0gb3B0aW9ucy5jb250ZW50UmFuZ2U7XG4gICAgICB9XG4gICAgICBpZiAoIW11bHRpcGFydCB8fCBvcHRpb25zLmJsb2IgfHwgIXRoaXMuX2lzSW5zdGFuY2VPZignRmlsZScsIGZpbGUpKSB7XG4gICAgICAgIG9wdGlvbnMuaGVhZGVyc1snQ29udGVudC1EaXNwb3NpdGlvbiddID1cbiAgICAgICAgICAnYXR0YWNobWVudDsgZmlsZW5hbWU9XCInICtcbiAgICAgICAgICBlbmNvZGVVUkkoZmlsZS51cGxvYWROYW1lIHx8IGZpbGUubmFtZSkgK1xuICAgICAgICAgICdcIic7XG4gICAgICB9XG4gICAgICBpZiAoIW11bHRpcGFydCkge1xuICAgICAgICBvcHRpb25zLmNvbnRlbnRUeXBlID0gZmlsZS50eXBlIHx8ICdhcHBsaWNhdGlvbi9vY3RldC1zdHJlYW0nO1xuICAgICAgICBvcHRpb25zLmRhdGEgPSBvcHRpb25zLmJsb2IgfHwgZmlsZTtcbiAgICAgIH0gZWxzZSBpZiAoJC5zdXBwb3J0LnhockZvcm1EYXRhRmlsZVVwbG9hZCkge1xuICAgICAgICBpZiAob3B0aW9ucy5wb3N0TWVzc2FnZSkge1xuICAgICAgICAgIC8vIHdpbmRvdy5wb3N0TWVzc2FnZSBkb2VzIG5vdCBhbGxvdyBzZW5kaW5nIEZvcm1EYXRhXG4gICAgICAgICAgLy8gb2JqZWN0cywgc28gd2UganVzdCBhZGQgdGhlIEZpbGUvQmxvYiBvYmplY3RzIHRvXG4gICAgICAgICAgLy8gdGhlIGZvcm1EYXRhIGFycmF5IGFuZCBsZXQgdGhlIHBvc3RNZXNzYWdlIHdpbmRvd1xuICAgICAgICAgIC8vIGNyZWF0ZSB0aGUgRm9ybURhdGEgb2JqZWN0IG91dCBvZiB0aGlzIGFycmF5OlxuICAgICAgICAgIGZvcm1EYXRhID0gdGhpcy5fZ2V0Rm9ybURhdGEob3B0aW9ucyk7XG4gICAgICAgICAgaWYgKG9wdGlvbnMuYmxvYikge1xuICAgICAgICAgICAgZm9ybURhdGEucHVzaCh7XG4gICAgICAgICAgICAgIG5hbWU6IHBhcmFtTmFtZSxcbiAgICAgICAgICAgICAgdmFsdWU6IG9wdGlvbnMuYmxvYlxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICQuZWFjaChvcHRpb25zLmZpbGVzLCBmdW5jdGlvbiAoaW5kZXgsIGZpbGUpIHtcbiAgICAgICAgICAgICAgZm9ybURhdGEucHVzaCh7XG4gICAgICAgICAgICAgICAgbmFtZTpcbiAgICAgICAgICAgICAgICAgICgkLnR5cGUob3B0aW9ucy5wYXJhbU5hbWUpID09PSAnYXJyYXknICYmXG4gICAgICAgICAgICAgICAgICAgIG9wdGlvbnMucGFyYW1OYW1lW2luZGV4XSkgfHxcbiAgICAgICAgICAgICAgICAgIHBhcmFtTmFtZSxcbiAgICAgICAgICAgICAgICB2YWx1ZTogZmlsZVxuICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBpZiAodGhhdC5faXNJbnN0YW5jZU9mKCdGb3JtRGF0YScsIG9wdGlvbnMuZm9ybURhdGEpKSB7XG4gICAgICAgICAgICBmb3JtRGF0YSA9IG9wdGlvbnMuZm9ybURhdGE7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGZvcm1EYXRhID0gbmV3IEZvcm1EYXRhKCk7XG4gICAgICAgICAgICAkLmVhY2godGhpcy5fZ2V0Rm9ybURhdGEob3B0aW9ucyksIGZ1bmN0aW9uIChpbmRleCwgZmllbGQpIHtcbiAgICAgICAgICAgICAgZm9ybURhdGEuYXBwZW5kKGZpZWxkLm5hbWUsIGZpZWxkLnZhbHVlKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgIH1cbiAgICAgICAgICBpZiAob3B0aW9ucy5ibG9iKSB7XG4gICAgICAgICAgICBmb3JtRGF0YS5hcHBlbmQoXG4gICAgICAgICAgICAgIHBhcmFtTmFtZSxcbiAgICAgICAgICAgICAgb3B0aW9ucy5ibG9iLFxuICAgICAgICAgICAgICBmaWxlLnVwbG9hZE5hbWUgfHwgZmlsZS5uYW1lXG4gICAgICAgICAgICApO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAkLmVhY2gob3B0aW9ucy5maWxlcywgZnVuY3Rpb24gKGluZGV4LCBmaWxlKSB7XG4gICAgICAgICAgICAgIC8vIFRoaXMgY2hlY2sgYWxsb3dzIHRoZSB0ZXN0cyB0byBydW4gd2l0aFxuICAgICAgICAgICAgICAvLyBkdW1teSBvYmplY3RzOlxuICAgICAgICAgICAgICBpZiAoXG4gICAgICAgICAgICAgICAgdGhhdC5faXNJbnN0YW5jZU9mKCdGaWxlJywgZmlsZSkgfHxcbiAgICAgICAgICAgICAgICB0aGF0Ll9pc0luc3RhbmNlT2YoJ0Jsb2InLCBmaWxlKVxuICAgICAgICAgICAgICApIHtcbiAgICAgICAgICAgICAgICB2YXIgZmlsZU5hbWUgPSBmaWxlLnVwbG9hZE5hbWUgfHwgZmlsZS5uYW1lO1xuICAgICAgICAgICAgICAgIGlmIChvcHRpb25zLnVuaXF1ZUZpbGVuYW1lcykge1xuICAgICAgICAgICAgICAgICAgZmlsZU5hbWUgPSB0aGF0Ll9nZXRVbmlxdWVGaWxlbmFtZShcbiAgICAgICAgICAgICAgICAgICAgZmlsZU5hbWUsXG4gICAgICAgICAgICAgICAgICAgIG9wdGlvbnMudW5pcXVlRmlsZW5hbWVzXG4gICAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBmb3JtRGF0YS5hcHBlbmQoXG4gICAgICAgICAgICAgICAgICAoJC50eXBlKG9wdGlvbnMucGFyYW1OYW1lKSA9PT0gJ2FycmF5JyAmJlxuICAgICAgICAgICAgICAgICAgICBvcHRpb25zLnBhcmFtTmFtZVtpbmRleF0pIHx8XG4gICAgICAgICAgICAgICAgICAgIHBhcmFtTmFtZSxcbiAgICAgICAgICAgICAgICAgIGZpbGUsXG4gICAgICAgICAgICAgICAgICBmaWxlTmFtZVxuICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBvcHRpb25zLmRhdGEgPSBmb3JtRGF0YTtcbiAgICAgIH1cbiAgICAgIC8vIEJsb2IgcmVmZXJlbmNlIGlzIG5vdCBuZWVkZWQgYW55bW9yZSwgZnJlZSBtZW1vcnk6XG4gICAgICBvcHRpb25zLmJsb2IgPSBudWxsO1xuICAgIH0sXG5cbiAgICBfaW5pdElmcmFtZVNldHRpbmdzOiBmdW5jdGlvbiAob3B0aW9ucykge1xuICAgICAgdmFyIHRhcmdldEhvc3QgPSAkKCc8YT48L2E+JykucHJvcCgnaHJlZicsIG9wdGlvbnMudXJsKS5wcm9wKCdob3N0Jyk7XG4gICAgICAvLyBTZXR0aW5nIHRoZSBkYXRhVHlwZSB0byBpZnJhbWUgZW5hYmxlcyB0aGUgaWZyYW1lIHRyYW5zcG9ydDpcbiAgICAgIG9wdGlvbnMuZGF0YVR5cGUgPSAnaWZyYW1lICcgKyAob3B0aW9ucy5kYXRhVHlwZSB8fCAnJyk7XG4gICAgICAvLyBUaGUgaWZyYW1lIHRyYW5zcG9ydCBhY2NlcHRzIGEgc2VyaWFsaXplZCBhcnJheSBhcyBmb3JtIGRhdGE6XG4gICAgICBvcHRpb25zLmZvcm1EYXRhID0gdGhpcy5fZ2V0Rm9ybURhdGEob3B0aW9ucyk7XG4gICAgICAvLyBBZGQgcmVkaXJlY3QgdXJsIHRvIGZvcm0gZGF0YSBvbiBjcm9zcy1kb21haW4gdXBsb2FkczpcbiAgICAgIGlmIChvcHRpb25zLnJlZGlyZWN0ICYmIHRhcmdldEhvc3QgJiYgdGFyZ2V0SG9zdCAhPT0gbG9jYXRpb24uaG9zdCkge1xuICAgICAgICBvcHRpb25zLmZvcm1EYXRhLnB1c2goe1xuICAgICAgICAgIG5hbWU6IG9wdGlvbnMucmVkaXJlY3RQYXJhbU5hbWUgfHwgJ3JlZGlyZWN0JyxcbiAgICAgICAgICB2YWx1ZTogb3B0aW9ucy5yZWRpcmVjdFxuICAgICAgICB9KTtcbiAgICAgIH1cbiAgICB9LFxuXG4gICAgX2luaXREYXRhU2V0dGluZ3M6IGZ1bmN0aW9uIChvcHRpb25zKSB7XG4gICAgICBpZiAodGhpcy5faXNYSFJVcGxvYWQob3B0aW9ucykpIHtcbiAgICAgICAgaWYgKCF0aGlzLl9jaHVua2VkVXBsb2FkKG9wdGlvbnMsIHRydWUpKSB7XG4gICAgICAgICAgaWYgKCFvcHRpb25zLmRhdGEpIHtcbiAgICAgICAgICAgIHRoaXMuX2luaXRYSFJEYXRhKG9wdGlvbnMpO1xuICAgICAgICAgIH1cbiAgICAgICAgICB0aGlzLl9pbml0UHJvZ3Jlc3NMaXN0ZW5lcihvcHRpb25zKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAob3B0aW9ucy5wb3N0TWVzc2FnZSkge1xuICAgICAgICAgIC8vIFNldHRpbmcgdGhlIGRhdGFUeXBlIHRvIHBvc3RtZXNzYWdlIGVuYWJsZXMgdGhlXG4gICAgICAgICAgLy8gcG9zdE1lc3NhZ2UgdHJhbnNwb3J0OlxuICAgICAgICAgIG9wdGlvbnMuZGF0YVR5cGUgPSAncG9zdG1lc3NhZ2UgJyArIChvcHRpb25zLmRhdGFUeXBlIHx8ICcnKTtcbiAgICAgICAgfVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdGhpcy5faW5pdElmcmFtZVNldHRpbmdzKG9wdGlvbnMpO1xuICAgICAgfVxuICAgIH0sXG5cbiAgICBfZ2V0UGFyYW1OYW1lOiBmdW5jdGlvbiAob3B0aW9ucykge1xuICAgICAgdmFyIGZpbGVJbnB1dCA9ICQob3B0aW9ucy5maWxlSW5wdXQpLFxuICAgICAgICBwYXJhbU5hbWUgPSBvcHRpb25zLnBhcmFtTmFtZTtcbiAgICAgIGlmICghcGFyYW1OYW1lKSB7XG4gICAgICAgIHBhcmFtTmFtZSA9IFtdO1xuICAgICAgICBmaWxlSW5wdXQuZWFjaChmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgdmFyIGlucHV0ID0gJCh0aGlzKSxcbiAgICAgICAgICAgIG5hbWUgPSBpbnB1dC5wcm9wKCduYW1lJykgfHwgJ2ZpbGVzW10nLFxuICAgICAgICAgICAgaSA9IChpbnB1dC5wcm9wKCdmaWxlcycpIHx8IFsxXSkubGVuZ3RoO1xuICAgICAgICAgIHdoaWxlIChpKSB7XG4gICAgICAgICAgICBwYXJhbU5hbWUucHVzaChuYW1lKTtcbiAgICAgICAgICAgIGkgLT0gMTtcbiAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgICBpZiAoIXBhcmFtTmFtZS5sZW5ndGgpIHtcbiAgICAgICAgICBwYXJhbU5hbWUgPSBbZmlsZUlucHV0LnByb3AoJ25hbWUnKSB8fCAnZmlsZXNbXSddO1xuICAgICAgICB9XG4gICAgICB9IGVsc2UgaWYgKCEkLmlzQXJyYXkocGFyYW1OYW1lKSkge1xuICAgICAgICBwYXJhbU5hbWUgPSBbcGFyYW1OYW1lXTtcbiAgICAgIH1cbiAgICAgIHJldHVybiBwYXJhbU5hbWU7XG4gICAgfSxcblxuICAgIF9pbml0Rm9ybVNldHRpbmdzOiBmdW5jdGlvbiAob3B0aW9ucykge1xuICAgICAgLy8gUmV0cmlldmUgbWlzc2luZyBvcHRpb25zIGZyb20gdGhlIGlucHV0IGZpZWxkIGFuZCB0aGVcbiAgICAgIC8vIGFzc29jaWF0ZWQgZm9ybSwgaWYgYXZhaWxhYmxlOlxuICAgICAgaWYgKCFvcHRpb25zLmZvcm0gfHwgIW9wdGlvbnMuZm9ybS5sZW5ndGgpIHtcbiAgICAgICAgb3B0aW9ucy5mb3JtID0gJChvcHRpb25zLmZpbGVJbnB1dC5wcm9wKCdmb3JtJykpO1xuICAgICAgICAvLyBJZiB0aGUgZ2l2ZW4gZmlsZSBpbnB1dCBkb2Vzbid0IGhhdmUgYW4gYXNzb2NpYXRlZCBmb3JtLFxuICAgICAgICAvLyB1c2UgdGhlIGRlZmF1bHQgd2lkZ2V0IGZpbGUgaW5wdXQncyBmb3JtOlxuICAgICAgICBpZiAoIW9wdGlvbnMuZm9ybS5sZW5ndGgpIHtcbiAgICAgICAgICBvcHRpb25zLmZvcm0gPSAkKHRoaXMub3B0aW9ucy5maWxlSW5wdXQucHJvcCgnZm9ybScpKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgb3B0aW9ucy5wYXJhbU5hbWUgPSB0aGlzLl9nZXRQYXJhbU5hbWUob3B0aW9ucyk7XG4gICAgICBpZiAoIW9wdGlvbnMudXJsKSB7XG4gICAgICAgIG9wdGlvbnMudXJsID0gb3B0aW9ucy5mb3JtLnByb3AoJ2FjdGlvbicpIHx8IGxvY2F0aW9uLmhyZWY7XG4gICAgICB9XG4gICAgICAvLyBUaGUgSFRUUCByZXF1ZXN0IG1ldGhvZCBtdXN0IGJlIFwiUE9TVFwiIG9yIFwiUFVUXCI6XG4gICAgICBvcHRpb25zLnR5cGUgPSAoXG4gICAgICAgIG9wdGlvbnMudHlwZSB8fFxuICAgICAgICAoJC50eXBlKG9wdGlvbnMuZm9ybS5wcm9wKCdtZXRob2QnKSkgPT09ICdzdHJpbmcnICYmXG4gICAgICAgICAgb3B0aW9ucy5mb3JtLnByb3AoJ21ldGhvZCcpKSB8fFxuICAgICAgICAnJ1xuICAgICAgKS50b1VwcGVyQ2FzZSgpO1xuICAgICAgaWYgKFxuICAgICAgICBvcHRpb25zLnR5cGUgIT09ICdQT1NUJyAmJlxuICAgICAgICBvcHRpb25zLnR5cGUgIT09ICdQVVQnICYmXG4gICAgICAgIG9wdGlvbnMudHlwZSAhPT0gJ1BBVENIJ1xuICAgICAgKSB7XG4gICAgICAgIG9wdGlvbnMudHlwZSA9ICdQT1NUJztcbiAgICAgIH1cbiAgICAgIGlmICghb3B0aW9ucy5mb3JtQWNjZXB0Q2hhcnNldCkge1xuICAgICAgICBvcHRpb25zLmZvcm1BY2NlcHRDaGFyc2V0ID0gb3B0aW9ucy5mb3JtLmF0dHIoJ2FjY2VwdC1jaGFyc2V0Jyk7XG4gICAgICB9XG4gICAgfSxcblxuICAgIF9nZXRBSkFYU2V0dGluZ3M6IGZ1bmN0aW9uIChkYXRhKSB7XG4gICAgICB2YXIgb3B0aW9ucyA9ICQuZXh0ZW5kKHt9LCB0aGlzLm9wdGlvbnMsIGRhdGEpO1xuICAgICAgdGhpcy5faW5pdEZvcm1TZXR0aW5ncyhvcHRpb25zKTtcbiAgICAgIHRoaXMuX2luaXREYXRhU2V0dGluZ3Mob3B0aW9ucyk7XG4gICAgICByZXR1cm4gb3B0aW9ucztcbiAgICB9LFxuXG4gICAgLy8galF1ZXJ5IDEuNiBkb2Vzbid0IHByb3ZpZGUgLnN0YXRlKCksXG4gICAgLy8gd2hpbGUgalF1ZXJ5IDEuOCsgcmVtb3ZlZCAuaXNSZWplY3RlZCgpIGFuZCAuaXNSZXNvbHZlZCgpOlxuICAgIF9nZXREZWZlcnJlZFN0YXRlOiBmdW5jdGlvbiAoZGVmZXJyZWQpIHtcbiAgICAgIGlmIChkZWZlcnJlZC5zdGF0ZSkge1xuICAgICAgICByZXR1cm4gZGVmZXJyZWQuc3RhdGUoKTtcbiAgICAgIH1cbiAgICAgIGlmIChkZWZlcnJlZC5pc1Jlc29sdmVkKCkpIHtcbiAgICAgICAgcmV0dXJuICdyZXNvbHZlZCc7XG4gICAgICB9XG4gICAgICBpZiAoZGVmZXJyZWQuaXNSZWplY3RlZCgpKSB7XG4gICAgICAgIHJldHVybiAncmVqZWN0ZWQnO1xuICAgICAgfVxuICAgICAgcmV0dXJuICdwZW5kaW5nJztcbiAgICB9LFxuXG4gICAgLy8gTWFwcyBqcVhIUiBjYWxsYmFja3MgdG8gdGhlIGVxdWl2YWxlbnRcbiAgICAvLyBtZXRob2RzIG9mIHRoZSBnaXZlbiBQcm9taXNlIG9iamVjdDpcbiAgICBfZW5oYW5jZVByb21pc2U6IGZ1bmN0aW9uIChwcm9taXNlKSB7XG4gICAgICBwcm9taXNlLnN1Y2Nlc3MgPSBwcm9taXNlLmRvbmU7XG4gICAgICBwcm9taXNlLmVycm9yID0gcHJvbWlzZS5mYWlsO1xuICAgICAgcHJvbWlzZS5jb21wbGV0ZSA9IHByb21pc2UuYWx3YXlzO1xuICAgICAgcmV0dXJuIHByb21pc2U7XG4gICAgfSxcblxuICAgIC8vIENyZWF0ZXMgYW5kIHJldHVybnMgYSBQcm9taXNlIG9iamVjdCBlbmhhbmNlZCB3aXRoXG4gICAgLy8gdGhlIGpxWEhSIG1ldGhvZHMgYWJvcnQsIHN1Y2Nlc3MsIGVycm9yIGFuZCBjb21wbGV0ZTpcbiAgICBfZ2V0WEhSUHJvbWlzZTogZnVuY3Rpb24gKHJlc29sdmVPclJlamVjdCwgY29udGV4dCwgYXJncykge1xuICAgICAgdmFyIGRmZCA9ICQuRGVmZXJyZWQoKSxcbiAgICAgICAgcHJvbWlzZSA9IGRmZC5wcm9taXNlKCk7XG4gICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tcGFyYW0tcmVhc3NpZ25cbiAgICAgIGNvbnRleHQgPSBjb250ZXh0IHx8IHRoaXMub3B0aW9ucy5jb250ZXh0IHx8IHByb21pc2U7XG4gICAgICBpZiAocmVzb2x2ZU9yUmVqZWN0ID09PSB0cnVlKSB7XG4gICAgICAgIGRmZC5yZXNvbHZlV2l0aChjb250ZXh0LCBhcmdzKTtcbiAgICAgIH0gZWxzZSBpZiAocmVzb2x2ZU9yUmVqZWN0ID09PSBmYWxzZSkge1xuICAgICAgICBkZmQucmVqZWN0V2l0aChjb250ZXh0LCBhcmdzKTtcbiAgICAgIH1cbiAgICAgIHByb21pc2UuYWJvcnQgPSBkZmQucHJvbWlzZTtcbiAgICAgIHJldHVybiB0aGlzLl9lbmhhbmNlUHJvbWlzZShwcm9taXNlKTtcbiAgICB9LFxuXG4gICAgLy8gQWRkcyBjb252ZW5pZW5jZSBtZXRob2RzIHRvIHRoZSBkYXRhIGNhbGxiYWNrIGFyZ3VtZW50OlxuICAgIF9hZGRDb252ZW5pZW5jZU1ldGhvZHM6IGZ1bmN0aW9uIChlLCBkYXRhKSB7XG4gICAgICB2YXIgdGhhdCA9IHRoaXMsXG4gICAgICAgIGdldFByb21pc2UgPSBmdW5jdGlvbiAoYXJncykge1xuICAgICAgICAgIHJldHVybiAkLkRlZmVycmVkKCkucmVzb2x2ZVdpdGgodGhhdCwgYXJncykucHJvbWlzZSgpO1xuICAgICAgICB9O1xuICAgICAgZGF0YS5wcm9jZXNzID0gZnVuY3Rpb24gKHJlc29sdmVGdW5jLCByZWplY3RGdW5jKSB7XG4gICAgICAgIGlmIChyZXNvbHZlRnVuYyB8fCByZWplY3RGdW5jKSB7XG4gICAgICAgICAgZGF0YS5fcHJvY2Vzc1F1ZXVlID0gdGhpcy5fcHJvY2Vzc1F1ZXVlID0gKHRoaXMuX3Byb2Nlc3NRdWV1ZSB8fFxuICAgICAgICAgICAgZ2V0UHJvbWlzZShbdGhpc10pKVxuICAgICAgICAgICAgW3RoYXQuX3Byb21pc2VQaXBlXShmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgIGlmIChkYXRhLmVycm9yVGhyb3duKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuICQuRGVmZXJyZWQoKS5yZWplY3RXaXRoKHRoYXQsIFtkYXRhXSkucHJvbWlzZSgpO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIHJldHVybiBnZXRQcm9taXNlKGFyZ3VtZW50cyk7XG4gICAgICAgICAgICB9KVxuICAgICAgICAgICAgW3RoYXQuX3Byb21pc2VQaXBlXShyZXNvbHZlRnVuYywgcmVqZWN0RnVuYyk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRoaXMuX3Byb2Nlc3NRdWV1ZSB8fCBnZXRQcm9taXNlKFt0aGlzXSk7XG4gICAgICB9O1xuICAgICAgZGF0YS5zdWJtaXQgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIGlmICh0aGlzLnN0YXRlKCkgIT09ICdwZW5kaW5nJykge1xuICAgICAgICAgIGRhdGEuanFYSFIgPSB0aGlzLmpxWEhSID1cbiAgICAgICAgICAgIHRoYXQuX3RyaWdnZXIoXG4gICAgICAgICAgICAgICdzdWJtaXQnLFxuICAgICAgICAgICAgICAkLkV2ZW50KCdzdWJtaXQnLCB7IGRlbGVnYXRlZEV2ZW50OiBlIH0pLFxuICAgICAgICAgICAgICB0aGlzXG4gICAgICAgICAgICApICE9PSBmYWxzZSAmJiB0aGF0Ll9vblNlbmQoZSwgdGhpcyk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRoaXMuanFYSFIgfHwgdGhhdC5fZ2V0WEhSUHJvbWlzZSgpO1xuICAgICAgfTtcbiAgICAgIGRhdGEuYWJvcnQgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIGlmICh0aGlzLmpxWEhSKSB7XG4gICAgICAgICAgcmV0dXJuIHRoaXMuanFYSFIuYWJvcnQoKTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLmVycm9yVGhyb3duID0gJ2Fib3J0JztcbiAgICAgICAgdGhhdC5fdHJpZ2dlcignZmFpbCcsIG51bGwsIHRoaXMpO1xuICAgICAgICByZXR1cm4gdGhhdC5fZ2V0WEhSUHJvbWlzZShmYWxzZSk7XG4gICAgICB9O1xuICAgICAgZGF0YS5zdGF0ZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgaWYgKHRoaXMuanFYSFIpIHtcbiAgICAgICAgICByZXR1cm4gdGhhdC5fZ2V0RGVmZXJyZWRTdGF0ZSh0aGlzLmpxWEhSKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAodGhpcy5fcHJvY2Vzc1F1ZXVlKSB7XG4gICAgICAgICAgcmV0dXJuIHRoYXQuX2dldERlZmVycmVkU3RhdGUodGhpcy5fcHJvY2Vzc1F1ZXVlKTtcbiAgICAgICAgfVxuICAgICAgfTtcbiAgICAgIGRhdGEucHJvY2Vzc2luZyA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIChcbiAgICAgICAgICAhdGhpcy5qcVhIUiAmJlxuICAgICAgICAgIHRoaXMuX3Byb2Nlc3NRdWV1ZSAmJlxuICAgICAgICAgIHRoYXQuX2dldERlZmVycmVkU3RhdGUodGhpcy5fcHJvY2Vzc1F1ZXVlKSA9PT0gJ3BlbmRpbmcnXG4gICAgICAgICk7XG4gICAgICB9O1xuICAgICAgZGF0YS5wcm9ncmVzcyA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX3Byb2dyZXNzO1xuICAgICAgfTtcbiAgICAgIGRhdGEucmVzcG9uc2UgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9yZXNwb25zZTtcbiAgICAgIH07XG4gICAgfSxcblxuICAgIC8vIFBhcnNlcyB0aGUgUmFuZ2UgaGVhZGVyIGZyb20gdGhlIHNlcnZlciByZXNwb25zZVxuICAgIC8vIGFuZCByZXR1cm5zIHRoZSB1cGxvYWRlZCBieXRlczpcbiAgICBfZ2V0VXBsb2FkZWRCeXRlczogZnVuY3Rpb24gKGpxWEhSKSB7XG4gICAgICB2YXIgcmFuZ2UgPSBqcVhIUi5nZXRSZXNwb25zZUhlYWRlcignUmFuZ2UnKSxcbiAgICAgICAgcGFydHMgPSByYW5nZSAmJiByYW5nZS5zcGxpdCgnLScpLFxuICAgICAgICB1cHBlckJ5dGVzUG9zID0gcGFydHMgJiYgcGFydHMubGVuZ3RoID4gMSAmJiBwYXJzZUludChwYXJ0c1sxXSwgMTApO1xuICAgICAgcmV0dXJuIHVwcGVyQnl0ZXNQb3MgJiYgdXBwZXJCeXRlc1BvcyArIDE7XG4gICAgfSxcblxuICAgIC8vIFVwbG9hZHMgYSBmaWxlIGluIG11bHRpcGxlLCBzZXF1ZW50aWFsIHJlcXVlc3RzXG4gICAgLy8gYnkgc3BsaXR0aW5nIHRoZSBmaWxlIHVwIGluIG11bHRpcGxlIGJsb2IgY2h1bmtzLlxuICAgIC8vIElmIHRoZSBzZWNvbmQgcGFyYW1ldGVyIGlzIHRydWUsIG9ubHkgdGVzdHMgaWYgdGhlIGZpbGVcbiAgICAvLyBzaG91bGQgYmUgdXBsb2FkZWQgaW4gY2h1bmtzLCBidXQgZG9lcyBub3QgaW52b2tlIGFueVxuICAgIC8vIHVwbG9hZCByZXF1ZXN0czpcbiAgICBfY2h1bmtlZFVwbG9hZDogZnVuY3Rpb24gKG9wdGlvbnMsIHRlc3RPbmx5KSB7XG4gICAgICBvcHRpb25zLnVwbG9hZGVkQnl0ZXMgPSBvcHRpb25zLnVwbG9hZGVkQnl0ZXMgfHwgMDtcbiAgICAgIHZhciB0aGF0ID0gdGhpcyxcbiAgICAgICAgZmlsZSA9IG9wdGlvbnMuZmlsZXNbMF0sXG4gICAgICAgIGZzID0gZmlsZS5zaXplLFxuICAgICAgICB1YiA9IG9wdGlvbnMudXBsb2FkZWRCeXRlcyxcbiAgICAgICAgbWNzID0gb3B0aW9ucy5tYXhDaHVua1NpemUgfHwgZnMsXG4gICAgICAgIHNsaWNlID0gdGhpcy5fYmxvYlNsaWNlLFxuICAgICAgICBkZmQgPSAkLkRlZmVycmVkKCksXG4gICAgICAgIHByb21pc2UgPSBkZmQucHJvbWlzZSgpLFxuICAgICAgICBqcVhIUixcbiAgICAgICAgdXBsb2FkO1xuICAgICAgaWYgKFxuICAgICAgICAhKFxuICAgICAgICAgIHRoaXMuX2lzWEhSVXBsb2FkKG9wdGlvbnMpICYmXG4gICAgICAgICAgc2xpY2UgJiZcbiAgICAgICAgICAodWIgfHwgKCQudHlwZShtY3MpID09PSAnZnVuY3Rpb24nID8gbWNzKG9wdGlvbnMpIDogbWNzKSA8IGZzKVxuICAgICAgICApIHx8XG4gICAgICAgIG9wdGlvbnMuZGF0YVxuICAgICAgKSB7XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgIH1cbiAgICAgIGlmICh0ZXN0T25seSkge1xuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgIH1cbiAgICAgIGlmICh1YiA+PSBmcykge1xuICAgICAgICBmaWxlLmVycm9yID0gb3B0aW9ucy5pMThuKCd1cGxvYWRlZEJ5dGVzJyk7XG4gICAgICAgIHJldHVybiB0aGlzLl9nZXRYSFJQcm9taXNlKGZhbHNlLCBvcHRpb25zLmNvbnRleHQsIFtcbiAgICAgICAgICBudWxsLFxuICAgICAgICAgICdlcnJvcicsXG4gICAgICAgICAgZmlsZS5lcnJvclxuICAgICAgICBdKTtcbiAgICAgIH1cbiAgICAgIC8vIFRoZSBjaHVuayB1cGxvYWQgbWV0aG9kOlxuICAgICAgdXBsb2FkID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAvLyBDbG9uZSB0aGUgb3B0aW9ucyBvYmplY3QgZm9yIGVhY2ggY2h1bmsgdXBsb2FkOlxuICAgICAgICB2YXIgbyA9ICQuZXh0ZW5kKHt9LCBvcHRpb25zKSxcbiAgICAgICAgICBjdXJyZW50TG9hZGVkID0gby5fcHJvZ3Jlc3MubG9hZGVkO1xuICAgICAgICBvLmJsb2IgPSBzbGljZS5jYWxsKFxuICAgICAgICAgIGZpbGUsXG4gICAgICAgICAgdWIsXG4gICAgICAgICAgdWIgKyAoJC50eXBlKG1jcykgPT09ICdmdW5jdGlvbicgPyBtY3MobykgOiBtY3MpLFxuICAgICAgICAgIGZpbGUudHlwZVxuICAgICAgICApO1xuICAgICAgICAvLyBTdG9yZSB0aGUgY3VycmVudCBjaHVuayBzaXplLCBhcyB0aGUgYmxvYiBpdHNlbGZcbiAgICAgICAgLy8gd2lsbCBiZSBkZXJlZmVyZW5jZWQgYWZ0ZXIgZGF0YSBwcm9jZXNzaW5nOlxuICAgICAgICBvLmNodW5rU2l6ZSA9IG8uYmxvYi5zaXplO1xuICAgICAgICAvLyBFeHBvc2UgdGhlIGNodW5rIGJ5dGVzIHBvc2l0aW9uIHJhbmdlOlxuICAgICAgICBvLmNvbnRlbnRSYW5nZSA9XG4gICAgICAgICAgJ2J5dGVzICcgKyB1YiArICctJyArICh1YiArIG8uY2h1bmtTaXplIC0gMSkgKyAnLycgKyBmcztcbiAgICAgICAgLy8gVHJpZ2dlciBjaHVua2JlZm9yZXNlbmQgdG8gYWxsb3cgZm9ybSBkYXRhIHRvIGJlIHVwZGF0ZWQgZm9yIHRoaXMgY2h1bmtcbiAgICAgICAgdGhhdC5fdHJpZ2dlcignY2h1bmtiZWZvcmVzZW5kJywgbnVsbCwgbyk7XG4gICAgICAgIC8vIFByb2Nlc3MgdGhlIHVwbG9hZCBkYXRhICh0aGUgYmxvYiBhbmQgcG90ZW50aWFsIGZvcm0gZGF0YSk6XG4gICAgICAgIHRoYXQuX2luaXRYSFJEYXRhKG8pO1xuICAgICAgICAvLyBBZGQgcHJvZ3Jlc3MgbGlzdGVuZXJzIGZvciB0aGlzIGNodW5rIHVwbG9hZDpcbiAgICAgICAgdGhhdC5faW5pdFByb2dyZXNzTGlzdGVuZXIobyk7XG4gICAgICAgIGpxWEhSID0gKFxuICAgICAgICAgICh0aGF0Ll90cmlnZ2VyKCdjaHVua3NlbmQnLCBudWxsLCBvKSAhPT0gZmFsc2UgJiYgJC5hamF4KG8pKSB8fFxuICAgICAgICAgIHRoYXQuX2dldFhIUlByb21pc2UoZmFsc2UsIG8uY29udGV4dClcbiAgICAgICAgKVxuICAgICAgICAgIC5kb25lKGZ1bmN0aW9uIChyZXN1bHQsIHRleHRTdGF0dXMsIGpxWEhSKSB7XG4gICAgICAgICAgICB1YiA9IHRoYXQuX2dldFVwbG9hZGVkQnl0ZXMoanFYSFIpIHx8IHViICsgby5jaHVua1NpemU7XG4gICAgICAgICAgICAvLyBDcmVhdGUgYSBwcm9ncmVzcyBldmVudCBpZiBubyBmaW5hbCBwcm9ncmVzcyBldmVudFxuICAgICAgICAgICAgLy8gd2l0aCBsb2FkZWQgZXF1YWxpbmcgdG90YWwgaGFzIGJlZW4gdHJpZ2dlcmVkXG4gICAgICAgICAgICAvLyBmb3IgdGhpcyBjaHVuazpcbiAgICAgICAgICAgIGlmIChjdXJyZW50TG9hZGVkICsgby5jaHVua1NpemUgLSBvLl9wcm9ncmVzcy5sb2FkZWQpIHtcbiAgICAgICAgICAgICAgdGhhdC5fb25Qcm9ncmVzcyhcbiAgICAgICAgICAgICAgICAkLkV2ZW50KCdwcm9ncmVzcycsIHtcbiAgICAgICAgICAgICAgICAgIGxlbmd0aENvbXB1dGFibGU6IHRydWUsXG4gICAgICAgICAgICAgICAgICBsb2FkZWQ6IHViIC0gby51cGxvYWRlZEJ5dGVzLFxuICAgICAgICAgICAgICAgICAgdG90YWw6IHViIC0gby51cGxvYWRlZEJ5dGVzXG4gICAgICAgICAgICAgICAgfSksXG4gICAgICAgICAgICAgICAgb1xuICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgb3B0aW9ucy51cGxvYWRlZEJ5dGVzID0gby51cGxvYWRlZEJ5dGVzID0gdWI7XG4gICAgICAgICAgICBvLnJlc3VsdCA9IHJlc3VsdDtcbiAgICAgICAgICAgIG8udGV4dFN0YXR1cyA9IHRleHRTdGF0dXM7XG4gICAgICAgICAgICBvLmpxWEhSID0ganFYSFI7XG4gICAgICAgICAgICB0aGF0Ll90cmlnZ2VyKCdjaHVua2RvbmUnLCBudWxsLCBvKTtcbiAgICAgICAgICAgIHRoYXQuX3RyaWdnZXIoJ2NodW5rYWx3YXlzJywgbnVsbCwgbyk7XG4gICAgICAgICAgICBpZiAodWIgPCBmcykge1xuICAgICAgICAgICAgICAvLyBGaWxlIHVwbG9hZCBub3QgeWV0IGNvbXBsZXRlLFxuICAgICAgICAgICAgICAvLyBjb250aW51ZSB3aXRoIHRoZSBuZXh0IGNodW5rOlxuICAgICAgICAgICAgICB1cGxvYWQoKTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgIGRmZC5yZXNvbHZlV2l0aChvLmNvbnRleHQsIFtyZXN1bHQsIHRleHRTdGF0dXMsIGpxWEhSXSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSlcbiAgICAgICAgICAuZmFpbChmdW5jdGlvbiAoanFYSFIsIHRleHRTdGF0dXMsIGVycm9yVGhyb3duKSB7XG4gICAgICAgICAgICBvLmpxWEhSID0ganFYSFI7XG4gICAgICAgICAgICBvLnRleHRTdGF0dXMgPSB0ZXh0U3RhdHVzO1xuICAgICAgICAgICAgby5lcnJvclRocm93biA9IGVycm9yVGhyb3duO1xuICAgICAgICAgICAgdGhhdC5fdHJpZ2dlcignY2h1bmtmYWlsJywgbnVsbCwgbyk7XG4gICAgICAgICAgICB0aGF0Ll90cmlnZ2VyKCdjaHVua2Fsd2F5cycsIG51bGwsIG8pO1xuICAgICAgICAgICAgZGZkLnJlamVjdFdpdGgoby5jb250ZXh0LCBbanFYSFIsIHRleHRTdGF0dXMsIGVycm9yVGhyb3duXSk7XG4gICAgICAgICAgfSlcbiAgICAgICAgICAuYWx3YXlzKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHRoYXQuX2RlaW5pdFByb2dyZXNzTGlzdGVuZXIobyk7XG4gICAgICAgICAgfSk7XG4gICAgICB9O1xuICAgICAgdGhpcy5fZW5oYW5jZVByb21pc2UocHJvbWlzZSk7XG4gICAgICBwcm9taXNlLmFib3J0ID0gZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4ganFYSFIuYWJvcnQoKTtcbiAgICAgIH07XG4gICAgICB1cGxvYWQoKTtcbiAgICAgIHJldHVybiBwcm9taXNlO1xuICAgIH0sXG5cbiAgICBfYmVmb3JlU2VuZDogZnVuY3Rpb24gKGUsIGRhdGEpIHtcbiAgICAgIGlmICh0aGlzLl9hY3RpdmUgPT09IDApIHtcbiAgICAgICAgLy8gdGhlIHN0YXJ0IGNhbGxiYWNrIGlzIHRyaWdnZXJlZCB3aGVuIGFuIHVwbG9hZCBzdGFydHNcbiAgICAgICAgLy8gYW5kIG5vIG90aGVyIHVwbG9hZHMgYXJlIGN1cnJlbnRseSBydW5uaW5nLFxuICAgICAgICAvLyBlcXVpdmFsZW50IHRvIHRoZSBnbG9iYWwgYWpheFN0YXJ0IGV2ZW50OlxuICAgICAgICB0aGlzLl90cmlnZ2VyKCdzdGFydCcpO1xuICAgICAgICAvLyBTZXQgdGltZXIgZm9yIGdsb2JhbCBiaXRyYXRlIHByb2dyZXNzIGNhbGN1bGF0aW9uOlxuICAgICAgICB0aGlzLl9iaXRyYXRlVGltZXIgPSBuZXcgdGhpcy5fQml0cmF0ZVRpbWVyKCk7XG4gICAgICAgIC8vIFJlc2V0IHRoZSBnbG9iYWwgcHJvZ3Jlc3MgdmFsdWVzOlxuICAgICAgICB0aGlzLl9wcm9ncmVzcy5sb2FkZWQgPSB0aGlzLl9wcm9ncmVzcy50b3RhbCA9IDA7XG4gICAgICAgIHRoaXMuX3Byb2dyZXNzLmJpdHJhdGUgPSAwO1xuICAgICAgfVxuICAgICAgLy8gTWFrZSBzdXJlIHRoZSBjb250YWluZXIgb2JqZWN0cyBmb3IgdGhlIC5yZXNwb25zZSgpIGFuZFxuICAgICAgLy8gLnByb2dyZXNzKCkgbWV0aG9kcyBvbiB0aGUgZGF0YSBvYmplY3QgYXJlIGF2YWlsYWJsZVxuICAgICAgLy8gYW5kIHJlc2V0IHRvIHRoZWlyIGluaXRpYWwgc3RhdGU6XG4gICAgICB0aGlzLl9pbml0UmVzcG9uc2VPYmplY3QoZGF0YSk7XG4gICAgICB0aGlzLl9pbml0UHJvZ3Jlc3NPYmplY3QoZGF0YSk7XG4gICAgICBkYXRhLl9wcm9ncmVzcy5sb2FkZWQgPSBkYXRhLmxvYWRlZCA9IGRhdGEudXBsb2FkZWRCeXRlcyB8fCAwO1xuICAgICAgZGF0YS5fcHJvZ3Jlc3MudG90YWwgPSBkYXRhLnRvdGFsID0gdGhpcy5fZ2V0VG90YWwoZGF0YS5maWxlcykgfHwgMTtcbiAgICAgIGRhdGEuX3Byb2dyZXNzLmJpdHJhdGUgPSBkYXRhLmJpdHJhdGUgPSAwO1xuICAgICAgdGhpcy5fYWN0aXZlICs9IDE7XG4gICAgICAvLyBJbml0aWFsaXplIHRoZSBnbG9iYWwgcHJvZ3Jlc3MgdmFsdWVzOlxuICAgICAgdGhpcy5fcHJvZ3Jlc3MubG9hZGVkICs9IGRhdGEubG9hZGVkO1xuICAgICAgdGhpcy5fcHJvZ3Jlc3MudG90YWwgKz0gZGF0YS50b3RhbDtcbiAgICB9LFxuXG4gICAgX29uRG9uZTogZnVuY3Rpb24gKHJlc3VsdCwgdGV4dFN0YXR1cywganFYSFIsIG9wdGlvbnMpIHtcbiAgICAgIHZhciB0b3RhbCA9IG9wdGlvbnMuX3Byb2dyZXNzLnRvdGFsLFxuICAgICAgICByZXNwb25zZSA9IG9wdGlvbnMuX3Jlc3BvbnNlO1xuICAgICAgaWYgKG9wdGlvbnMuX3Byb2dyZXNzLmxvYWRlZCA8IHRvdGFsKSB7XG4gICAgICAgIC8vIENyZWF0ZSBhIHByb2dyZXNzIGV2ZW50IGlmIG5vIGZpbmFsIHByb2dyZXNzIGV2ZW50XG4gICAgICAgIC8vIHdpdGggbG9hZGVkIGVxdWFsaW5nIHRvdGFsIGhhcyBiZWVuIHRyaWdnZXJlZDpcbiAgICAgICAgdGhpcy5fb25Qcm9ncmVzcyhcbiAgICAgICAgICAkLkV2ZW50KCdwcm9ncmVzcycsIHtcbiAgICAgICAgICAgIGxlbmd0aENvbXB1dGFibGU6IHRydWUsXG4gICAgICAgICAgICBsb2FkZWQ6IHRvdGFsLFxuICAgICAgICAgICAgdG90YWw6IHRvdGFsXG4gICAgICAgICAgfSksXG4gICAgICAgICAgb3B0aW9uc1xuICAgICAgICApO1xuICAgICAgfVxuICAgICAgcmVzcG9uc2UucmVzdWx0ID0gb3B0aW9ucy5yZXN1bHQgPSByZXN1bHQ7XG4gICAgICByZXNwb25zZS50ZXh0U3RhdHVzID0gb3B0aW9ucy50ZXh0U3RhdHVzID0gdGV4dFN0YXR1cztcbiAgICAgIHJlc3BvbnNlLmpxWEhSID0gb3B0aW9ucy5qcVhIUiA9IGpxWEhSO1xuICAgICAgdGhpcy5fdHJpZ2dlcignZG9uZScsIG51bGwsIG9wdGlvbnMpO1xuICAgIH0sXG5cbiAgICBfb25GYWlsOiBmdW5jdGlvbiAoanFYSFIsIHRleHRTdGF0dXMsIGVycm9yVGhyb3duLCBvcHRpb25zKSB7XG4gICAgICB2YXIgcmVzcG9uc2UgPSBvcHRpb25zLl9yZXNwb25zZTtcbiAgICAgIGlmIChvcHRpb25zLnJlY2FsY3VsYXRlUHJvZ3Jlc3MpIHtcbiAgICAgICAgLy8gUmVtb3ZlIHRoZSBmYWlsZWQgKGVycm9yIG9yIGFib3J0KSBmaWxlIHVwbG9hZCBmcm9tXG4gICAgICAgIC8vIHRoZSBnbG9iYWwgcHJvZ3Jlc3MgY2FsY3VsYXRpb246XG4gICAgICAgIHRoaXMuX3Byb2dyZXNzLmxvYWRlZCAtPSBvcHRpb25zLl9wcm9ncmVzcy5sb2FkZWQ7XG4gICAgICAgIHRoaXMuX3Byb2dyZXNzLnRvdGFsIC09IG9wdGlvbnMuX3Byb2dyZXNzLnRvdGFsO1xuICAgICAgfVxuICAgICAgcmVzcG9uc2UuanFYSFIgPSBvcHRpb25zLmpxWEhSID0ganFYSFI7XG4gICAgICByZXNwb25zZS50ZXh0U3RhdHVzID0gb3B0aW9ucy50ZXh0U3RhdHVzID0gdGV4dFN0YXR1cztcbiAgICAgIHJlc3BvbnNlLmVycm9yVGhyb3duID0gb3B0aW9ucy5lcnJvclRocm93biA9IGVycm9yVGhyb3duO1xuICAgICAgdGhpcy5fdHJpZ2dlcignZmFpbCcsIG51bGwsIG9wdGlvbnMpO1xuICAgIH0sXG5cbiAgICBfb25BbHdheXM6IGZ1bmN0aW9uIChqcVhIUm9yUmVzdWx0LCB0ZXh0U3RhdHVzLCBqcVhIUm9yRXJyb3IsIG9wdGlvbnMpIHtcbiAgICAgIC8vIGpxWEhSb3JSZXN1bHQsIHRleHRTdGF0dXMgYW5kIGpxWEhSb3JFcnJvciBhcmUgYWRkZWQgdG8gdGhlXG4gICAgICAvLyBvcHRpb25zIG9iamVjdCB2aWEgZG9uZSBhbmQgZmFpbCBjYWxsYmFja3NcbiAgICAgIHRoaXMuX3RyaWdnZXIoJ2Fsd2F5cycsIG51bGwsIG9wdGlvbnMpO1xuICAgIH0sXG5cbiAgICBfb25TZW5kOiBmdW5jdGlvbiAoZSwgZGF0YSkge1xuICAgICAgaWYgKCFkYXRhLnN1Ym1pdCkge1xuICAgICAgICB0aGlzLl9hZGRDb252ZW5pZW5jZU1ldGhvZHMoZSwgZGF0YSk7XG4gICAgICB9XG4gICAgICB2YXIgdGhhdCA9IHRoaXMsXG4gICAgICAgIGpxWEhSLFxuICAgICAgICBhYm9ydGVkLFxuICAgICAgICBzbG90LFxuICAgICAgICBwaXBlLFxuICAgICAgICBvcHRpb25zID0gdGhhdC5fZ2V0QUpBWFNldHRpbmdzKGRhdGEpLFxuICAgICAgICBzZW5kID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAgIHRoYXQuX3NlbmRpbmcgKz0gMTtcbiAgICAgICAgICAvLyBTZXQgdGltZXIgZm9yIGJpdHJhdGUgcHJvZ3Jlc3MgY2FsY3VsYXRpb246XG4gICAgICAgICAgb3B0aW9ucy5fYml0cmF0ZVRpbWVyID0gbmV3IHRoYXQuX0JpdHJhdGVUaW1lcigpO1xuICAgICAgICAgIGpxWEhSID1cbiAgICAgICAgICAgIGpxWEhSIHx8XG4gICAgICAgICAgICAoXG4gICAgICAgICAgICAgICgoYWJvcnRlZCB8fFxuICAgICAgICAgICAgICAgIHRoYXQuX3RyaWdnZXIoXG4gICAgICAgICAgICAgICAgICAnc2VuZCcsXG4gICAgICAgICAgICAgICAgICAkLkV2ZW50KCdzZW5kJywgeyBkZWxlZ2F0ZWRFdmVudDogZSB9KSxcbiAgICAgICAgICAgICAgICAgIG9wdGlvbnNcbiAgICAgICAgICAgICAgICApID09PSBmYWxzZSkgJiZcbiAgICAgICAgICAgICAgICB0aGF0Ll9nZXRYSFJQcm9taXNlKGZhbHNlLCBvcHRpb25zLmNvbnRleHQsIGFib3J0ZWQpKSB8fFxuICAgICAgICAgICAgICB0aGF0Ll9jaHVua2VkVXBsb2FkKG9wdGlvbnMpIHx8XG4gICAgICAgICAgICAgICQuYWpheChvcHRpb25zKVxuICAgICAgICAgICAgKVxuICAgICAgICAgICAgICAuZG9uZShmdW5jdGlvbiAocmVzdWx0LCB0ZXh0U3RhdHVzLCBqcVhIUikge1xuICAgICAgICAgICAgICAgIHRoYXQuX29uRG9uZShyZXN1bHQsIHRleHRTdGF0dXMsIGpxWEhSLCBvcHRpb25zKTtcbiAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgICAgLmZhaWwoZnVuY3Rpb24gKGpxWEhSLCB0ZXh0U3RhdHVzLCBlcnJvclRocm93bikge1xuICAgICAgICAgICAgICAgIHRoYXQuX29uRmFpbChqcVhIUiwgdGV4dFN0YXR1cywgZXJyb3JUaHJvd24sIG9wdGlvbnMpO1xuICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgICAuYWx3YXlzKGZ1bmN0aW9uIChqcVhIUm9yUmVzdWx0LCB0ZXh0U3RhdHVzLCBqcVhIUm9yRXJyb3IpIHtcbiAgICAgICAgICAgICAgICB0aGF0Ll9kZWluaXRQcm9ncmVzc0xpc3RlbmVyKG9wdGlvbnMpO1xuICAgICAgICAgICAgICAgIHRoYXQuX29uQWx3YXlzKFxuICAgICAgICAgICAgICAgICAganFYSFJvclJlc3VsdCxcbiAgICAgICAgICAgICAgICAgIHRleHRTdGF0dXMsXG4gICAgICAgICAgICAgICAgICBqcVhIUm9yRXJyb3IsXG4gICAgICAgICAgICAgICAgICBvcHRpb25zXG4gICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgICB0aGF0Ll9zZW5kaW5nIC09IDE7XG4gICAgICAgICAgICAgICAgdGhhdC5fYWN0aXZlIC09IDE7XG4gICAgICAgICAgICAgICAgaWYgKFxuICAgICAgICAgICAgICAgICAgb3B0aW9ucy5saW1pdENvbmN1cnJlbnRVcGxvYWRzICYmXG4gICAgICAgICAgICAgICAgICBvcHRpb25zLmxpbWl0Q29uY3VycmVudFVwbG9hZHMgPiB0aGF0Ll9zZW5kaW5nXG4gICAgICAgICAgICAgICAgKSB7XG4gICAgICAgICAgICAgICAgICAvLyBTdGFydCB0aGUgbmV4dCBxdWV1ZWQgdXBsb2FkLFxuICAgICAgICAgICAgICAgICAgLy8gdGhhdCBoYXMgbm90IGJlZW4gYWJvcnRlZDpcbiAgICAgICAgICAgICAgICAgIHZhciBuZXh0U2xvdCA9IHRoYXQuX3Nsb3RzLnNoaWZ0KCk7XG4gICAgICAgICAgICAgICAgICB3aGlsZSAobmV4dFNsb3QpIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRoYXQuX2dldERlZmVycmVkU3RhdGUobmV4dFNsb3QpID09PSAncGVuZGluZycpIHtcbiAgICAgICAgICAgICAgICAgICAgICBuZXh0U2xvdC5yZXNvbHZlKCk7XG4gICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgbmV4dFNsb3QgPSB0aGF0Ll9zbG90cy5zaGlmdCgpO1xuICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZiAodGhhdC5fYWN0aXZlID09PSAwKSB7XG4gICAgICAgICAgICAgICAgICAvLyBUaGUgc3RvcCBjYWxsYmFjayBpcyB0cmlnZ2VyZWQgd2hlbiBhbGwgdXBsb2FkcyBoYXZlXG4gICAgICAgICAgICAgICAgICAvLyBiZWVuIGNvbXBsZXRlZCwgZXF1aXZhbGVudCB0byB0aGUgZ2xvYmFsIGFqYXhTdG9wIGV2ZW50OlxuICAgICAgICAgICAgICAgICAgdGhhdC5fdHJpZ2dlcignc3RvcCcpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgcmV0dXJuIGpxWEhSO1xuICAgICAgICB9O1xuICAgICAgdGhpcy5fYmVmb3JlU2VuZChlLCBvcHRpb25zKTtcbiAgICAgIGlmIChcbiAgICAgICAgdGhpcy5vcHRpb25zLnNlcXVlbnRpYWxVcGxvYWRzIHx8XG4gICAgICAgICh0aGlzLm9wdGlvbnMubGltaXRDb25jdXJyZW50VXBsb2FkcyAmJlxuICAgICAgICAgIHRoaXMub3B0aW9ucy5saW1pdENvbmN1cnJlbnRVcGxvYWRzIDw9IHRoaXMuX3NlbmRpbmcpXG4gICAgICApIHtcbiAgICAgICAgaWYgKHRoaXMub3B0aW9ucy5saW1pdENvbmN1cnJlbnRVcGxvYWRzID4gMSkge1xuICAgICAgICAgIHNsb3QgPSAkLkRlZmVycmVkKCk7XG4gICAgICAgICAgdGhpcy5fc2xvdHMucHVzaChzbG90KTtcbiAgICAgICAgICBwaXBlID0gc2xvdFt0aGF0Ll9wcm9taXNlUGlwZV0oc2VuZCk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgdGhpcy5fc2VxdWVuY2UgPSB0aGlzLl9zZXF1ZW5jZVt0aGF0Ll9wcm9taXNlUGlwZV0oc2VuZCwgc2VuZCk7XG4gICAgICAgICAgcGlwZSA9IHRoaXMuX3NlcXVlbmNlO1xuICAgICAgICB9XG4gICAgICAgIC8vIFJldHVybiB0aGUgcGlwZWQgUHJvbWlzZSBvYmplY3QsIGVuaGFuY2VkIHdpdGggYW4gYWJvcnQgbWV0aG9kLFxuICAgICAgICAvLyB3aGljaCBpcyBkZWxlZ2F0ZWQgdG8gdGhlIGpxWEhSIG9iamVjdCBvZiB0aGUgY3VycmVudCB1cGxvYWQsXG4gICAgICAgIC8vIGFuZCBqcVhIUiBjYWxsYmFja3MgbWFwcGVkIHRvIHRoZSBlcXVpdmFsZW50IFByb21pc2UgbWV0aG9kczpcbiAgICAgICAgcGlwZS5hYm9ydCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICBhYm9ydGVkID0gW3VuZGVmaW5lZCwgJ2Fib3J0JywgJ2Fib3J0J107XG4gICAgICAgICAgaWYgKCFqcVhIUikge1xuICAgICAgICAgICAgaWYgKHNsb3QpIHtcbiAgICAgICAgICAgICAgc2xvdC5yZWplY3RXaXRoKG9wdGlvbnMuY29udGV4dCwgYWJvcnRlZCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gc2VuZCgpO1xuICAgICAgICAgIH1cbiAgICAgICAgICByZXR1cm4ganFYSFIuYWJvcnQoKTtcbiAgICAgICAgfTtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2VuaGFuY2VQcm9taXNlKHBpcGUpO1xuICAgICAgfVxuICAgICAgcmV0dXJuIHNlbmQoKTtcbiAgICB9LFxuXG4gICAgX29uQWRkOiBmdW5jdGlvbiAoZSwgZGF0YSkge1xuICAgICAgdmFyIHRoYXQgPSB0aGlzLFxuICAgICAgICByZXN1bHQgPSB0cnVlLFxuICAgICAgICBvcHRpb25zID0gJC5leHRlbmQoe30sIHRoaXMub3B0aW9ucywgZGF0YSksXG4gICAgICAgIGZpbGVzID0gZGF0YS5maWxlcyxcbiAgICAgICAgZmlsZXNMZW5ndGggPSBmaWxlcy5sZW5ndGgsXG4gICAgICAgIGxpbWl0ID0gb3B0aW9ucy5saW1pdE11bHRpRmlsZVVwbG9hZHMsXG4gICAgICAgIGxpbWl0U2l6ZSA9IG9wdGlvbnMubGltaXRNdWx0aUZpbGVVcGxvYWRTaXplLFxuICAgICAgICBvdmVyaGVhZCA9IG9wdGlvbnMubGltaXRNdWx0aUZpbGVVcGxvYWRTaXplT3ZlcmhlYWQsXG4gICAgICAgIGJhdGNoU2l6ZSA9IDAsXG4gICAgICAgIHBhcmFtTmFtZSA9IHRoaXMuX2dldFBhcmFtTmFtZShvcHRpb25zKSxcbiAgICAgICAgcGFyYW1OYW1lU2V0LFxuICAgICAgICBwYXJhbU5hbWVTbGljZSxcbiAgICAgICAgZmlsZVNldCxcbiAgICAgICAgaSxcbiAgICAgICAgaiA9IDA7XG4gICAgICBpZiAoIWZpbGVzTGVuZ3RoKSB7XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgIH1cbiAgICAgIGlmIChsaW1pdFNpemUgJiYgZmlsZXNbMF0uc2l6ZSA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIGxpbWl0U2l6ZSA9IHVuZGVmaW5lZDtcbiAgICAgIH1cbiAgICAgIGlmIChcbiAgICAgICAgIShvcHRpb25zLnNpbmdsZUZpbGVVcGxvYWRzIHx8IGxpbWl0IHx8IGxpbWl0U2l6ZSkgfHxcbiAgICAgICAgIXRoaXMuX2lzWEhSVXBsb2FkKG9wdGlvbnMpXG4gICAgICApIHtcbiAgICAgICAgZmlsZVNldCA9IFtmaWxlc107XG4gICAgICAgIHBhcmFtTmFtZVNldCA9IFtwYXJhbU5hbWVdO1xuICAgICAgfSBlbHNlIGlmICghKG9wdGlvbnMuc2luZ2xlRmlsZVVwbG9hZHMgfHwgbGltaXRTaXplKSAmJiBsaW1pdCkge1xuICAgICAgICBmaWxlU2V0ID0gW107XG4gICAgICAgIHBhcmFtTmFtZVNldCA9IFtdO1xuICAgICAgICBmb3IgKGkgPSAwOyBpIDwgZmlsZXNMZW5ndGg7IGkgKz0gbGltaXQpIHtcbiAgICAgICAgICBmaWxlU2V0LnB1c2goZmlsZXMuc2xpY2UoaSwgaSArIGxpbWl0KSk7XG4gICAgICAgICAgcGFyYW1OYW1lU2xpY2UgPSBwYXJhbU5hbWUuc2xpY2UoaSwgaSArIGxpbWl0KTtcbiAgICAgICAgICBpZiAoIXBhcmFtTmFtZVNsaWNlLmxlbmd0aCkge1xuICAgICAgICAgICAgcGFyYW1OYW1lU2xpY2UgPSBwYXJhbU5hbWU7XG4gICAgICAgICAgfVxuICAgICAgICAgIHBhcmFtTmFtZVNldC5wdXNoKHBhcmFtTmFtZVNsaWNlKTtcbiAgICAgICAgfVxuICAgICAgfSBlbHNlIGlmICghb3B0aW9ucy5zaW5nbGVGaWxlVXBsb2FkcyAmJiBsaW1pdFNpemUpIHtcbiAgICAgICAgZmlsZVNldCA9IFtdO1xuICAgICAgICBwYXJhbU5hbWVTZXQgPSBbXTtcbiAgICAgICAgZm9yIChpID0gMDsgaSA8IGZpbGVzTGVuZ3RoOyBpID0gaSArIDEpIHtcbiAgICAgICAgICBiYXRjaFNpemUgKz0gZmlsZXNbaV0uc2l6ZSArIG92ZXJoZWFkO1xuICAgICAgICAgIGlmIChcbiAgICAgICAgICAgIGkgKyAxID09PSBmaWxlc0xlbmd0aCB8fFxuICAgICAgICAgICAgYmF0Y2hTaXplICsgZmlsZXNbaSArIDFdLnNpemUgKyBvdmVyaGVhZCA+IGxpbWl0U2l6ZSB8fFxuICAgICAgICAgICAgKGxpbWl0ICYmIGkgKyAxIC0gaiA+PSBsaW1pdClcbiAgICAgICAgICApIHtcbiAgICAgICAgICAgIGZpbGVTZXQucHVzaChmaWxlcy5zbGljZShqLCBpICsgMSkpO1xuICAgICAgICAgICAgcGFyYW1OYW1lU2xpY2UgPSBwYXJhbU5hbWUuc2xpY2UoaiwgaSArIDEpO1xuICAgICAgICAgICAgaWYgKCFwYXJhbU5hbWVTbGljZS5sZW5ndGgpIHtcbiAgICAgICAgICAgICAgcGFyYW1OYW1lU2xpY2UgPSBwYXJhbU5hbWU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBwYXJhbU5hbWVTZXQucHVzaChwYXJhbU5hbWVTbGljZSk7XG4gICAgICAgICAgICBqID0gaSArIDE7XG4gICAgICAgICAgICBiYXRjaFNpemUgPSAwO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcGFyYW1OYW1lU2V0ID0gcGFyYW1OYW1lO1xuICAgICAgfVxuICAgICAgZGF0YS5vcmlnaW5hbEZpbGVzID0gZmlsZXM7XG4gICAgICAkLmVhY2goZmlsZVNldCB8fCBmaWxlcywgZnVuY3Rpb24gKGluZGV4LCBlbGVtZW50KSB7XG4gICAgICAgIHZhciBuZXdEYXRhID0gJC5leHRlbmQoe30sIGRhdGEpO1xuICAgICAgICBuZXdEYXRhLmZpbGVzID0gZmlsZVNldCA/IGVsZW1lbnQgOiBbZWxlbWVudF07XG4gICAgICAgIG5ld0RhdGEucGFyYW1OYW1lID0gcGFyYW1OYW1lU2V0W2luZGV4XTtcbiAgICAgICAgdGhhdC5faW5pdFJlc3BvbnNlT2JqZWN0KG5ld0RhdGEpO1xuICAgICAgICB0aGF0Ll9pbml0UHJvZ3Jlc3NPYmplY3QobmV3RGF0YSk7XG4gICAgICAgIHRoYXQuX2FkZENvbnZlbmllbmNlTWV0aG9kcyhlLCBuZXdEYXRhKTtcbiAgICAgICAgcmVzdWx0ID0gdGhhdC5fdHJpZ2dlcihcbiAgICAgICAgICAnYWRkJyxcbiAgICAgICAgICAkLkV2ZW50KCdhZGQnLCB7IGRlbGVnYXRlZEV2ZW50OiBlIH0pLFxuICAgICAgICAgIG5ld0RhdGFcbiAgICAgICAgKTtcbiAgICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICAgIH0pO1xuICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICB9LFxuXG4gICAgX3JlcGxhY2VGaWxlSW5wdXQ6IGZ1bmN0aW9uIChkYXRhKSB7XG4gICAgICB2YXIgaW5wdXQgPSBkYXRhLmZpbGVJbnB1dCxcbiAgICAgICAgaW5wdXRDbG9uZSA9IGlucHV0LmNsb25lKHRydWUpLFxuICAgICAgICByZXN0b3JlRm9jdXMgPSBpbnB1dC5pcyhkb2N1bWVudC5hY3RpdmVFbGVtZW50KTtcbiAgICAgIC8vIEFkZCBhIHJlZmVyZW5jZSBmb3IgdGhlIG5ldyBjbG9uZWQgZmlsZSBpbnB1dCB0byB0aGUgZGF0YSBhcmd1bWVudDpcbiAgICAgIGRhdGEuZmlsZUlucHV0Q2xvbmUgPSBpbnB1dENsb25lO1xuICAgICAgJCgnPGZvcm0+PC9mb3JtPicpLmFwcGVuZChpbnB1dENsb25lKVswXS5yZXNldCgpO1xuICAgICAgLy8gRGV0YWNoaW5nIGFsbG93cyB0byBpbnNlcnQgdGhlIGZpbGVJbnB1dCBvbiBhbm90aGVyIGZvcm1cbiAgICAgIC8vIHdpdGhvdXQgbG9zaW5nIHRoZSBmaWxlIGlucHV0IHZhbHVlOlxuICAgICAgaW5wdXQuYWZ0ZXIoaW5wdXRDbG9uZSkuZGV0YWNoKCk7XG4gICAgICAvLyBJZiB0aGUgZmlsZUlucHV0IGhhZCBmb2N1cyBiZWZvcmUgaXQgd2FzIGRldGFjaGVkLFxuICAgICAgLy8gcmVzdG9yZSBmb2N1cyB0byB0aGUgaW5wdXRDbG9uZS5cbiAgICAgIGlmIChyZXN0b3JlRm9jdXMpIHtcbiAgICAgICAgaW5wdXRDbG9uZS50cmlnZ2VyKCdmb2N1cycpO1xuICAgICAgfVxuICAgICAgLy8gQXZvaWQgbWVtb3J5IGxlYWtzIHdpdGggdGhlIGRldGFjaGVkIGZpbGUgaW5wdXQ6XG4gICAgICAkLmNsZWFuRGF0YShpbnB1dC5vZmYoJ3JlbW92ZScpKTtcbiAgICAgIC8vIFJlcGxhY2UgdGhlIG9yaWdpbmFsIGZpbGUgaW5wdXQgZWxlbWVudCBpbiB0aGUgZmlsZUlucHV0XG4gICAgICAvLyBlbGVtZW50cyBzZXQgd2l0aCB0aGUgY2xvbmUsIHdoaWNoIGhhcyBiZWVuIGNvcGllZCBpbmNsdWRpbmdcbiAgICAgIC8vIGV2ZW50IGhhbmRsZXJzOlxuICAgICAgdGhpcy5vcHRpb25zLmZpbGVJbnB1dCA9IHRoaXMub3B0aW9ucy5maWxlSW5wdXQubWFwKGZ1bmN0aW9uIChpLCBlbCkge1xuICAgICAgICBpZiAoZWwgPT09IGlucHV0WzBdKSB7XG4gICAgICAgICAgcmV0dXJuIGlucHV0Q2xvbmVbMF07XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGVsO1xuICAgICAgfSk7XG4gICAgICAvLyBJZiB0aGUgd2lkZ2V0IGhhcyBiZWVuIGluaXRpYWxpemVkIG9uIHRoZSBmaWxlIGlucHV0IGl0c2VsZixcbiAgICAgIC8vIG92ZXJyaWRlIHRoaXMuZWxlbWVudCB3aXRoIHRoZSBmaWxlIGlucHV0IGNsb25lOlxuICAgICAgaWYgKGlucHV0WzBdID09PSB0aGlzLmVsZW1lbnRbMF0pIHtcbiAgICAgICAgdGhpcy5lbGVtZW50ID0gaW5wdXRDbG9uZTtcbiAgICAgIH1cbiAgICB9LFxuXG4gICAgX2hhbmRsZUZpbGVUcmVlRW50cnk6IGZ1bmN0aW9uIChlbnRyeSwgcGF0aCkge1xuICAgICAgdmFyIHRoYXQgPSB0aGlzLFxuICAgICAgICBkZmQgPSAkLkRlZmVycmVkKCksXG4gICAgICAgIGVudHJpZXMgPSBbXSxcbiAgICAgICAgZGlyUmVhZGVyLFxuICAgICAgICBlcnJvckhhbmRsZXIgPSBmdW5jdGlvbiAoZSkge1xuICAgICAgICAgIGlmIChlICYmICFlLmVudHJ5KSB7XG4gICAgICAgICAgICBlLmVudHJ5ID0gZW50cnk7XG4gICAgICAgICAgfVxuICAgICAgICAgIC8vIFNpbmNlICQud2hlbiByZXR1cm5zIGltbWVkaWF0ZWx5IGlmIG9uZVxuICAgICAgICAgIC8vIERlZmVycmVkIGlzIHJlamVjdGVkLCB3ZSB1c2UgcmVzb2x2ZSBpbnN0ZWFkLlxuICAgICAgICAgIC8vIFRoaXMgYWxsb3dzIHZhbGlkIGZpbGVzIGFuZCBpbnZhbGlkIGl0ZW1zXG4gICAgICAgICAgLy8gdG8gYmUgcmV0dXJuZWQgdG9nZXRoZXIgaW4gb25lIHNldDpcbiAgICAgICAgICBkZmQucmVzb2x2ZShbZV0pO1xuICAgICAgICB9LFxuICAgICAgICBzdWNjZXNzSGFuZGxlciA9IGZ1bmN0aW9uIChlbnRyaWVzKSB7XG4gICAgICAgICAgdGhhdFxuICAgICAgICAgICAgLl9oYW5kbGVGaWxlVHJlZUVudHJpZXMoZW50cmllcywgcGF0aCArIGVudHJ5Lm5hbWUgKyAnLycpXG4gICAgICAgICAgICAuZG9uZShmdW5jdGlvbiAoZmlsZXMpIHtcbiAgICAgICAgICAgICAgZGZkLnJlc29sdmUoZmlsZXMpO1xuICAgICAgICAgICAgfSlcbiAgICAgICAgICAgIC5mYWlsKGVycm9ySGFuZGxlcik7XG4gICAgICAgIH0sXG4gICAgICAgIHJlYWRFbnRyaWVzID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAgIGRpclJlYWRlci5yZWFkRW50cmllcyhmdW5jdGlvbiAocmVzdWx0cykge1xuICAgICAgICAgICAgaWYgKCFyZXN1bHRzLmxlbmd0aCkge1xuICAgICAgICAgICAgICBzdWNjZXNzSGFuZGxlcihlbnRyaWVzKTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgIGVudHJpZXMgPSBlbnRyaWVzLmNvbmNhdChyZXN1bHRzKTtcbiAgICAgICAgICAgICAgcmVhZEVudHJpZXMoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9LCBlcnJvckhhbmRsZXIpO1xuICAgICAgICB9O1xuICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLXBhcmFtLXJlYXNzaWduXG4gICAgICBwYXRoID0gcGF0aCB8fCAnJztcbiAgICAgIGlmIChlbnRyeS5pc0ZpbGUpIHtcbiAgICAgICAgaWYgKGVudHJ5Ll9maWxlKSB7XG4gICAgICAgICAgLy8gV29ya2Fyb3VuZCBmb3IgQ2hyb21lIGJ1ZyAjMTQ5NzM1XG4gICAgICAgICAgZW50cnkuX2ZpbGUucmVsYXRpdmVQYXRoID0gcGF0aDtcbiAgICAgICAgICBkZmQucmVzb2x2ZShlbnRyeS5fZmlsZSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgZW50cnkuZmlsZShmdW5jdGlvbiAoZmlsZSkge1xuICAgICAgICAgICAgZmlsZS5yZWxhdGl2ZVBhdGggPSBwYXRoO1xuICAgICAgICAgICAgZGZkLnJlc29sdmUoZmlsZSk7XG4gICAgICAgICAgfSwgZXJyb3JIYW5kbGVyKTtcbiAgICAgICAgfVxuICAgICAgfSBlbHNlIGlmIChlbnRyeS5pc0RpcmVjdG9yeSkge1xuICAgICAgICBkaXJSZWFkZXIgPSBlbnRyeS5jcmVhdGVSZWFkZXIoKTtcbiAgICAgICAgcmVhZEVudHJpZXMoKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIC8vIFJldHVybiBhbiBlbXB0eSBsaXN0IGZvciBmaWxlIHN5c3RlbSBpdGVtc1xuICAgICAgICAvLyBvdGhlciB0aGFuIGZpbGVzIG9yIGRpcmVjdG9yaWVzOlxuICAgICAgICBkZmQucmVzb2x2ZShbXSk7XG4gICAgICB9XG4gICAgICByZXR1cm4gZGZkLnByb21pc2UoKTtcbiAgICB9LFxuXG4gICAgX2hhbmRsZUZpbGVUcmVlRW50cmllczogZnVuY3Rpb24gKGVudHJpZXMsIHBhdGgpIHtcbiAgICAgIHZhciB0aGF0ID0gdGhpcztcbiAgICAgIHJldHVybiAkLndoZW5cbiAgICAgICAgLmFwcGx5KFxuICAgICAgICAgICQsXG4gICAgICAgICAgJC5tYXAoZW50cmllcywgZnVuY3Rpb24gKGVudHJ5KSB7XG4gICAgICAgICAgICByZXR1cm4gdGhhdC5faGFuZGxlRmlsZVRyZWVFbnRyeShlbnRyeSwgcGF0aCk7XG4gICAgICAgICAgfSlcbiAgICAgICAgKVxuICAgICAgICBbdGhpcy5fcHJvbWlzZVBpcGVdKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICByZXR1cm4gQXJyYXkucHJvdG90eXBlLmNvbmNhdC5hcHBseShbXSwgYXJndW1lbnRzKTtcbiAgICAgICAgfSk7XG4gICAgfSxcblxuICAgIF9nZXREcm9wcGVkRmlsZXM6IGZ1bmN0aW9uIChkYXRhVHJhbnNmZXIpIHtcbiAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby1wYXJhbS1yZWFzc2lnblxuICAgICAgZGF0YVRyYW5zZmVyID0gZGF0YVRyYW5zZmVyIHx8IHt9O1xuICAgICAgdmFyIGl0ZW1zID0gZGF0YVRyYW5zZmVyLml0ZW1zO1xuICAgICAgaWYgKFxuICAgICAgICBpdGVtcyAmJlxuICAgICAgICBpdGVtcy5sZW5ndGggJiZcbiAgICAgICAgKGl0ZW1zWzBdLndlYmtpdEdldEFzRW50cnkgfHwgaXRlbXNbMF0uZ2V0QXNFbnRyeSlcbiAgICAgICkge1xuICAgICAgICByZXR1cm4gdGhpcy5faGFuZGxlRmlsZVRyZWVFbnRyaWVzKFxuICAgICAgICAgICQubWFwKGl0ZW1zLCBmdW5jdGlvbiAoaXRlbSkge1xuICAgICAgICAgICAgdmFyIGVudHJ5O1xuICAgICAgICAgICAgaWYgKGl0ZW0ud2Via2l0R2V0QXNFbnRyeSkge1xuICAgICAgICAgICAgICBlbnRyeSA9IGl0ZW0ud2Via2l0R2V0QXNFbnRyeSgpO1xuICAgICAgICAgICAgICBpZiAoZW50cnkpIHtcbiAgICAgICAgICAgICAgICAvLyBXb3JrYXJvdW5kIGZvciBDaHJvbWUgYnVnICMxNDk3MzU6XG4gICAgICAgICAgICAgICAgZW50cnkuX2ZpbGUgPSBpdGVtLmdldEFzRmlsZSgpO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIHJldHVybiBlbnRyeTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiBpdGVtLmdldEFzRW50cnkoKTtcbiAgICAgICAgICB9KVxuICAgICAgICApO1xuICAgICAgfVxuICAgICAgcmV0dXJuICQuRGVmZXJyZWQoKS5yZXNvbHZlKCQubWFrZUFycmF5KGRhdGFUcmFuc2Zlci5maWxlcykpLnByb21pc2UoKTtcbiAgICB9LFxuXG4gICAgX2dldFNpbmdsZUZpbGVJbnB1dEZpbGVzOiBmdW5jdGlvbiAoZmlsZUlucHV0KSB7XG4gICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tcGFyYW0tcmVhc3NpZ25cbiAgICAgIGZpbGVJbnB1dCA9ICQoZmlsZUlucHV0KTtcbiAgICAgIHZhciBlbnRyaWVzID0gZmlsZUlucHV0LnByb3AoJ2VudHJpZXMnKSxcbiAgICAgICAgZmlsZXMsXG4gICAgICAgIHZhbHVlO1xuICAgICAgaWYgKGVudHJpZXMgJiYgZW50cmllcy5sZW5ndGgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2hhbmRsZUZpbGVUcmVlRW50cmllcyhlbnRyaWVzKTtcbiAgICAgIH1cbiAgICAgIGZpbGVzID0gJC5tYWtlQXJyYXkoZmlsZUlucHV0LnByb3AoJ2ZpbGVzJykpO1xuICAgICAgaWYgKCFmaWxlcy5sZW5ndGgpIHtcbiAgICAgICAgdmFsdWUgPSBmaWxlSW5wdXQucHJvcCgndmFsdWUnKTtcbiAgICAgICAgaWYgKCF2YWx1ZSkge1xuICAgICAgICAgIHJldHVybiAkLkRlZmVycmVkKCkucmVzb2x2ZShbXSkucHJvbWlzZSgpO1xuICAgICAgICB9XG4gICAgICAgIC8vIElmIHRoZSBmaWxlcyBwcm9wZXJ0eSBpcyBub3QgYXZhaWxhYmxlLCB0aGUgYnJvd3NlciBkb2VzIG5vdFxuICAgICAgICAvLyBzdXBwb3J0IHRoZSBGaWxlIEFQSSBhbmQgd2UgYWRkIGEgcHNldWRvIEZpbGUgb2JqZWN0IHdpdGhcbiAgICAgICAgLy8gdGhlIGlucHV0IHZhbHVlIGFzIG5hbWUgd2l0aCBwYXRoIGluZm9ybWF0aW9uIHJlbW92ZWQ6XG4gICAgICAgIGZpbGVzID0gW3sgbmFtZTogdmFsdWUucmVwbGFjZSgvXi4qXFxcXC8sICcnKSB9XTtcbiAgICAgIH0gZWxzZSBpZiAoZmlsZXNbMF0ubmFtZSA9PT0gdW5kZWZpbmVkICYmIGZpbGVzWzBdLmZpbGVOYW1lKSB7XG4gICAgICAgIC8vIEZpbGUgbm9ybWFsaXphdGlvbiBmb3IgU2FmYXJpIDQgYW5kIEZpcmVmb3ggMzpcbiAgICAgICAgJC5lYWNoKGZpbGVzLCBmdW5jdGlvbiAoaW5kZXgsIGZpbGUpIHtcbiAgICAgICAgICBmaWxlLm5hbWUgPSBmaWxlLmZpbGVOYW1lO1xuICAgICAgICAgIGZpbGUuc2l6ZSA9IGZpbGUuZmlsZVNpemU7XG4gICAgICAgIH0pO1xuICAgICAgfVxuICAgICAgcmV0dXJuICQuRGVmZXJyZWQoKS5yZXNvbHZlKGZpbGVzKS5wcm9taXNlKCk7XG4gICAgfSxcblxuICAgIF9nZXRGaWxlSW5wdXRGaWxlczogZnVuY3Rpb24gKGZpbGVJbnB1dCkge1xuICAgICAgaWYgKCEoZmlsZUlucHV0IGluc3RhbmNlb2YgJCkgfHwgZmlsZUlucHV0Lmxlbmd0aCA9PT0gMSkge1xuICAgICAgICByZXR1cm4gdGhpcy5fZ2V0U2luZ2xlRmlsZUlucHV0RmlsZXMoZmlsZUlucHV0KTtcbiAgICAgIH1cbiAgICAgIHJldHVybiAkLndoZW5cbiAgICAgICAgLmFwcGx5KCQsICQubWFwKGZpbGVJbnB1dCwgdGhpcy5fZ2V0U2luZ2xlRmlsZUlucHV0RmlsZXMpKVxuICAgICAgICBbdGhpcy5fcHJvbWlzZVBpcGVdKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICByZXR1cm4gQXJyYXkucHJvdG90eXBlLmNvbmNhdC5hcHBseShbXSwgYXJndW1lbnRzKTtcbiAgICAgICAgfSk7XG4gICAgfSxcblxuICAgIF9vbkNoYW5nZTogZnVuY3Rpb24gKGUpIHtcbiAgICAgIHZhciB0aGF0ID0gdGhpcyxcbiAgICAgICAgZGF0YSA9IHtcbiAgICAgICAgICBmaWxlSW5wdXQ6ICQoZS50YXJnZXQpLFxuICAgICAgICAgIGZvcm06ICQoZS50YXJnZXQuZm9ybSlcbiAgICAgICAgfTtcbiAgICAgIHRoaXMuX2dldEZpbGVJbnB1dEZpbGVzKGRhdGEuZmlsZUlucHV0KS5hbHdheXMoZnVuY3Rpb24gKGZpbGVzKSB7XG4gICAgICAgIGRhdGEuZmlsZXMgPSBmaWxlcztcbiAgICAgICAgaWYgKHRoYXQub3B0aW9ucy5yZXBsYWNlRmlsZUlucHV0KSB7XG4gICAgICAgICAgdGhhdC5fcmVwbGFjZUZpbGVJbnB1dChkYXRhKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoXG4gICAgICAgICAgdGhhdC5fdHJpZ2dlcihcbiAgICAgICAgICAgICdjaGFuZ2UnLFxuICAgICAgICAgICAgJC5FdmVudCgnY2hhbmdlJywgeyBkZWxlZ2F0ZWRFdmVudDogZSB9KSxcbiAgICAgICAgICAgIGRhdGFcbiAgICAgICAgICApICE9PSBmYWxzZVxuICAgICAgICApIHtcbiAgICAgICAgICB0aGF0Ll9vbkFkZChlLCBkYXRhKTtcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgfSxcblxuICAgIF9vblBhc3RlOiBmdW5jdGlvbiAoZSkge1xuICAgICAgdmFyIGl0ZW1zID1cbiAgICAgICAgICBlLm9yaWdpbmFsRXZlbnQgJiZcbiAgICAgICAgICBlLm9yaWdpbmFsRXZlbnQuY2xpcGJvYXJkRGF0YSAmJlxuICAgICAgICAgIGUub3JpZ2luYWxFdmVudC5jbGlwYm9hcmREYXRhLml0ZW1zLFxuICAgICAgICBkYXRhID0geyBmaWxlczogW10gfTtcbiAgICAgIGlmIChpdGVtcyAmJiBpdGVtcy5sZW5ndGgpIHtcbiAgICAgICAgJC5lYWNoKGl0ZW1zLCBmdW5jdGlvbiAoaW5kZXgsIGl0ZW0pIHtcbiAgICAgICAgICB2YXIgZmlsZSA9IGl0ZW0uZ2V0QXNGaWxlICYmIGl0ZW0uZ2V0QXNGaWxlKCk7XG4gICAgICAgICAgaWYgKGZpbGUpIHtcbiAgICAgICAgICAgIGRhdGEuZmlsZXMucHVzaChmaWxlKTtcbiAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgICBpZiAoXG4gICAgICAgICAgdGhpcy5fdHJpZ2dlcihcbiAgICAgICAgICAgICdwYXN0ZScsXG4gICAgICAgICAgICAkLkV2ZW50KCdwYXN0ZScsIHsgZGVsZWdhdGVkRXZlbnQ6IGUgfSksXG4gICAgICAgICAgICBkYXRhXG4gICAgICAgICAgKSAhPT0gZmFsc2VcbiAgICAgICAgKSB7XG4gICAgICAgICAgdGhpcy5fb25BZGQoZSwgZGF0YSk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9LFxuXG4gICAgX29uRHJvcDogZnVuY3Rpb24gKGUpIHtcbiAgICAgIGUuZGF0YVRyYW5zZmVyID0gZS5vcmlnaW5hbEV2ZW50ICYmIGUub3JpZ2luYWxFdmVudC5kYXRhVHJhbnNmZXI7XG4gICAgICB2YXIgdGhhdCA9IHRoaXMsXG4gICAgICAgIGRhdGFUcmFuc2ZlciA9IGUuZGF0YVRyYW5zZmVyLFxuICAgICAgICBkYXRhID0ge307XG4gICAgICBpZiAoZGF0YVRyYW5zZmVyICYmIGRhdGFUcmFuc2Zlci5maWxlcyAmJiBkYXRhVHJhbnNmZXIuZmlsZXMubGVuZ3RoKSB7XG4gICAgICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgdGhpcy5fZ2V0RHJvcHBlZEZpbGVzKGRhdGFUcmFuc2ZlcikuYWx3YXlzKGZ1bmN0aW9uIChmaWxlcykge1xuICAgICAgICAgIGRhdGEuZmlsZXMgPSBmaWxlcztcbiAgICAgICAgICBpZiAoXG4gICAgICAgICAgICB0aGF0Ll90cmlnZ2VyKFxuICAgICAgICAgICAgICAnZHJvcCcsXG4gICAgICAgICAgICAgICQuRXZlbnQoJ2Ryb3AnLCB7IGRlbGVnYXRlZEV2ZW50OiBlIH0pLFxuICAgICAgICAgICAgICBkYXRhXG4gICAgICAgICAgICApICE9PSBmYWxzZVxuICAgICAgICAgICkge1xuICAgICAgICAgICAgdGhhdC5fb25BZGQoZSwgZGF0YSk7XG4gICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgIH1cbiAgICB9LFxuXG4gICAgX29uRHJhZ092ZXI6IGdldERyYWdIYW5kbGVyKCdkcmFnb3ZlcicpLFxuXG4gICAgX29uRHJhZ0VudGVyOiBnZXREcmFnSGFuZGxlcignZHJhZ2VudGVyJyksXG5cbiAgICBfb25EcmFnTGVhdmU6IGdldERyYWdIYW5kbGVyKCdkcmFnbGVhdmUnKSxcblxuICAgIF9pbml0RXZlbnRIYW5kbGVyczogZnVuY3Rpb24gKCkge1xuICAgICAgaWYgKHRoaXMuX2lzWEhSVXBsb2FkKHRoaXMub3B0aW9ucykpIHtcbiAgICAgICAgdGhpcy5fb24odGhpcy5vcHRpb25zLmRyb3Bab25lLCB7XG4gICAgICAgICAgZHJhZ292ZXI6IHRoaXMuX29uRHJhZ092ZXIsXG4gICAgICAgICAgZHJvcDogdGhpcy5fb25Ecm9wLFxuICAgICAgICAgIC8vIGV2ZW50LnByZXZlbnREZWZhdWx0KCkgb24gZHJhZ2VudGVyIGlzIHJlcXVpcmVkIGZvciBJRTEwKzpcbiAgICAgICAgICBkcmFnZW50ZXI6IHRoaXMuX29uRHJhZ0VudGVyLFxuICAgICAgICAgIC8vIGRyYWdsZWF2ZSBpcyBub3QgcmVxdWlyZWQsIGJ1dCBhZGRlZCBmb3IgY29tcGxldGVuZXNzOlxuICAgICAgICAgIGRyYWdsZWF2ZTogdGhpcy5fb25EcmFnTGVhdmVcbiAgICAgICAgfSk7XG4gICAgICAgIHRoaXMuX29uKHRoaXMub3B0aW9ucy5wYXN0ZVpvbmUsIHtcbiAgICAgICAgICBwYXN0ZTogdGhpcy5fb25QYXN0ZVxuICAgICAgICB9KTtcbiAgICAgIH1cbiAgICAgIGlmICgkLnN1cHBvcnQuZmlsZUlucHV0KSB7XG4gICAgICAgIHRoaXMuX29uKHRoaXMub3B0aW9ucy5maWxlSW5wdXQsIHtcbiAgICAgICAgICBjaGFuZ2U6IHRoaXMuX29uQ2hhbmdlXG4gICAgICAgIH0pO1xuICAgICAgfVxuICAgIH0sXG5cbiAgICBfZGVzdHJveUV2ZW50SGFuZGxlcnM6IGZ1bmN0aW9uICgpIHtcbiAgICAgIHRoaXMuX29mZih0aGlzLm9wdGlvbnMuZHJvcFpvbmUsICdkcmFnZW50ZXIgZHJhZ2xlYXZlIGRyYWdvdmVyIGRyb3AnKTtcbiAgICAgIHRoaXMuX29mZih0aGlzLm9wdGlvbnMucGFzdGVab25lLCAncGFzdGUnKTtcbiAgICAgIHRoaXMuX29mZih0aGlzLm9wdGlvbnMuZmlsZUlucHV0LCAnY2hhbmdlJyk7XG4gICAgfSxcblxuICAgIF9kZXN0cm95OiBmdW5jdGlvbiAoKSB7XG4gICAgICB0aGlzLl9kZXN0cm95RXZlbnRIYW5kbGVycygpO1xuICAgIH0sXG5cbiAgICBfc2V0T3B0aW9uOiBmdW5jdGlvbiAoa2V5LCB2YWx1ZSkge1xuICAgICAgdmFyIHJlaW5pdCA9ICQuaW5BcnJheShrZXksIHRoaXMuX3NwZWNpYWxPcHRpb25zKSAhPT0gLTE7XG4gICAgICBpZiAocmVpbml0KSB7XG4gICAgICAgIHRoaXMuX2Rlc3Ryb3lFdmVudEhhbmRsZXJzKCk7XG4gICAgICB9XG4gICAgICB0aGlzLl9zdXBlcihrZXksIHZhbHVlKTtcbiAgICAgIGlmIChyZWluaXQpIHtcbiAgICAgICAgdGhpcy5faW5pdFNwZWNpYWxPcHRpb25zKCk7XG4gICAgICAgIHRoaXMuX2luaXRFdmVudEhhbmRsZXJzKCk7XG4gICAgICB9XG4gICAgfSxcblxuICAgIF9pbml0U3BlY2lhbE9wdGlvbnM6IGZ1bmN0aW9uICgpIHtcbiAgICAgIHZhciBvcHRpb25zID0gdGhpcy5vcHRpb25zO1xuICAgICAgaWYgKG9wdGlvbnMuZmlsZUlucHV0ID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgb3B0aW9ucy5maWxlSW5wdXQgPSB0aGlzLmVsZW1lbnQuaXMoJ2lucHV0W3R5cGU9XCJmaWxlXCJdJylcbiAgICAgICAgICA/IHRoaXMuZWxlbWVudFxuICAgICAgICAgIDogdGhpcy5lbGVtZW50LmZpbmQoJ2lucHV0W3R5cGU9XCJmaWxlXCJdJyk7XG4gICAgICB9IGVsc2UgaWYgKCEob3B0aW9ucy5maWxlSW5wdXQgaW5zdGFuY2VvZiAkKSkge1xuICAgICAgICBvcHRpb25zLmZpbGVJbnB1dCA9ICQob3B0aW9ucy5maWxlSW5wdXQpO1xuICAgICAgfVxuICAgICAgaWYgKCEob3B0aW9ucy5kcm9wWm9uZSBpbnN0YW5jZW9mICQpKSB7XG4gICAgICAgIG9wdGlvbnMuZHJvcFpvbmUgPSAkKG9wdGlvbnMuZHJvcFpvbmUpO1xuICAgICAgfVxuICAgICAgaWYgKCEob3B0aW9ucy5wYXN0ZVpvbmUgaW5zdGFuY2VvZiAkKSkge1xuICAgICAgICBvcHRpb25zLnBhc3RlWm9uZSA9ICQob3B0aW9ucy5wYXN0ZVpvbmUpO1xuICAgICAgfVxuICAgIH0sXG5cbiAgICBfZ2V0UmVnRXhwOiBmdW5jdGlvbiAoc3RyKSB7XG4gICAgICB2YXIgcGFydHMgPSBzdHIuc3BsaXQoJy8nKSxcbiAgICAgICAgbW9kaWZpZXJzID0gcGFydHMucG9wKCk7XG4gICAgICBwYXJ0cy5zaGlmdCgpO1xuICAgICAgcmV0dXJuIG5ldyBSZWdFeHAocGFydHMuam9pbignLycpLCBtb2RpZmllcnMpO1xuICAgIH0sXG5cbiAgICBfaXNSZWdFeHBPcHRpb246IGZ1bmN0aW9uIChrZXksIHZhbHVlKSB7XG4gICAgICByZXR1cm4gKFxuICAgICAgICBrZXkgIT09ICd1cmwnICYmXG4gICAgICAgICQudHlwZSh2YWx1ZSkgPT09ICdzdHJpbmcnICYmXG4gICAgICAgIC9eXFwvLipcXC9baWdtXXswLDN9JC8udGVzdCh2YWx1ZSlcbiAgICAgICk7XG4gICAgfSxcblxuICAgIF9pbml0RGF0YUF0dHJpYnV0ZXM6IGZ1bmN0aW9uICgpIHtcbiAgICAgIHZhciB0aGF0ID0gdGhpcyxcbiAgICAgICAgb3B0aW9ucyA9IHRoaXMub3B0aW9ucyxcbiAgICAgICAgZGF0YSA9IHRoaXMuZWxlbWVudC5kYXRhKCk7XG4gICAgICAvLyBJbml0aWFsaXplIG9wdGlvbnMgc2V0IHZpYSBIVE1MNSBkYXRhLWF0dHJpYnV0ZXM6XG4gICAgICAkLmVhY2godGhpcy5lbGVtZW50WzBdLmF0dHJpYnV0ZXMsIGZ1bmN0aW9uIChpbmRleCwgYXR0cikge1xuICAgICAgICB2YXIga2V5ID0gYXR0ci5uYW1lLnRvTG93ZXJDYXNlKCksXG4gICAgICAgICAgdmFsdWU7XG4gICAgICAgIGlmICgvXmRhdGEtLy50ZXN0KGtleSkpIHtcbiAgICAgICAgICAvLyBDb252ZXJ0IGh5cGhlbi1hdGVkIGtleSB0byBjYW1lbENhc2U6XG4gICAgICAgICAga2V5ID0ga2V5LnNsaWNlKDUpLnJlcGxhY2UoLy1bYS16XS9nLCBmdW5jdGlvbiAoc3RyKSB7XG4gICAgICAgICAgICByZXR1cm4gc3RyLmNoYXJBdCgxKS50b1VwcGVyQ2FzZSgpO1xuICAgICAgICAgIH0pO1xuICAgICAgICAgIHZhbHVlID0gZGF0YVtrZXldO1xuICAgICAgICAgIGlmICh0aGF0Ll9pc1JlZ0V4cE9wdGlvbihrZXksIHZhbHVlKSkge1xuICAgICAgICAgICAgdmFsdWUgPSB0aGF0Ll9nZXRSZWdFeHAodmFsdWUpO1xuICAgICAgICAgIH1cbiAgICAgICAgICBvcHRpb25zW2tleV0gPSB2YWx1ZTtcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgfSxcblxuICAgIF9jcmVhdGU6IGZ1bmN0aW9uICgpIHtcbiAgICAgIHRoaXMuX2luaXREYXRhQXR0cmlidXRlcygpO1xuICAgICAgdGhpcy5faW5pdFNwZWNpYWxPcHRpb25zKCk7XG4gICAgICB0aGlzLl9zbG90cyA9IFtdO1xuICAgICAgdGhpcy5fc2VxdWVuY2UgPSB0aGlzLl9nZXRYSFJQcm9taXNlKHRydWUpO1xuICAgICAgdGhpcy5fc2VuZGluZyA9IHRoaXMuX2FjdGl2ZSA9IDA7XG4gICAgICB0aGlzLl9pbml0UHJvZ3Jlc3NPYmplY3QodGhpcyk7XG4gICAgICB0aGlzLl9pbml0RXZlbnRIYW5kbGVycygpO1xuICAgIH0sXG5cbiAgICAvLyBUaGlzIG1ldGhvZCBpcyBleHBvc2VkIHRvIHRoZSB3aWRnZXQgQVBJIGFuZCBhbGxvd3MgdG8gcXVlcnlcbiAgICAvLyB0aGUgbnVtYmVyIG9mIGFjdGl2ZSB1cGxvYWRzOlxuICAgIGFjdGl2ZTogZnVuY3Rpb24gKCkge1xuICAgICAgcmV0dXJuIHRoaXMuX2FjdGl2ZTtcbiAgICB9LFxuXG4gICAgLy8gVGhpcyBtZXRob2QgaXMgZXhwb3NlZCB0byB0aGUgd2lkZ2V0IEFQSSBhbmQgYWxsb3dzIHRvIHF1ZXJ5XG4gICAgLy8gdGhlIHdpZGdldCB1cGxvYWQgcHJvZ3Jlc3MuXG4gICAgLy8gSXQgcmV0dXJucyBhbiBvYmplY3Qgd2l0aCBsb2FkZWQsIHRvdGFsIGFuZCBiaXRyYXRlIHByb3BlcnRpZXNcbiAgICAvLyBmb3IgdGhlIHJ1bm5pbmcgdXBsb2FkczpcbiAgICBwcm9ncmVzczogZnVuY3Rpb24gKCkge1xuICAgICAgcmV0dXJuIHRoaXMuX3Byb2dyZXNzO1xuICAgIH0sXG5cbiAgICAvLyBUaGlzIG1ldGhvZCBpcyBleHBvc2VkIHRvIHRoZSB3aWRnZXQgQVBJIGFuZCBhbGxvd3MgYWRkaW5nIGZpbGVzXG4gICAgLy8gdXNpbmcgdGhlIGZpbGV1cGxvYWQgQVBJLiBUaGUgZGF0YSBwYXJhbWV0ZXIgYWNjZXB0cyBhbiBvYmplY3Qgd2hpY2hcbiAgICAvLyBtdXN0IGhhdmUgYSBmaWxlcyBwcm9wZXJ0eSBhbmQgY2FuIGNvbnRhaW4gYWRkaXRpb25hbCBvcHRpb25zOlxuICAgIC8vIC5maWxldXBsb2FkKCdhZGQnLCB7ZmlsZXM6IGZpbGVzTGlzdH0pO1xuICAgIGFkZDogZnVuY3Rpb24gKGRhdGEpIHtcbiAgICAgIHZhciB0aGF0ID0gdGhpcztcbiAgICAgIGlmICghZGF0YSB8fCB0aGlzLm9wdGlvbnMuZGlzYWJsZWQpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgaWYgKGRhdGEuZmlsZUlucHV0ICYmICFkYXRhLmZpbGVzKSB7XG4gICAgICAgIHRoaXMuX2dldEZpbGVJbnB1dEZpbGVzKGRhdGEuZmlsZUlucHV0KS5hbHdheXMoZnVuY3Rpb24gKGZpbGVzKSB7XG4gICAgICAgICAgZGF0YS5maWxlcyA9IGZpbGVzO1xuICAgICAgICAgIHRoYXQuX29uQWRkKG51bGwsIGRhdGEpO1xuICAgICAgICB9KTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGRhdGEuZmlsZXMgPSAkLm1ha2VBcnJheShkYXRhLmZpbGVzKTtcbiAgICAgICAgdGhpcy5fb25BZGQobnVsbCwgZGF0YSk7XG4gICAgICB9XG4gICAgfSxcblxuICAgIC8vIFRoaXMgbWV0aG9kIGlzIGV4cG9zZWQgdG8gdGhlIHdpZGdldCBBUEkgYW5kIGFsbG93cyBzZW5kaW5nIGZpbGVzXG4gICAgLy8gdXNpbmcgdGhlIGZpbGV1cGxvYWQgQVBJLiBUaGUgZGF0YSBwYXJhbWV0ZXIgYWNjZXB0cyBhbiBvYmplY3Qgd2hpY2hcbiAgICAvLyBtdXN0IGhhdmUgYSBmaWxlcyBvciBmaWxlSW5wdXQgcHJvcGVydHkgYW5kIGNhbiBjb250YWluIGFkZGl0aW9uYWwgb3B0aW9uczpcbiAgICAvLyAuZmlsZXVwbG9hZCgnc2VuZCcsIHtmaWxlczogZmlsZXNMaXN0fSk7XG4gICAgLy8gVGhlIG1ldGhvZCByZXR1cm5zIGEgUHJvbWlzZSBvYmplY3QgZm9yIHRoZSBmaWxlIHVwbG9hZCBjYWxsLlxuICAgIHNlbmQ6IGZ1bmN0aW9uIChkYXRhKSB7XG4gICAgICBpZiAoZGF0YSAmJiAhdGhpcy5vcHRpb25zLmRpc2FibGVkKSB7XG4gICAgICAgIGlmIChkYXRhLmZpbGVJbnB1dCAmJiAhZGF0YS5maWxlcykge1xuICAgICAgICAgIHZhciB0aGF0ID0gdGhpcyxcbiAgICAgICAgICAgIGRmZCA9ICQuRGVmZXJyZWQoKSxcbiAgICAgICAgICAgIHByb21pc2UgPSBkZmQucHJvbWlzZSgpLFxuICAgICAgICAgICAganFYSFIsXG4gICAgICAgICAgICBhYm9ydGVkO1xuICAgICAgICAgIHByb21pc2UuYWJvcnQgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICBhYm9ydGVkID0gdHJ1ZTtcbiAgICAgICAgICAgIGlmIChqcVhIUikge1xuICAgICAgICAgICAgICByZXR1cm4ganFYSFIuYWJvcnQoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGRmZC5yZWplY3QobnVsbCwgJ2Fib3J0JywgJ2Fib3J0Jyk7XG4gICAgICAgICAgICByZXR1cm4gcHJvbWlzZTtcbiAgICAgICAgICB9O1xuICAgICAgICAgIHRoaXMuX2dldEZpbGVJbnB1dEZpbGVzKGRhdGEuZmlsZUlucHV0KS5hbHdheXMoZnVuY3Rpb24gKGZpbGVzKSB7XG4gICAgICAgICAgICBpZiAoYWJvcnRlZCkge1xuICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoIWZpbGVzLmxlbmd0aCkge1xuICAgICAgICAgICAgICBkZmQucmVqZWN0KCk7XG4gICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGRhdGEuZmlsZXMgPSBmaWxlcztcbiAgICAgICAgICAgIGpxWEhSID0gdGhhdC5fb25TZW5kKG51bGwsIGRhdGEpO1xuICAgICAgICAgICAganFYSFIudGhlbihcbiAgICAgICAgICAgICAgZnVuY3Rpb24gKHJlc3VsdCwgdGV4dFN0YXR1cywganFYSFIpIHtcbiAgICAgICAgICAgICAgICBkZmQucmVzb2x2ZShyZXN1bHQsIHRleHRTdGF0dXMsIGpxWEhSKTtcbiAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgZnVuY3Rpb24gKGpxWEhSLCB0ZXh0U3RhdHVzLCBlcnJvclRocm93bikge1xuICAgICAgICAgICAgICAgIGRmZC5yZWplY3QoanFYSFIsIHRleHRTdGF0dXMsIGVycm9yVGhyb3duKTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgKTtcbiAgICAgICAgICB9KTtcbiAgICAgICAgICByZXR1cm4gdGhpcy5fZW5oYW5jZVByb21pc2UocHJvbWlzZSk7XG4gICAgICAgIH1cbiAgICAgICAgZGF0YS5maWxlcyA9ICQubWFrZUFycmF5KGRhdGEuZmlsZXMpO1xuICAgICAgICBpZiAoZGF0YS5maWxlcy5sZW5ndGgpIHtcbiAgICAgICAgICByZXR1cm4gdGhpcy5fb25TZW5kKG51bGwsIGRhdGEpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICByZXR1cm4gdGhpcy5fZ2V0WEhSUHJvbWlzZShmYWxzZSwgZGF0YSAmJiBkYXRhLmNvbnRleHQpO1xuICAgIH1cbiAgfSk7XG59KTtcbiIsIi8qXG4gKiBqUXVlcnkgSWZyYW1lIFRyYW5zcG9ydCBQbHVnaW5cbiAqIGh0dHBzOi8vZ2l0aHViLmNvbS9ibHVlaW1wL2pRdWVyeS1GaWxlLVVwbG9hZFxuICpcbiAqIENvcHlyaWdodCAyMDExLCBTZWJhc3RpYW4gVHNjaGFuXG4gKiBodHRwczovL2JsdWVpbXAubmV0XG4gKlxuICogTGljZW5zZWQgdW5kZXIgdGhlIE1JVCBsaWNlbnNlOlxuICogaHR0cHM6Ly9vcGVuc291cmNlLm9yZy9saWNlbnNlcy9NSVRcbiAqL1xuXG4vKiBnbG9iYWwgZGVmaW5lLCByZXF1aXJlICovXG5cbihmdW5jdGlvbiAoZmFjdG9yeSkge1xuICAndXNlIHN0cmljdCc7XG4gIGlmICh0eXBlb2YgZGVmaW5lID09PSAnZnVuY3Rpb24nICYmIGRlZmluZS5hbWQpIHtcbiAgICAvLyBSZWdpc3RlciBhcyBhbiBhbm9ueW1vdXMgQU1EIG1vZHVsZTpcbiAgICBkZWZpbmUoWydqcXVlcnknXSwgZmFjdG9yeSk7XG4gIH0gZWxzZSBpZiAodHlwZW9mIGV4cG9ydHMgPT09ICdvYmplY3QnKSB7XG4gICAgLy8gTm9kZS9Db21tb25KUzpcbiAgICBmYWN0b3J5KHJlcXVpcmUoJ2pxdWVyeScpKTtcbiAgfSBlbHNlIHtcbiAgICAvLyBCcm93c2VyIGdsb2JhbHM6XG4gICAgZmFjdG9yeSh3aW5kb3cualF1ZXJ5KTtcbiAgfVxufSkoZnVuY3Rpb24gKCQpIHtcbiAgJ3VzZSBzdHJpY3QnO1xuXG4gIC8vIEhlbHBlciB2YXJpYWJsZSB0byBjcmVhdGUgdW5pcXVlIG5hbWVzIGZvciB0aGUgdHJhbnNwb3J0IGlmcmFtZXM6XG4gIHZhciBjb3VudGVyID0gMCxcbiAgICBqc29uQVBJID0gJCxcbiAgICBqc29uUGFyc2UgPSAncGFyc2VKU09OJztcblxuICBpZiAoJ0pTT04nIGluIHdpbmRvdyAmJiAncGFyc2UnIGluIEpTT04pIHtcbiAgICBqc29uQVBJID0gSlNPTjtcbiAgICBqc29uUGFyc2UgPSAncGFyc2UnO1xuICB9XG5cbiAgLy8gVGhlIGlmcmFtZSB0cmFuc3BvcnQgYWNjZXB0cyBmb3VyIGFkZGl0aW9uYWwgb3B0aW9uczpcbiAgLy8gb3B0aW9ucy5maWxlSW5wdXQ6IGEgalF1ZXJ5IGNvbGxlY3Rpb24gb2YgZmlsZSBpbnB1dCBmaWVsZHNcbiAgLy8gb3B0aW9ucy5wYXJhbU5hbWU6IHRoZSBwYXJhbWV0ZXIgbmFtZSBmb3IgdGhlIGZpbGUgZm9ybSBkYXRhLFxuICAvLyAgb3ZlcnJpZGVzIHRoZSBuYW1lIHByb3BlcnR5IG9mIHRoZSBmaWxlIGlucHV0IGZpZWxkKHMpLFxuICAvLyAgY2FuIGJlIGEgc3RyaW5nIG9yIGFuIGFycmF5IG9mIHN0cmluZ3MuXG4gIC8vIG9wdGlvbnMuZm9ybURhdGE6IGFuIGFycmF5IG9mIG9iamVjdHMgd2l0aCBuYW1lIGFuZCB2YWx1ZSBwcm9wZXJ0aWVzLFxuICAvLyAgZXF1aXZhbGVudCB0byB0aGUgcmV0dXJuIGRhdGEgb2YgLnNlcmlhbGl6ZUFycmF5KCksIGUuZy46XG4gIC8vICBbe25hbWU6ICdhJywgdmFsdWU6IDF9LCB7bmFtZTogJ2InLCB2YWx1ZTogMn1dXG4gIC8vIG9wdGlvbnMuaW5pdGlhbElmcmFtZVNyYzogdGhlIFVSTCBvZiB0aGUgaW5pdGlhbCBpZnJhbWUgc3JjLFxuICAvLyAgYnkgZGVmYXVsdCBzZXQgdG8gXCJqYXZhc2NyaXB0OmZhbHNlO1wiXG4gICQuYWpheFRyYW5zcG9ydCgnaWZyYW1lJywgZnVuY3Rpb24gKG9wdGlvbnMpIHtcbiAgICBpZiAob3B0aW9ucy5hc3luYykge1xuICAgICAgLy8gamF2YXNjcmlwdDpmYWxzZSBhcyBpbml0aWFsIGlmcmFtZSBzcmNcbiAgICAgIC8vIHByZXZlbnRzIHdhcm5pbmcgcG9wdXBzIG9uIEhUVFBTIGluIElFNjpcbiAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby1zY3JpcHQtdXJsXG4gICAgICB2YXIgaW5pdGlhbElmcmFtZVNyYyA9IG9wdGlvbnMuaW5pdGlhbElmcmFtZVNyYyB8fCAnamF2YXNjcmlwdDpmYWxzZTsnLFxuICAgICAgICBmb3JtLFxuICAgICAgICBpZnJhbWUsXG4gICAgICAgIGFkZFBhcmFtQ2hhcjtcbiAgICAgIHJldHVybiB7XG4gICAgICAgIHNlbmQ6IGZ1bmN0aW9uIChfLCBjb21wbGV0ZUNhbGxiYWNrKSB7XG4gICAgICAgICAgZm9ybSA9ICQoJzxmb3JtIHN0eWxlPVwiZGlzcGxheTpub25lO1wiPjwvZm9ybT4nKTtcbiAgICAgICAgICBmb3JtLmF0dHIoJ2FjY2VwdC1jaGFyc2V0Jywgb3B0aW9ucy5mb3JtQWNjZXB0Q2hhcnNldCk7XG4gICAgICAgICAgYWRkUGFyYW1DaGFyID0gL1xcPy8udGVzdChvcHRpb25zLnVybCkgPyAnJicgOiAnPyc7XG4gICAgICAgICAgLy8gWERvbWFpblJlcXVlc3Qgb25seSBzdXBwb3J0cyBHRVQgYW5kIFBPU1Q6XG4gICAgICAgICAgaWYgKG9wdGlvbnMudHlwZSA9PT0gJ0RFTEVURScpIHtcbiAgICAgICAgICAgIG9wdGlvbnMudXJsID0gb3B0aW9ucy51cmwgKyBhZGRQYXJhbUNoYXIgKyAnX21ldGhvZD1ERUxFVEUnO1xuICAgICAgICAgICAgb3B0aW9ucy50eXBlID0gJ1BPU1QnO1xuICAgICAgICAgIH0gZWxzZSBpZiAob3B0aW9ucy50eXBlID09PSAnUFVUJykge1xuICAgICAgICAgICAgb3B0aW9ucy51cmwgPSBvcHRpb25zLnVybCArIGFkZFBhcmFtQ2hhciArICdfbWV0aG9kPVBVVCc7XG4gICAgICAgICAgICBvcHRpb25zLnR5cGUgPSAnUE9TVCc7XG4gICAgICAgICAgfSBlbHNlIGlmIChvcHRpb25zLnR5cGUgPT09ICdQQVRDSCcpIHtcbiAgICAgICAgICAgIG9wdGlvbnMudXJsID0gb3B0aW9ucy51cmwgKyBhZGRQYXJhbUNoYXIgKyAnX21ldGhvZD1QQVRDSCc7XG4gICAgICAgICAgICBvcHRpb25zLnR5cGUgPSAnUE9TVCc7XG4gICAgICAgICAgfVxuICAgICAgICAgIC8vIElFIHZlcnNpb25zIGJlbG93IElFOCBjYW5ub3Qgc2V0IHRoZSBuYW1lIHByb3BlcnR5IG9mXG4gICAgICAgICAgLy8gZWxlbWVudHMgdGhhdCBoYXZlIGFscmVhZHkgYmVlbiBhZGRlZCB0byB0aGUgRE9NLFxuICAgICAgICAgIC8vIHNvIHdlIHNldCB0aGUgbmFtZSBhbG9uZyB3aXRoIHRoZSBpZnJhbWUgSFRNTCBtYXJrdXA6XG4gICAgICAgICAgY291bnRlciArPSAxO1xuICAgICAgICAgIGlmcmFtZSA9ICQoXG4gICAgICAgICAgICAnPGlmcmFtZSBzcmM9XCInICtcbiAgICAgICAgICAgICAgaW5pdGlhbElmcmFtZVNyYyArXG4gICAgICAgICAgICAgICdcIiBuYW1lPVwiaWZyYW1lLXRyYW5zcG9ydC0nICtcbiAgICAgICAgICAgICAgY291bnRlciArXG4gICAgICAgICAgICAgICdcIj48L2lmcmFtZT4nXG4gICAgICAgICAgKS5vbignbG9hZCcsIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHZhciBmaWxlSW5wdXRDbG9uZXMsXG4gICAgICAgICAgICAgIHBhcmFtTmFtZXMgPSAkLmlzQXJyYXkob3B0aW9ucy5wYXJhbU5hbWUpXG4gICAgICAgICAgICAgICAgPyBvcHRpb25zLnBhcmFtTmFtZVxuICAgICAgICAgICAgICAgIDogW29wdGlvbnMucGFyYW1OYW1lXTtcbiAgICAgICAgICAgIGlmcmFtZS5vZmYoJ2xvYWQnKS5vbignbG9hZCcsIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgdmFyIHJlc3BvbnNlO1xuICAgICAgICAgICAgICAvLyBXcmFwIGluIGEgdHJ5L2NhdGNoIGJsb2NrIHRvIGNhdGNoIGV4Y2VwdGlvbnMgdGhyb3duXG4gICAgICAgICAgICAgIC8vIHdoZW4gdHJ5aW5nIHRvIGFjY2VzcyBjcm9zcy1kb21haW4gaWZyYW1lIGNvbnRlbnRzOlxuICAgICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgIHJlc3BvbnNlID0gaWZyYW1lLmNvbnRlbnRzKCk7XG4gICAgICAgICAgICAgICAgLy8gR29vZ2xlIENocm9tZSBhbmQgRmlyZWZveCBkbyBub3QgdGhyb3cgYW5cbiAgICAgICAgICAgICAgICAvLyBleGNlcHRpb24gd2hlbiBjYWxsaW5nIGlmcmFtZS5jb250ZW50cygpIG9uXG4gICAgICAgICAgICAgICAgLy8gY3Jvc3MtZG9tYWluIHJlcXVlc3RzLCBzbyB3ZSB1bmlmeSB0aGUgcmVzcG9uc2U6XG4gICAgICAgICAgICAgICAgaWYgKCFyZXNwb25zZS5sZW5ndGggfHwgIXJlc3BvbnNlWzBdLmZpcnN0Q2hpbGQpIHtcbiAgICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcigpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgfSBjYXRjaCAoZSkge1xuICAgICAgICAgICAgICAgIHJlc3BvbnNlID0gdW5kZWZpbmVkO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIC8vIFRoZSBjb21wbGV0ZSBjYWxsYmFjayByZXR1cm5zIHRoZVxuICAgICAgICAgICAgICAvLyBpZnJhbWUgY29udGVudCBkb2N1bWVudCBhcyByZXNwb25zZSBvYmplY3Q6XG4gICAgICAgICAgICAgIGNvbXBsZXRlQ2FsbGJhY2soMjAwLCAnc3VjY2VzcycsIHsgaWZyYW1lOiByZXNwb25zZSB9KTtcbiAgICAgICAgICAgICAgLy8gRml4IGZvciBJRSBlbmRsZXNzIHByb2dyZXNzIGJhciBhY3Rpdml0eSBidWdcbiAgICAgICAgICAgICAgLy8gKGhhcHBlbnMgb24gZm9ybSBzdWJtaXRzIHRvIGlmcmFtZSB0YXJnZXRzKTpcbiAgICAgICAgICAgICAgJCgnPGlmcmFtZSBzcmM9XCInICsgaW5pdGlhbElmcmFtZVNyYyArICdcIj48L2lmcmFtZT4nKS5hcHBlbmRUbyhcbiAgICAgICAgICAgICAgICBmb3JtXG4gICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgIHdpbmRvdy5zZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICAvLyBSZW1vdmluZyB0aGUgZm9ybSBpbiBhIHNldFRpbWVvdXQgY2FsbFxuICAgICAgICAgICAgICAgIC8vIGFsbG93cyBDaHJvbWUncyBkZXZlbG9wZXIgdG9vbHMgdG8gZGlzcGxheVxuICAgICAgICAgICAgICAgIC8vIHRoZSByZXNwb25zZSByZXN1bHRcbiAgICAgICAgICAgICAgICBmb3JtLnJlbW92ZSgpO1xuICAgICAgICAgICAgICB9LCAwKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgZm9ybVxuICAgICAgICAgICAgICAucHJvcCgndGFyZ2V0JywgaWZyYW1lLnByb3AoJ25hbWUnKSlcbiAgICAgICAgICAgICAgLnByb3AoJ2FjdGlvbicsIG9wdGlvbnMudXJsKVxuICAgICAgICAgICAgICAucHJvcCgnbWV0aG9kJywgb3B0aW9ucy50eXBlKTtcbiAgICAgICAgICAgIGlmIChvcHRpb25zLmZvcm1EYXRhKSB7XG4gICAgICAgICAgICAgICQuZWFjaChvcHRpb25zLmZvcm1EYXRhLCBmdW5jdGlvbiAoaW5kZXgsIGZpZWxkKSB7XG4gICAgICAgICAgICAgICAgJCgnPGlucHV0IHR5cGU9XCJoaWRkZW5cIi8+JylcbiAgICAgICAgICAgICAgICAgIC5wcm9wKCduYW1lJywgZmllbGQubmFtZSlcbiAgICAgICAgICAgICAgICAgIC52YWwoZmllbGQudmFsdWUpXG4gICAgICAgICAgICAgICAgICAuYXBwZW5kVG8oZm9ybSk7XG4gICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKFxuICAgICAgICAgICAgICBvcHRpb25zLmZpbGVJbnB1dCAmJlxuICAgICAgICAgICAgICBvcHRpb25zLmZpbGVJbnB1dC5sZW5ndGggJiZcbiAgICAgICAgICAgICAgb3B0aW9ucy50eXBlID09PSAnUE9TVCdcbiAgICAgICAgICAgICkge1xuICAgICAgICAgICAgICBmaWxlSW5wdXRDbG9uZXMgPSBvcHRpb25zLmZpbGVJbnB1dC5jbG9uZSgpO1xuICAgICAgICAgICAgICAvLyBJbnNlcnQgYSBjbG9uZSBmb3IgZWFjaCBmaWxlIGlucHV0IGZpZWxkOlxuICAgICAgICAgICAgICBvcHRpb25zLmZpbGVJbnB1dC5hZnRlcihmdW5jdGlvbiAoaW5kZXgpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gZmlsZUlucHV0Q2xvbmVzW2luZGV4XTtcbiAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgIGlmIChvcHRpb25zLnBhcmFtTmFtZSkge1xuICAgICAgICAgICAgICAgIG9wdGlvbnMuZmlsZUlucHV0LmVhY2goZnVuY3Rpb24gKGluZGV4KSB7XG4gICAgICAgICAgICAgICAgICAkKHRoaXMpLnByb3AoJ25hbWUnLCBwYXJhbU5hbWVzW2luZGV4XSB8fCBvcHRpb25zLnBhcmFtTmFtZSk7XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgLy8gQXBwZW5kaW5nIHRoZSBmaWxlIGlucHV0IGZpZWxkcyB0byB0aGUgaGlkZGVuIGZvcm1cbiAgICAgICAgICAgICAgLy8gcmVtb3ZlcyB0aGVtIGZyb20gdGhlaXIgb3JpZ2luYWwgbG9jYXRpb246XG4gICAgICAgICAgICAgIGZvcm1cbiAgICAgICAgICAgICAgICAuYXBwZW5kKG9wdGlvbnMuZmlsZUlucHV0KVxuICAgICAgICAgICAgICAgIC5wcm9wKCdlbmN0eXBlJywgJ211bHRpcGFydC9mb3JtLWRhdGEnKVxuICAgICAgICAgICAgICAgIC8vIGVuY3R5cGUgbXVzdCBiZSBzZXQgYXMgZW5jb2RpbmcgZm9yIElFOlxuICAgICAgICAgICAgICAgIC5wcm9wKCdlbmNvZGluZycsICdtdWx0aXBhcnQvZm9ybS1kYXRhJyk7XG4gICAgICAgICAgICAgIC8vIFJlbW92ZSB0aGUgSFRNTDUgZm9ybSBhdHRyaWJ1dGUgZnJvbSB0aGUgaW5wdXQocyk6XG4gICAgICAgICAgICAgIG9wdGlvbnMuZmlsZUlucHV0LnJlbW92ZUF0dHIoJ2Zvcm0nKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHdpbmRvdy5zZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgLy8gU3VibWl0dGluZyB0aGUgZm9ybSBpbiBhIHNldFRpbWVvdXQgY2FsbCBmaXhlcyBhbiBpc3N1ZSB3aXRoXG4gICAgICAgICAgICAgIC8vIFNhZmFyaSAxMyBub3QgdHJpZ2dlcmluZyB0aGUgaWZyYW1lIGxvYWQgZXZlbnQgYWZ0ZXIgcmVzZXR0aW5nXG4gICAgICAgICAgICAgIC8vIHRoZSBsb2FkIGV2ZW50IGhhbmRsZXIsIHNlZSBhbHNvOlxuICAgICAgICAgICAgICAvLyBodHRwczovL2dpdGh1Yi5jb20vYmx1ZWltcC9qUXVlcnktRmlsZS1VcGxvYWQvaXNzdWVzLzM2MzNcbiAgICAgICAgICAgICAgZm9ybS5zdWJtaXQoKTtcbiAgICAgICAgICAgICAgLy8gSW5zZXJ0IHRoZSBmaWxlIGlucHV0IGZpZWxkcyBhdCB0aGVpciBvcmlnaW5hbCBsb2NhdGlvblxuICAgICAgICAgICAgICAvLyBieSByZXBsYWNpbmcgdGhlIGNsb25lcyB3aXRoIHRoZSBvcmlnaW5hbHM6XG4gICAgICAgICAgICAgIGlmIChmaWxlSW5wdXRDbG9uZXMgJiYgZmlsZUlucHV0Q2xvbmVzLmxlbmd0aCkge1xuICAgICAgICAgICAgICAgIG9wdGlvbnMuZmlsZUlucHV0LmVhY2goZnVuY3Rpb24gKGluZGV4LCBpbnB1dCkge1xuICAgICAgICAgICAgICAgICAgdmFyIGNsb25lID0gJChmaWxlSW5wdXRDbG9uZXNbaW5kZXhdKTtcbiAgICAgICAgICAgICAgICAgIC8vIFJlc3RvcmUgdGhlIG9yaWdpbmFsIG5hbWUgYW5kIGZvcm0gcHJvcGVydGllczpcbiAgICAgICAgICAgICAgICAgICQoaW5wdXQpXG4gICAgICAgICAgICAgICAgICAgIC5wcm9wKCduYW1lJywgY2xvbmUucHJvcCgnbmFtZScpKVxuICAgICAgICAgICAgICAgICAgICAuYXR0cignZm9ybScsIGNsb25lLmF0dHIoJ2Zvcm0nKSk7XG4gICAgICAgICAgICAgICAgICBjbG9uZS5yZXBsYWNlV2l0aChpbnB1dCk7XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0sIDApO1xuICAgICAgICAgIH0pO1xuICAgICAgICAgIGZvcm0uYXBwZW5kKGlmcmFtZSkuYXBwZW5kVG8oZG9jdW1lbnQuYm9keSk7XG4gICAgICAgIH0sXG4gICAgICAgIGFib3J0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgaWYgKGlmcmFtZSkge1xuICAgICAgICAgICAgLy8gamF2YXNjcmlwdDpmYWxzZSBhcyBpZnJhbWUgc3JjIGFib3J0cyB0aGUgcmVxdWVzdFxuICAgICAgICAgICAgLy8gYW5kIHByZXZlbnRzIHdhcm5pbmcgcG9wdXBzIG9uIEhUVFBTIGluIElFNi5cbiAgICAgICAgICAgIGlmcmFtZS5vZmYoJ2xvYWQnKS5wcm9wKCdzcmMnLCBpbml0aWFsSWZyYW1lU3JjKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgaWYgKGZvcm0pIHtcbiAgICAgICAgICAgIGZvcm0ucmVtb3ZlKCk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9O1xuICAgIH1cbiAgfSk7XG5cbiAgLy8gVGhlIGlmcmFtZSB0cmFuc3BvcnQgcmV0dXJucyB0aGUgaWZyYW1lIGNvbnRlbnQgZG9jdW1lbnQgYXMgcmVzcG9uc2UuXG4gIC8vIFRoZSBmb2xsb3dpbmcgYWRkcyBjb252ZXJ0ZXJzIGZyb20gaWZyYW1lIHRvIHRleHQsIGpzb24sIGh0bWwsIHhtbFxuICAvLyBhbmQgc2NyaXB0LlxuICAvLyBQbGVhc2Ugbm90ZSB0aGF0IHRoZSBDb250ZW50LVR5cGUgZm9yIEpTT04gcmVzcG9uc2VzIGhhcyB0byBiZSB0ZXh0L3BsYWluXG4gIC8vIG9yIHRleHQvaHRtbCwgaWYgdGhlIGJyb3dzZXIgZG9lc24ndCBpbmNsdWRlIGFwcGxpY2F0aW9uL2pzb24gaW4gdGhlXG4gIC8vIEFjY2VwdCBoZWFkZXIsIGVsc2UgSUUgd2lsbCBzaG93IGEgZG93bmxvYWQgZGlhbG9nLlxuICAvLyBUaGUgQ29udGVudC1UeXBlIGZvciBYTUwgcmVzcG9uc2VzIG9uIHRoZSBvdGhlciBoYW5kIGhhcyB0byBiZSBhbHdheXNcbiAgLy8gYXBwbGljYXRpb24veG1sIG9yIHRleHQveG1sLCBzbyBJRSBwcm9wZXJseSBwYXJzZXMgdGhlIFhNTCByZXNwb25zZS5cbiAgLy8gU2VlIGFsc29cbiAgLy8gaHR0cHM6Ly9naXRodWIuY29tL2JsdWVpbXAvalF1ZXJ5LUZpbGUtVXBsb2FkL3dpa2kvU2V0dXAjY29udGVudC10eXBlLW5lZ290aWF0aW9uXG4gICQuYWpheFNldHVwKHtcbiAgICBjb252ZXJ0ZXJzOiB7XG4gICAgICAnaWZyYW1lIHRleHQnOiBmdW5jdGlvbiAoaWZyYW1lKSB7XG4gICAgICAgIHJldHVybiBpZnJhbWUgJiYgJChpZnJhbWVbMF0uYm9keSkudGV4dCgpO1xuICAgICAgfSxcbiAgICAgICdpZnJhbWUganNvbic6IGZ1bmN0aW9uIChpZnJhbWUpIHtcbiAgICAgICAgcmV0dXJuIGlmcmFtZSAmJiBqc29uQVBJW2pzb25QYXJzZV0oJChpZnJhbWVbMF0uYm9keSkudGV4dCgpKTtcbiAgICAgIH0sXG4gICAgICAnaWZyYW1lIGh0bWwnOiBmdW5jdGlvbiAoaWZyYW1lKSB7XG4gICAgICAgIHJldHVybiBpZnJhbWUgJiYgJChpZnJhbWVbMF0uYm9keSkuaHRtbCgpO1xuICAgICAgfSxcbiAgICAgICdpZnJhbWUgeG1sJzogZnVuY3Rpb24gKGlmcmFtZSkge1xuICAgICAgICB2YXIgeG1sRG9jID0gaWZyYW1lICYmIGlmcmFtZVswXTtcbiAgICAgICAgcmV0dXJuIHhtbERvYyAmJiAkLmlzWE1MRG9jKHhtbERvYylcbiAgICAgICAgICA/IHhtbERvY1xuICAgICAgICAgIDogJC5wYXJzZVhNTChcbiAgICAgICAgICAgICAgKHhtbERvYy5YTUxEb2N1bWVudCAmJiB4bWxEb2MuWE1MRG9jdW1lbnQueG1sKSB8fFxuICAgICAgICAgICAgICAgICQoeG1sRG9jLmJvZHkpLmh0bWwoKVxuICAgICAgICAgICAgKTtcbiAgICAgIH0sXG4gICAgICAnaWZyYW1lIHNjcmlwdCc6IGZ1bmN0aW9uIChpZnJhbWUpIHtcbiAgICAgICAgcmV0dXJuIGlmcmFtZSAmJiAkLmdsb2JhbEV2YWwoJChpZnJhbWVbMF0uYm9keSkudGV4dCgpKTtcbiAgICAgIH1cbiAgICB9XG4gIH0pO1xufSk7XG4iXX0=
